{"version":3,"sources":["webpack:///src/app/screens/screens-tabs/profile/profile.page.html","webpack:///src/app/screens/screens-tabs/profile/profile-routing.module.ts","webpack:///src/app/screens/screens-tabs/profile/profile.module.ts","webpack:///src/app/screens/screens-tabs/profile/profile.page.scss","webpack:///src/app/screens/screens-tabs/profile/profile.page.ts"],"names":["routes","path","component","ProfilePageRoutingModule","imports","forChild","exports","ProfilePageModule","declarations","providers","ProfilePage","auth","ui","request","photo","realtime","router","network","days","image","score","travels","antiquity","level","level_id","level_name","localStorage","getItem","currentDOcuments","JSON","parse","getNetworkStatus","connected","loading","loader","get","user","id","subscribe","res","documents","data","filter","d","length","url","document_id","obj","find","push","dismiss","err","console","log","total_services","setUser","formatDays","seniority_of_delivery","formatDaysWithDate","first_order_date","showToast","presentAlert","mode","header","buttons","text","role","cssClass","handler","blah","logOut","navigateByUrl","selectImageSource","imageSubject","Object","keys","current_photo","current_photo_url","dataUrl","dat","Date","getTime","name_file1","format","blob_image","dataUrlToBlob","image_to_upload","getFileImage","FormData","append","post","person","setPerson","v","current_length","index","findIndex","verified","Math","abs","Number","vehicles","year","getFullYear","min_length","getStatus","update","navigate","selector","template"],"mappings":"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","file":"screens-screens-tabs-profile-profile-module-es5.js","sourcesContent":["export default \"<!--<ion-header>\\n  <ion-toolbar>\\n    <ion-title>home</ion-title>\\n  </ion-toolbar>\\n</ion-header>-->\\n<ion-content color=\\\"warning\\\">\\n  <div class=\\\"ion-padding ion-text-center\\\">\\n    <img src=\\\"assets/imgs/logo-morado.png\\\" width=\\\"100\\\">\\n  </div>\\n  <div class=\\\"ion-text-center\\\" style=\\\"position: relative;\\\">\\n    <div style=\\\"position: relative;display: inline;\\\">\\n\\n      <img [src]=\\\"image\\\" width=\\\"70\\\" (click)=\\\"takePhoto()\\\" style=\\\"border-radius: 50%;\\n      width: 100px;\\n      height: 100px;\\\">\\n      <ion-icon name=\\\"camera\\\" style=\\\"font-size: 1.8em;\\n      margin-left: -26px;\\n      color: #49158c;\\\"></ion-icon>\\n    </div>\\n\\n  </div>\\n  <ion-card>\\n    <ion-card-header>\\n      <ion-card-subtitle class=\\\"ion-text-center\\\">\\n        <div style=\\\"display: inline;\\\">\\n          <span class=\\\"black-color-text\\\">{{auth.user.name}}</span>\\n          \\n          <span class=\\\"grey-color-text\\\" style=\\\"display: block;\\\">{{auth.user.email}}</span>\\n        </div>\\n        <div style=\\\"    position: relative;\\n            width: 50%;\\n        margin: auto;\\n        border-radius: 20px;\\\" [ngClass]=\\\"{'bg-oro': level.level_id == 3, 'bg-silver': level.level_id == 2, 'bg-bronce': level.level_id == 1, 'bg-no-level': level.level_id == 0, 'bg-elite': level.level_id == 4}\\\">\\n          <h4 style=\\\"    margin-top: 10px;\\n          margin-bottom: 2px;\\\">{{level.level_name}}\\n          <ion-icon name=\\\"ribbon-outline\\\" style=\\\"font-size: 1em;\\n          \\\"></ion-icon>\\n          </h4>\\n        </div>\\n        \\n      </ion-card-subtitle>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <h4 class=\\\"ion-text-center\\\">Antiguedad</h4>\\n      <h2 class=\\\"ion-text-center\\\" style=\\\"font-size: 1.5em;\\n      font-weight: bold;\\\">{{antiquity}}</h2>\\n      <ion-grid class=\\\"ion-text-center\\\">\\n        <ion-row>\\n\\n          <ion-col>\\n            <span style=\\\"display: block;\\\">Calificación</span>\\n          </ion-col>\\n          <ion-col>\\n            <span style=\\\"display: block;\\\">Viajes realizados</span>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n\\n          <ion-col size=\\\"6\\\">\\n            <ion-button fill=\\\"clear\\\" size=\\\"small\\\" style=\\\"font-size: 1.5em;\\\">\\n              {{score}} <ion-icon name=\\\"star\\\" class=\\\"text-yellow\\\"></ion-icon>\\n            </ion-button>\\n          </ion-col>\\n          <ion-col size=\\\"6\\\">\\n            <ion-button fill=\\\"clear\\\" size=\\\"small\\\" style=\\\"font-size: 1.5em;\\\">\\n              {{travels}} <ion-icon name=\\\"airplane\\\"></ion-icon>\\n            </ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n      <!-- <div class=\\\"ion-text-center\\\" style=\\\"display: flex;width: 80%;margin: auto;\\\">\\n        \\n        \\n      </div> -->\\n\\n      <ion-list>\\n        <ion-item expand=\\\"block\\\" lines=\\\"none\\\" routerLink=\\\"/tabs/personal-information\\\">\\n          <ion-label>Datos Personales</ion-label>\\n          <ion-icon slot=\\\"end\\\" name=\\\"arrow-forward-outline\\\" color=\\\"primary\\\"></ion-icon>\\n        </ion-item>\\n\\n        <ion-item lines=\\\"none\\\" routerLink=\\\"/tabs/vehicle-information\\\">\\n          <ion-label>Datos del vehículo</ion-label>\\n          <ion-icon slot=\\\"end\\\" name=\\\"arrow-forward-outline\\\" color=\\\"primary\\\"></ion-icon>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" routerLink=\\\"/tabs/documents\\\">\\n          <ion-label>Documentos</ion-label>\\n          <ion-icon slot=\\\"end\\\" name=\\\"arrow-forward-outline\\\" color=\\\"primary\\\"></ion-icon>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" routerLink=\\\"/tabs/change-passwsord\\\">\\n          <ion-label>Cambiar contraseña</ion-label>\\n          <ion-icon slot=\\\"end\\\" name=\\\"reload-outline\\\" color=\\\"primary\\\"></ion-icon>\\n\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" routerLink=\\\"/tabs/liquidation\\\">\\n          <ion-label>Liquidación</ion-label>\\n          <ion-icon slot=\\\"end\\\" name=\\\"reload-outline\\\" color=\\\"primary\\\"></ion-icon>\\n\\n        </ion-item>\\n        <!-- <ion-item  lines=\\\"none\\\" (click)=\\\"goToPolicies()\\\">\\n          <ion-label>Términos y condiciones</ion-label>\\n          <ion-icon name=\\\"receipt-outline\\\" slot=\\\"end\\\" color=\\\"primary\\\"></ion-icon>\\n        </ion-item> -->\\n        <ion-item lines=\\\"none\\\" routerLink=\\\"/tabs/about\\\">\\n          <ion-label>Acerca de la aplicación</ion-label>\\n          <ion-icon name=\\\"alert-circle-outline\\\" color=\\\"primary\\\"></ion-icon>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" (click)=\\\"logOut()\\\">\\n          <ion-label>Cerrar Sesión</ion-label>\\n          <ion-icon slot=\\\"end\\\" name=\\\"log-out-outline\\\" color=\\\"primary\\\"></ion-icon>\\n\\n        </ion-item>\\n      </ion-list>\\n\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    \n    ProfilePageRoutingModule\n  ],\n  declarations: [ProfilePage, ],\n  providers : [\n    \n    \n  ]\n})\nexport class ProfilePageModule {}\n","export default \".text-yellow {\\n  color: #F6D000;\\n}\\n\\n.text-black {\\n  color: black;\\n}\\n\\n.text-bronce {\\n  color: #895024;\\n}\\n\\n.text-silver {\\n  color: #BABABA;\\n}\\n\\n.text-elite {\\n  color: #0381F2;\\n}\\n\\n.bg-no-level {\\n  background-color: black;\\n  color: white;\\n}\\n\\n.bg-bronce {\\n  background-color: #895024;\\n  color: white;\\n}\\n\\n.bg-silver {\\n  background-color: #BABABA;\\n  color: white;\\n}\\n\\n.bg-oro {\\n  background-color: #F6D000;\\n  color: white;\\n}\\n\\n.bg-elite {\\n  background-color: #0381F2;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNwcmlsbGEvRG9jdW1lbnRvc01pZ3VlbC9Qcm95ZWN0b3MvemFwcC96YXBwLWRyaXZlci1hcHAtcnBlbmFsb3phL3NyYy9hcHAvc2NyZWVucy9zY3JlZW5zLXRhYnMvcHJvZmlsZS9wcm9maWxlLnBhZ2Uuc2NzcyIsInNyYy9hcHAvc2NyZWVucy9zY3JlZW5zLXRhYnMvcHJvZmlsZS9wcm9maWxlLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7QUNDSjs7QURFQTtFQUNJLFlBQUE7QUNDSjs7QURFQTtFQUNJLGNBQUE7QUNDSjs7QURFQTtFQUNJLGNBQUE7QUNDSjs7QURFQTtFQUNJLGNBQUE7QUNDSjs7QURFQTtFQUNJLHVCQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0kseUJBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSx5QkFBQTtFQUNBLFlBQUE7QUNDSjs7QURFQTtFQUNJLHlCQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0kseUJBQUE7RUFDQSxZQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9zY3JlZW5zL3NjcmVlbnMtdGFicy9wcm9maWxlL3Byb2ZpbGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRleHQteWVsbG93e1xuICAgIGNvbG9yOiAjRjZEMDAwO1xufVxuXG4udGV4dC1ibGFja3tcbiAgICBjb2xvcjogYmxhY2sgO1xufVxuXG4udGV4dC1icm9uY2V7XG4gICAgY29sb3I6ICAjODk1MDI0IDtcbn1cblxuLnRleHQtc2lsdmVye1xuICAgIGNvbG9yOiAgI0JBQkFCQSA7XG59XG5cbi50ZXh0LWVsaXRle1xuICAgIGNvbG9yOiAjMDM4MUYyO1xufVxuXG4uYmctbm8tbGV2ZWx7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG4gICAgY29sb3I6IHdoaXRlO1xufVxuXG4uYmctYnJvbmNle1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM4OTUwMjQ7XG4gICAgY29sb3I6IHdoaXRlO1xufVxuXG4uYmctc2lsdmVye1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNCQUJBQkE7XG4gICAgY29sb3I6d2hpdGU7XG59XG5cbi5iZy1vcm97XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0Y2RDAwMDtcbiAgICBjb2xvcjp3aGl0ZTtcbn1cblxuLmJnLWVsaXRle1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwMzgxRjI7XG4gICAgY29sb3I6d2hpdGU7XG59XG5cblxuXG5cblxuXG5cblxuXG5cblxuIiwiLnRleHQteWVsbG93IHtcbiAgY29sb3I6ICNGNkQwMDA7XG59XG5cbi50ZXh0LWJsYWNrIHtcbiAgY29sb3I6IGJsYWNrO1xufVxuXG4udGV4dC1icm9uY2Uge1xuICBjb2xvcjogIzg5NTAyNDtcbn1cblxuLnRleHQtc2lsdmVyIHtcbiAgY29sb3I6ICNCQUJBQkE7XG59XG5cbi50ZXh0LWVsaXRlIHtcbiAgY29sb3I6ICMwMzgxRjI7XG59XG5cbi5iZy1uby1sZXZlbCB7XG4gIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5iZy1icm9uY2Uge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjODk1MDI0O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5iZy1zaWx2ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjQkFCQUJBO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5iZy1vcm8ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjZEMDAwO1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5iZy1lbGl0ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMzgxRjI7XG4gIGNvbG9yOiB3aGl0ZTtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { UiService } from 'src/app/services/ui.service';\nimport { RequestService } from 'src/app/services/request.service';\nimport { PhotoService } from 'src/app/services/photo.service';\nimport { RealtimeService } from 'src/app/services/realtime.service';\nimport { Router } from '@angular/router';\nimport { NetworkStatusService } from 'src/app/services/network-status.service';\nimport { DaysService } from 'src/app/services/days.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n  image = \"assets/imgs/avatar.svg\"\n  document_id\n  currentDOcuments: any[]\n  score = 0\n  travels = 0\n  antiquity = \"0 días\"\n  level = {\n    level_id: 1,\n    level_name:  \"BRONCE\"\n  }\n  \n  constructor(public auth: AuthService,\n    private ui: UiService,\n    private request: RequestService,\n    private photo: PhotoService,\n    private realtime: RealtimeService,\n    private router: Router,\n    private network: NetworkStatusService,\n    private days : DaysService) { }\n\n  ngOnInit() {\n\n  }\n\n  async ionViewWillEnter() {\n    this.image = \"assets/imgs/avatar.svg\"\n    if (localStorage.getItem(\"currentDocuments\")) {\n      this.currentDOcuments = JSON.parse(localStorage.getItem(\"currentDocuments\"));\n\n    }\n    if (this.network.getNetworkStatus().connected) {\n      const loader = await this.ui.loading(\"Por favor espere...\");\n      this.request.get(`driver/documents/${this.auth.user.id}`)\n        .subscribe(async (res: any) => {\n          const documents = res.data.documents;\n\n          const photo: any[] = documents.filter(d => d[\"document_type_id \"] == 21)\n          if (photo.length > 0) {\n            this.image = photo[photo.length - 1].url;\n            this.document_id = photo[photo.length - 1].document_id\n\n            const obj = {\n              id: photo[photo.length - 1].id,\n              document_id: photo[photo.length - 1].document_id,\n              \"document_type \": photo[photo.length - 1][\"document_type \"],\n              \"document_type_id \": photo[photo.length - 1][\"document_type_id \"],\n              url: this.image\n            }\n            if(!this.currentDOcuments){\n              this.currentDOcuments = [];\n            }\n            if (!this.currentDOcuments.find(d => d.id == obj.id)) {\n              this.currentDOcuments.push(obj);\n            }\n            // if (localStorage.getItem(\"currentDocuments\")) {\n            //   if (!this.currentDOcuments.find(d => d.id == obj.id)) {\n            //     this.currentDOcuments.push(obj);\n            //   }\n            // }\n\n          }\n          (await loader).dismiss()\n        }, async (err: any) => {\n          console.log(\"Error\", err);\n          (await loader).dismiss()\n        })\n      this.request.get(`driver/show_driver/${this.auth.user.id}`)\n      .subscribe((res : any) => {\n        console.log(\"Data\", res.data)\n        this.score = res.data.score;\n        this.travels = res.data.total_services\n        this.level = {\n          level_id : res.data.level_id,\n          level_name : res.data.level_id == 0? \"SIN NIVEL\": res.data.level_name\n        }\n        this.auth.user.level_id= this.level.level_id;\n        this.auth.setUser(this.auth.user);\n        this.antiquity = this.days.formatDays((res.data.seniority_of_delivery));\n        console.log(\"Antiguedad\", this.antiquity)\n        console.log(\"Antiguedad fecha\",this.days.formatDaysWithDate(res.data.first_order_date))\n      })\n    } else {\n      this.ui.showToast(\"Verifique su conexión\")\n    }\n  }\n\n  async logOut() {\n    await this.ui.presentAlert({\n      mode: 'ios',\n      header: '¿Está seguro de cerrar la sesión?',\n      buttons: [\n        {\n          text: 'No',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Sí',\n          handler: () => { this.auth.logOut() }\n\n        }\n      ]\n    })\n  }\n\n  goToPolicies(){\n    this.router.navigateByUrl(\"https://zapplogistica.com/politicas/\")\n    // location.href = \"https://zapplogistica.com/politicas/\"\n  }\n\n  async takePhoto() {\n    try {\n      if (this.network.getNetworkStatus().connected) {\n        const image = await (await this.photo.selectImageSource())\n        this.photo.imageSubject.subscribe(async (image) => {\n          if (Object.keys(image).length > 0) {\n            const current_photo = this.image == \"assets/imgs/avatar.svg\"\n            const current_photo_url = this.image;\n            this.image = image.dataUrl;\n            const url = !current_photo ? `driver/update_documents/${this.document_id}` : `driver/documents/${this.auth.user.id}/21`;\n            const dat = new Date().getTime();\n            const name_file1 = `${dat}_${this.auth.user.id}.${image.format}`;\n            const blob_image = this.photo.dataUrlToBlob(image.dataUrl);\n            const image_to_upload = this.photo.getFileImage(image.dataUrl, name_file1, image.format);\n            let data = new FormData();\n            data.append('photo', blob_image);\n            const loader = await this.ui.loading(\"Por favor espere...\");\n            this.request.post(url, data).subscribe(async (res: any) => {\n              (await loader).dismiss();\n              this.auth.person.photo = res.data.url;\n              this.auth.setPerson(this.auth.person);\n              const obj = {\n                \"document_type \": \"Foto del conductor\",\n                \"document_type_id \": 21,\n                url: this.image\n              }\n              const v = this.currentDOcuments.find(d => d[\"document_type_id \"] == 21);\n              const current_length = this.currentDOcuments.length;\n              if (!v) {\n                this.currentDOcuments.push(obj);\n              } else {\n                const index = this.currentDOcuments.findIndex(d => d == v);\n                if (index != -1) {\n                  this.currentDOcuments[index].url = this.image;\n                }\n              }\n              if (this.auth.user.verified == 0) {\n                const res = Math.abs(Number(this.auth.vehicles.year) - new Date().getFullYear());\n                if (localStorage.getItem(\"currentDocuments\")) {\n                  let length = res <= 2 ? 10 : 9;\n                  const min_length = res <= 2 ? 11 : 10\n                  console.log(\"Length\", this.currentDOcuments.length)\n                  if (this.currentDOcuments.length >= length) {\n\n                    if (current_length < min_length) {\n                      this.realtime.getStatus().update({\n                        verified: this.auth.user.verified,\n                        documents: 1\n                      });\n                      await this.ui.presentAlert({\n                        mode: 'ios',\n                        header: '¡Ha completado su registro!',\n                        buttons: [\n                          {\n                            text: 'Aceptar',\n                            handler: () => { this.router.navigate(['tabs/home']) }\n\n                          }\n                        ]\n                      })\n                    } else {\n\n                    }\n                  } else {\n                    await this.ui.presentAlert({\n                      mode: 'ios',\n                      header: 'Por favor complete sus documentos',\n                      buttons: [\n                        {\n                          text: 'Aceptar',\n                          handler: () => { this.router.navigate(['tabs/documents']) }\n\n                        }\n                      ]\n                    })\n                  }\n                }\n              }\n\n\n              console.log(\"Este es el res\", res)\n            },\n              async (err: any) => {\n                (await loader).dismiss();\n                this.image = current_photo_url;\n                this.ui.showToast(\"No se pudo subir la imagen\")\n                console.log(\"Error\", err)\n              })\n          }\n        })\n      } else {\n        this.ui.showToast(\"Verifique su conexión\")\n      }\n    } catch (e) {\n      console.log(\"Error\", e)\n    }\n  }\n\n}\n"]}