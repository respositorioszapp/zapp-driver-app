{"version":3,"sources":["./src/app/screens/auth/login/login.page.html","./src/app/guards/login.guard.ts","./src/app/screens/auth/login/login-routing.module.ts","./src/app/screens/auth/login/login.module.ts","./src/app/screens/auth/login/login.page.scss","./src/app/screens/auth/login/login.page.ts"],"names":[],"mappings":"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","file":"screens-auth-login-login-module-es2015.js","sourcesContent":["export default \"<ion-content color=\\\"warning\\\" class=\\\"ion-padding\\\">\\n  <div class=\\\"ion-text-center margin-top-15vh ion-padding-bottom\\\">\\n    <img src=\\\"assets/imgs/logo-morado.png\\\" width=\\\"180\\\">\\n  </div>\\n  <ion-card class=\\\"border-radius\\\">\\n    <ion-card-content>\\n      <form  [formGroup]=\\\"loginData\\\" (submit)=\\\"send()\\\" novalidate>\\n        <ion-item lines=\\\"none\\\" class=\\\"input-text ion-margin-top\\\">\\n          <ion-icon name=\\\"person-circle\\\" slot=\\\"start\\\"></ion-icon>\\n          <ion-input placeholder=\\\"Email\\\" formControlName=\\\"email\\\" required></ion-input>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" class=\\\"danger-color-text\\\" *ngIf=\\\" controls.email.dirty && controls.email.touched && controls.email.errors\\\">\\n          <ion-icon name=\\\"alert-circle\\\" slot=\\\"start\\\" class=\\\"danger-color-text\\\"></ion-icon>\\n          <ion-label *ngIf=\\\"controls.email.errors.required\\\">Email es requerido</ion-label>\\n          <ion-label *ngIf=\\\"controls.email.errors.email\\\">Debe ser un email válido</ion-label>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" class=\\\"input-text ion-margin-top ion-margin-bottom\\\">\\n          <ion-icon name=\\\"lock-closed\\\" slot=\\\"start\\\"  ></ion-icon>\\n          <ion-input [type]=\\\"view ?'text': 'password'\\\" placeholder=\\\"Password\\\" formControlName=\\\"password\\\" required ></ion-input>\\n          <ion-icon [name]=\\\"view ? 'eye-outline': 'eye-off-outline'\\\" slot=\\\"end\\\" (click)=\\\"setView()\\\"></ion-icon>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" class=\\\"danger-color-text\\\" *ngIf=\\\"controls.password.dirty && controls.password.touched && controls.password.errors\\\">\\n          <ion-icon name=\\\"alert-circle\\\" slot=\\\"start\\\" class=\\\"danger-color-text\\\" ></ion-icon>\\n          <ion-label *ngIf=\\\"controls.password.errors.required\\\">La contraseña es requerida</ion-label>\\n          <ion-label *ngIf=\\\"controls.password.errors.minlength || controls.password.errors.maxlength\\\">La contraseña debe ser\\n            de 8 a 16 caracteres</ion-label>\\n        </ion-item>\\n        \\n        <ion-button fill=\\\"clear\\\" expand=\\\"block\\\" mode=\\\"ios\\\" class=\\\"grey-color\\\" routerLink=\\\"/signup/forgotpassword\\\">\\n          ¿Olvidaste tu contraseña?\\n        </ion-button>\\n        <ion-button type=\\\"submit\\\"  expand=\\\"block\\\" mode=\\\"ios\\\" color=\\\"primary\\\"  class=\\\"ion-margin-bottom\\\">\\n          INICIAR SESION\\n        </ion-button>\\n        <ion-button fill=\\\"outline\\\" color=\\\"primary\\\" expand=\\\"block\\\" mode=\\\"ios\\\" class=\\\"grey-color\\\" routerLink=\\\"/signup\\\">\\n          REGÍSTRARSE\\n        </ion-button>\\n      </form>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\";","import { Injectable } from '@angular/core';\nimport { CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot, UrlTree, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { AuthService } from '../services/auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LoginGuard implements CanActivate {\n\n  constructor(private router: Router,private auth : AuthService)\n  {\n }\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n      let isLoggedIn =  localStorage.getItem('isLoggedIn');\n      if(!isLoggedIn){\n        return true;\n      }else{\n        if(isLoggedIn=='si'){ \n          this.router.navigate(['tabs/home'])       \n          return false;\n        }else{\n          return true;\n        }\n      }\n      \n  }\n  \n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginGuard } from 'src/app/guards/login.guard';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage,\n    canActivate: [LoginGuard]\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \".margin-top-15vh {\\n  margin-top: 15vh;\\n}\\n\\nion-icon {\\n  -webkit-margin-end: 10px !important;\\n          margin-inline-end: 10px !important;\\n  margin-top: 7px;\\n  margin-bottom: 7px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNwcmlsbGEvRG9jdW1lbnRvc01pZ3VlbC9Qcm95ZWN0b3MvemFwcC96YXBwLWRyaXZlci1hcHAtcnBlbmFsb3phL3NyYy9hcHAvc2NyZWVucy9hdXRoL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNyYy9hcHAvc2NyZWVucy9hdXRoL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGdCQUFBO0FDQ0o7O0FERUE7RUFDSSxtQ0FBQTtVQUFBLGtDQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9zY3JlZW5zL2F1dGgvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1hcmdpbi10b3AtMTV2aHtcbiAgICBtYXJnaW4tdG9wOiAxNXZoO1xufVxuXG5pb24taWNvbntcbiAgICBtYXJnaW4taW5saW5lLWVuZDogMTBweCAhaW1wb3J0YW50O1xuICAgIG1hcmdpbi10b3A6IDdweDtcbiAgICBtYXJnaW4tYm90dG9tOiA3cHg7XG59IiwiLm1hcmdpbi10b3AtMTV2aCB7XG4gIG1hcmdpbi10b3A6IDE1dmg7XG59XG5cbmlvbi1pY29uIHtcbiAgbWFyZ2luLWlubGluZS1lbmQ6IDEwcHggIWltcG9ydGFudDtcbiAgbWFyZ2luLXRvcDogN3B4O1xuICBtYXJnaW4tYm90dG9tOiA3cHg7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { UiService } from \"../../../services/ui.service\";\nimport { AuthService } from \"../../../services/auth.service\";\nimport { Router } from '@angular/router';\nimport { FcmService } from 'src/app/services/fcm.service';\nimport { RequestService } from 'src/app/services/request.service';\n\nimport { StorageService } from \"src/app/services/storage.service\";\nimport { environment } from 'src/environments/environment';\n\nimport { Capacitor, Geolocation } from '@capacitor/core';\nimport { NetworkStatusService } from 'src/app/services/network-status.service';\nimport { RequestLocationPermissionPage } from 'src/app/screens/forms/request-location-permission/request-location-permission.page';\n\nimport BackgroundGeolocation, {\n  State,\n  Config,\n  Location,\n  LocationError,\n  Geofence,\n  HttpEvent,\n  MotionActivityEvent,\n  ProviderChangeEvent,\n  MotionChangeEvent,\n  GeofenceEvent,\n  GeofencesChangeEvent,\n  HeartbeatEvent,\n  ConnectivityChangeEvent,\n  DeviceSettingsRequest\n} from \"cordova-background-geolocation-lt\";\n\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  view = false\n  loginData: FormGroup = new FormGroup({\n    email: new FormControl('', [Validators.required, Validators.email]),\n    password: new FormControl('', [Validators.required, Validators.minLength(8), Validators.maxLength(20)]),\n  });\n  constructor(\n    private storage: StorageService,\n    private ui: UiService,\n    private auth: AuthService,\n    private router: Router,\n    private fcm: FcmService,\n    private request: RequestService,\n    private network: NetworkStatusService,\n\n  ) { }\n\n  ngOnInit() {\n\n    localStorage.removeItem(\"isLoggedIn\");\n    localStorage.removeItem(\"data\");\n    localStorage.removeItem(\"current_order\")\n    localStorage.removeItem(\"current_status\")\n    localStorage.removeItem(\"current_status\")\n    localStorage.removeItem(\"currentDocuments\")\n    localStorage.removeItem(\"longitude\")\n    localStorage.removeItem(\"latitude\")\n    localStorage.removeItem(\"watchPositionId\")\n\n\n  }\n\n  async ionViewWillEnter() {\n   \n  }\n\n  get controls() {\n    return this.loginData.controls;\n  }\n\n  async send() {\n    if (this.loginData.valid) {\n      let { email, password } = this.loginData.value;\n\n      if (this.network.getNetworkStatus().connected) {\n        const loadier = this.ui.loading('Por favor espere...');\n        this.auth.login(email, password)\n          .subscribe(\n            async (res: any) => {\n              (await loadier).dismiss()\n              console.log(\"Rol id\", res.data);\n              if (res.data.role.id == 5) {\n                console.log(\"Version\", res.data.code_version)\n                if (Capacitor.platform !== 'web') {\n                  if (res.data.code_version == environment.VERSION_NAME) {\n                    this.storage.setObject('data', res.data);\n                    localStorage.setItem('isLoggedIn', 'si');\n                    localStorage.setItem('data', JSON.stringify(res.data));\n                    this.auth.setData();\n                    this.sendToken();\n                    \n                    this.router.navigate([`/tabs/home`]).then(async () => {\n                      if (this.auth.user.available != 0) {\n                        \n                      }\n\n                    });\n                    localStorage.removeItem(\"current_order\")\n                  } else {\n                    await this.ui.presentAlert({\n                      mode: 'ios',\n                      header: '¡Existe una nueva actualización!',\n                      message: 'Por favor actualizala, para obtener mejor rendimiento posible',\n                      buttons: [\n                        {\n                          text: 'Aceptar',\n                          role: 'cancel',\n                          cssClass: 'secondary',\n                          handler: (blah) => {\n                            location.href = environment.PLAY_STORE_URL\n                          }\n                        }\n                      ]\n                    })\n                  }\n                } else {\n                  this.storage.setObject('data', res.data);\n                  localStorage.setItem('isLoggedIn', 'si');\n                  localStorage.setItem('data', JSON.stringify(res.data));\n                  this.auth.setData();\n                  this.sendToken();\n                  this.router.navigate([`/tabs/home`]).then(async () => {\n                    if (this.auth.user.available != 0) {\n                      const position = await Geolocation.getCurrentPosition({\n                        enableHighAccuracy: true\n                      });\n\n                      // (await loader).dismiss();\n                      localStorage.setItem(\"latitude\", position.coords.latitude.toString());\n                      localStorage.setItem(\"longitude\", position.coords.longitude.toString());\n                    }\n\n                  });\n                }\n\n              } else {\n                this.ui.showToast(\"El usuario existe, pero  no tiene acceso a esta aplicación\")\n              }\n            },\n            async (err: any) => {\n              (await loadier).dismiss()\n              if (err.status == 400) {\n                this.ui.showToast(err.error.messages[0]);\n                return;\n              }\n              this.ui.showToast(\"Error de conexión\");\n            }\n          );\n      } else {\n        this.ui.showToast(\"Verifique su conexión\")\n      }\n\n    }\n  }\n\n  setView() {\n    this.view = !this.view;\n  }\n\n  sendToken() {\n    if (localStorage.getItem('fcmId')) {\n\n      const obj = {\n        user_id: this.auth.user.id,\n        token: localStorage.getItem('fcmId'),\n        platform: \"mobile\"\n      }\n      this.request.post(\"get_token\", obj).subscribe(res => {\n\n      }, err => {\n\n      })\n\n    } else {\n\n    }\n  }\n}\n"],"sourceRoot":"webpack:///"}