{"version":3,"sources":["./src/app/screens/screens-tabs/change-password/change-password.page.html","./src/app/screens/screens-tabs/change-password/change-password-routing.module.ts","./src/app/screens/screens-tabs/change-password/change-password.module.ts","./src/app/screens/screens-tabs/change-password/change-password.page.scss","./src/app/screens/screens-tabs/change-password/change-password.page.ts"],"names":[],"mappings":"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","file":"screens-screens-tabs-change-password-change-password-module-es2015.js","sourcesContent":["export default \"\\n<ion-content color=\\\"warning\\\">\\n  <ion-button fill=\\\"clear\\\" (click) =\\\"back()\\\" style=\\\"position: absolute;\\n  left: 0px;\\n  padding: 10px;\\\" >\\n    <ion-icon name=\\\"arrow-back-outline\\\"   slot=\\\"icon-only\\\"  ></ion-icon>\\n  </ion-button>\\n  <div style=\\\"position: relative;\\\">\\n    <div class=\\\"ion-text-center margin-top-15vh ion-padding-bottom\\\" style=\\\"width: 60%;\\n    margin: auto;\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\\">\\n      <img src=\\\"assets/imgs/logo-morado.png\\\" width=\\\"100\\\">\\n    </div>\\n  </div>\\n  <ion-card style=\\\"margin-top:30%\\\">\\n    <ion-card-header>\\n      <ion-card-subtitle class=\\\"ion-text-center \\\">\\n        <span class=\\\"black-color-text\\\">Cambia tu contraseña</span>\\n      </ion-card-subtitle>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <form [formGroup]=\\\"password_information\\\" (submit)=\\\"update()\\\" novalidate>\\n        <ion-item lines=\\\"none\\\" class=\\\"input-text ion-margin-top\\\">\\n          <ion-input placeholder=\\\"Contraseña\\\" formControlName=\\\"password\\\" type=\\\"password\\\" required></ion-input>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" class=\\\"danger-color-text\\\" *ngIf=\\\"controls.password.dirty && controls.password.touched && controls.password.errors\\\">\\n          <ion-icon name=\\\"alert-circle\\\"  slot=\\\"start\\\" class=\\\"danger-color-text\\\"></ion-icon>\\n          <ion-label *ngIf=\\\"controls.password.errors.required\\\">La contraseña es requerida</ion-label>\\n          <ion-label *ngIf=\\\"controls.password.errors.minlength || controls.password.errors.maxlength\\\">La contraseña debe ser\\n            de 8 a 16 caracteres</ion-label>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" class=\\\"input-text ion-margin-top\\\">\\n          <ion-input placeholder=\\\"Repetir Contraseña\\\" formControlName=\\\"password_confirm\\\" type=\\\"password\\\" required></ion-input>\\n        </ion-item>\\n        <ion-item lines=\\\"none\\\" class=\\\"danger-color-text\\\" *ngIf=\\\"controls.password_confirm.dirty && controls.password_confirm.touched && controls.password_confirm.errors\\\">\\n          <ion-icon name=\\\"alert-circle\\\" slot=\\\"start\\\" class=\\\"danger-color-text\\\"></ion-icon>\\n          <ion-label *ngIf=\\\"controls.password_confirm.errors.required\\\">La contraseña es requerida</ion-label>\\n          <ion-label *ngIf=\\\"controls.password_confirm.errors.mustMatch\\\">Las contraseñas no coinciden</ion-label>\\n        </ion-item>\\n        <ion-button type=\\\"submit\\\" expand=\\\"block\\\" mode=\\\"ios\\\" color=\\\"primary\\\" class =\\\"ion-margin-top\\\">\\n          CONTINUAR\\n        </ion-button>\\n      </form>     \\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\\n\\n \";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ChangePasswordPage } from './change-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangePasswordPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ChangePasswordPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChangePasswordPageRoutingModule } from './change-password-routing.module';\n\nimport { ChangePasswordPage } from './change-password.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    ChangePasswordPageRoutingModule\n  ],\n  declarations: [ChangePasswordPage]\n})\nexport class ChangePasswordPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NjcmVlbnMvc2NyZWVucy10YWJzL2NoYW5nZS1wYXNzd29yZC9jaGFuZ2UtcGFzc3dvcmQucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { UiService } from 'src/app/services/ui.service';\nimport { Validators, FormBuilder } from '@angular/forms';\nimport { RequestService } from 'src/app/services/request.service';\nimport { Router } from '@angular/router';\nimport { ComparePassword } from 'src/app/validators/passwod.validator';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { NetworkStatus } from '@capacitor/core';\n\n@Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.page.html',\n  styleUrls: ['./change-password.page.scss'],\n})\nexport class ChangePasswordPage implements OnInit {\n  password_information = this.fb.group({\n    password: ['', [Validators.required, Validators.minLength(8), Validators.maxLength(16)]],\n    password_confirm: ['', Validators.required],\n  },\n    {\n      validators: ComparePassword(\"password\", \"password_confirm\")\n    }\n  );\n  constructor(private requestService: RequestService,\n    private fb: FormBuilder, private router: Router, private ui: UiService,\n    private auth: AuthService) { }\n\n  ngOnInit() {\n  }\n\n  back() {\n    this.router.navigate(['/tabs/profile'])\n  }\n\n\n  get controls() {\n    return this.password_information.controls;\n  }\n\n  async update() {\n    if (this.password_information.valid) {\n      const {\n        password,\n        password_confirm\n      } = this.password_information.value\n      const obj = {\n        password,\n        password_confirm,\n        role_id: this.auth.role.id,\n        user_id: this.auth.user.id\n      }\n      const networkStatus: NetworkStatus = JSON.parse(localStorage.getItem(\"network_status\"));\n      if (networkStatus.connected) {\n        const loader = await this.ui.loading(\"Por favor espere...\");\n        this.requestService.post('changepassword', obj).subscribe(async (res) => {\n          (await loader).dismiss()\n          this.ui.showToast(\"Se ha cambiado la contraseña exitosamente\", () => {\n            this.router.navigate(['/tabs/profile'])\n          })\n        },\n          async (err: any) => {\n            (await loader).dismiss()\n            console.log(\"Error\", err)\n            this.ui.showToast(err.errors.messages[0])\n          })\n      }else{\n        this.ui.showToast(\"Verifique su conexión\")\n      }\n\n    } else {\n      this.ui.showToast(\"Rellene todos los campos\")\n    }\n\n  }\n\n}\n"],"sourceRoot":"webpack:///"}