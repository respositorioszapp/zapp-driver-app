{"version":3,"sources":["webpack:///src/app/screens/screens-tabs/documents/documents.page.html","webpack:///src/app/screens/screens-tabs/documents/documents-routing.module.ts","webpack:///src/app/screens/screens-tabs/documents/documents.module.ts","webpack:///src/app/screens/screens-tabs/documents/documents.page.scss","webpack:///src/app/screens/screens-tabs/documents/documents.page.ts"],"names":["routes","path","component","DocumentsPageRoutingModule","imports","forChild","exports","DocumentsPageModule","declarations","DocumentsPage","photo","auth","request","ui","router","loadingController","realtime","network","imgs","id","url","format","document_type","others","documents_verified","array","start","end","filter","d","i","res","Math","abs","Number","vehicles","year","Date","getFullYear","every","ings","subscription","unsubscribe","getNetworkStatus","connected","create","message","loader","present","get","user","subscribe","documents","data","console","log","currentDocuments","localStorage","setItem","JSON","stringify","map","img","other","length","document_id","dismiss","err","showToast","navigate","images","item","selectImageSource","imageSubject","image","Object","keys","loading","current_photo","current_photo_url","dataUrl","dat","getTime","name_file1","blob_image","dataUrlToBlob","image_to_upload","getFileImage","FormData","File","append","post","enctype","undefined","find","push","getDocumentsComplete","documents_profile","getStatus","update","verified","presentAlert","mode","header","buttons","text","cssClass","handler","status","error","messages","presentModal","modal","onDidDismiss","m","ionViewWillEnter","selector","template"],"mappings":"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","file":"screens-screens-tabs-documents-documents-module-es5.js","sourcesContent":["export default \"<ion-content color=\\\"warning\\\">\\n  <ion-button fill=\\\"clear\\\" (click)=\\\"back()\\\" style=\\\"position: absolute;\\n  left: 0px;\\n  padding: 10px;\\\">\\n    <ion-icon name=\\\"arrow-back-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n  </ion-button>\\n  <div style=\\\"position: relative;\\\">\\n    <div class=\\\"ion-text-center margin-top-15vh ion-padding-bottom\\\" style=\\\"width: 60%;\\n    margin: auto;\\n    position: absolute;\\n    left: 0;\\n    right: 0;\\\">\\n      <img src=\\\"assets/imgs/logo-morado.png\\\" width=\\\"100\\\">\\n    </div>\\n  </div>\\n  <ion-card style=\\\"margin-top:50px\\\">\\n    <ion-card-header *ngIf=\\\"!getDocumentsComplete()\\\">\\n      <ion-card-subtitle class=\\\"ion-text-center\\\">\\n        <h2><span class=\\\"black-color-text\\\">Completa tu registro</span></h2>\\n        <br>\\n        Faltan <ion-badge color=\\\"primary\\\">{{getDocumentsAlreadyFullFill()}}</ion-badge> documentos\\n      </ion-card-subtitle>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <!-- <ion-list>\\n        <ion-item class=\\\"ion-text-center\\\" >\\n\\n        </ion-item>\\n      </ion-list> -->\\n      <ion-grid>\\n        <ion-row>\\n          <div class=\\\"div_category\\\">\\n            <ion-label class=\\\"ion-text-uppercase ion-text-justify\\\">Cédula</ion-label>\\n          </div>\\n          <ion-col size=\\\"6\\\" *ngFor=\\\"let item of filter(imgs,0,1);let i = index\\\">\\n\\n            <img [src]=\\\"item.url\\\" alt=\\\"\\\" srcset=\\\"\\\" style=\\\"width: 150px;\\n          height: 150px;\\n          text-align: center;\\n          margin: auto;\\\" (click)=\\\"takePhoto(item)\\\">\\n            <ion-label>{{i%2==0 ? 'Frontal': 'Trasera'}}</ion-label>\\n            <ion-progress-bar type=\\\"indeterminate\\\" *ngIf=\\\"item.loading\\\"></ion-progress-bar>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <div class=\\\"div_category\\\">\\n            <ion-label class=\\\"ion-text-uppercase ion-text-justify\\\">Tarjeta de propiedad</ion-label>\\n          </div>\\n          <ion-col size=\\\"6\\\" *ngFor=\\\"let item of filter(imgs,2,3);let i = index\\\">\\n\\n            <img [src]=\\\"item.url\\\" alt=\\\"\\\" srcset=\\\"\\\" style=\\\"width: 150px;\\n          height: 150px;\\n          text-align: center;\\n          margin: auto;\\\" (click)=\\\"takePhoto(item)\\\">\\n            <ion-label>{{i%2==0 ? 'Frontal': 'Trasera'}}</ion-label>\\n            <ion-progress-bar type=\\\"indeterminate\\\" *ngIf=\\\"item.loading\\\"></ion-progress-bar>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <div class=\\\"div_category\\\">\\n            <ion-label class=\\\"ion-text-uppercase ion-text-justify\\\">Licencia de conducción</ion-label>\\n          </div>\\n          <ion-col size=\\\"6\\\" *ngFor=\\\"let item of filter(imgs,4,5);let i = index\\\">\\n\\n            <img [src]=\\\"item.url\\\" alt=\\\"\\\" srcset=\\\"\\\" style=\\\"width: 150px;\\n          height: 150px;\\n          text-align: center;\\n          margin: auto;\\\" (click)=\\\"takePhoto(item)\\\">\\n            <ion-label>{{i%2==0 ? 'Frontal': 'Trasera'}}</ion-label>\\n            <ion-progress-bar type=\\\"indeterminate\\\" *ngIf=\\\"item.loading\\\"></ion-progress-bar>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <div class=\\\"div_category\\\">\\n            <ion-label class=\\\"ion-text-uppercase ion-text-justify\\\">Fotos del vehículo</ion-label>\\n          </div>\\n\\n          <ion-col size=\\\"6\\\" *ngFor=\\\"let item of filter(imgs,8,9);let i = index\\\">\\n\\n            <img [src]=\\\"item.url\\\" alt=\\\"\\\" srcset=\\\"\\\" style=\\\"width: 150px;\\n          height: 150px;\\n          text-align: center;\\n          margin: auto;\\\" (click)=\\\"takePhoto(item)\\\">\\n            <ion-label>{{i%2==0 ? 'Frontal': 'Trasera'}}</ion-label>\\n            <ion-progress-bar type=\\\"indeterminate\\\" *ngIf=\\\"item.loading\\\"></ion-progress-bar>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <div class=\\\"div_category\\\">\\n            <ion-label class=\\\"ion-text-uppercase ion-text-justify\\\">SOAT</ion-label>\\n          </div>\\n          <ion-col size=\\\"12\\\">\\n\\n            <img [src]=\\\"imgs[6].url\\\" alt=\\\"\\\" srcset=\\\"\\\" style=\\\"width: 100%;\\n          height: 150px;\\n          text-align: center;\\n          margin: auto;\\\" (click)=\\\"takePhoto(imgs[6])\\\">\\n            <ion-progress-bar type=\\\"indeterminate\\\" *ngIf=\\\"imgs[6].loading\\\"></ion-progress-bar>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <div class=\\\"div_category\\\">\\n            <ion-label class=\\\"ion-text-uppercase ion-text-justify\\\">Tecnomecánica</ion-label>\\n          </div>\\n          <ion-col size=\\\"12\\\">\\n\\n            <img [src]=\\\"imgs[7].url\\\" alt=\\\"\\\" srcset=\\\"\\\" style=\\\"width: 100%;\\n          height: 150px;\\n          text-align: center;\\n          margin: auto;\\\" (click)=\\\"takePhoto(imgs[7])\\\">\\n            <ion-progress-bar type=\\\"indeterminate\\\" *ngIf=\\\"imgs[7].loading\\\"></ion-progress-bar>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <div class=\\\"div_category\\\">\\n            <ion-label class=\\\"ion-text-uppercase ion-text-justify\\\">Otros</ion-label>\\n          </div>\\n          <ng-container *ngIf=\\\"others.length > 0; else elseTemp\\\">\\n            <ion-row>\\n              <ion-col [size]=\\\"others.length == 1 ? '12':'6'\\\" *ngFor=\\\"let item of others\\\" (click)=\\\"updateImage(item)\\\">\\n                <ion-img [src]=\\\"item.url\\\" style=\\\"width:100%;height: 100px;\\\"></ion-img>\\n                <ion-label>{{item[\\\"document_type \\\"]}}</ion-label>\\n              </ion-col>\\n              <ion-button fill=\\\"outline\\\" color=\\\"primary\\\" expand=\\\"block\\\" mode=\\\"ios\\\" class=\\\"grey-color\\\" (click)=\\\"getFile()\\\" *ngIf=\\\"!getOtherSuccesfull()\\\">\\n                <ion-icon name=\\\"add-circle-outline\\\" slot=\\\"icon-only\\\" style=\\\"font-size: 3m;\\\"></ion-icon>\\n              </ion-button>\\n            </ion-row>\\n            \\n          </ng-container>\\n          <ng-template #elseTemp>\\n            <ion-col size=\\\"12\\\">\\n              <ion-button fill=\\\"outline\\\" color=\\\"primary\\\" expand=\\\"block\\\" mode=\\\"ios\\\" class=\\\"grey-color\\\"\\n                (click)=\\\"getFile()\\\">\\n                <ion-icon name=\\\"add-circle-outline\\\" slot=\\\"icon-only\\\" style=\\\"font-size: 3m;\\\"></ion-icon>\\n              </ion-button>\\n            </ion-col>\\n          </ng-template>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DocumentsPage } from './documents.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DocumentsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DocumentsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DocumentsPageRoutingModule } from './documents-routing.module';\n\nimport { DocumentsPage } from './documents.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DocumentsPageRoutingModule\n  ],\n  declarations: [DocumentsPage]\n})\nexport class DocumentsPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NjcmVlbnMvc2NyZWVucy10YWJzL2RvY3VtZW50cy9kb2N1bWVudHMucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { PhotoService } from 'src/app/services/photo.service';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { RequestService } from 'src/app/services/request.service';\nimport { UiService } from 'src/app/services/ui.service';\nimport { Router } from '@angular/router';\nimport { LoadingController } from '@ionic/angular';\nimport { OtherDocumentsPage } from 'src/app/screens/forms/other-documents/other-documents.page';\nimport { RealtimeService } from 'src/app/services/realtime.service';\nimport { Subscription } from 'rxjs';\nimport { NetworkStatusService } from '../../../services/network-status.service';\nimport { CameraPhoto, Capacitor } from '@capacitor/core';\n\n\n\n@Component({\n  selector: 'app-documents',\n  templateUrl: './documents.page.html',\n  styleUrls: ['./documents.page.scss'],\n})\nexport class DocumentsPage implements OnInit {\n  img1: any\n  img2: any\n  img3: any\n  img4: any\n  imgs: any[] = [{\n    id: 15,\n    url: \"assets/imgs/img-default.jpg\",\n    format: \"\",\n    document_type: \"Cédula frontal\",\n  },\n  {\n    id: 16,\n    url: \"assets/imgs/img-default.jpg\",\n    format: \"\",\n    document_type: \"Cedula trasera\",\n  },\n  {\n    id: 17,\n    url: \"assets/imgs/img-default.jpg\",\n    format: \"\",\n    document_type: \"Tarjeta de propiedad frontal\",\n  },\n  {\n    id: 18,\n    url: \"assets/imgs/img-default.jpg\",\n    format: \"\",\n    document_type: \"Tarjeta de propiedad trasera\",\n  },\n  {\n    id: 19,\n    url: \"assets/imgs/img-default.jpg\",\n    format: \"\",\n    document_type: \"Licencia de conduccion frontal\",\n  }\n    , {\n    id: 20,\n    url: \"assets/imgs/img-default.jpg\",\n    format: \"\",\n    document_type: \"Licencia de conduccion trasera\",\n  },\n  {\n    id: 26,\n    url: \"assets/imgs/img-default.jpg\",\n    format: \"\",\n    document_type: \"Soat\"\n  },\n  {\n    id: 27,\n    url: \"assets/imgs/img-default.jpg\",\n    format: \"\",\n    document_type: \"Tecnomecanica\",\n  },\n  {\n    id: 28,\n    url: \"assets/imgs/img-default.jpg\",\n    format: \"\",\n    document_type: \"Foto del vehiculo frontal\",\n  },\n  {\n    id: 29,\n    url: \"assets/imgs/img-default.jpg\",\n    format: \"\",\n    document_type: \"Foto del vehiculo trasera\",\n  },]\n  others = [\n    {\n      id: 32,\n      url: \"assets/imgs/img-default.jpg\",\n      format: \"\",\n      document_type: \"Recibo Servicio público\",\n    },\n    {\n      id: 33,\n      url: \"assets/imgs/img-default.jpg\",\n      format: \"\",\n      document_type: \"Hoja de vida\",\n    }\n  ]\n  documents_verified = false\n  titles: ['Cédula', 'Tarjeta de propiedad', 'Licencia de conducción', 'Soat', 'Tecnomecánica', 'Vehículo']\n  subscription: Subscription\n  currentDocuments: any[]\n  constructor(private photo: PhotoService,\n    private auth: AuthService,\n    private request: RequestService,\n    private ui: UiService,\n    private router: Router,\n    private loadingController: LoadingController,\n    private realtime: RealtimeService,\n    private network: NetworkStatusService,) { }\n\n  filter(array: any[], start, end) {\n    return array.filter((d, i) => i >= start && i <= end);\n  }\n\n  getDocumentsComplete() {\n    const res = Math.abs(Number(this.auth.vehicles.year) - new Date().getFullYear());\n    if (res > 2)\n      return this.imgs.every(i => i.url && i.url != \"assets/imgs/img-default.jpg\")\n    else {\n      const ings = this.imgs.filter(i => i.id != 27);\n      return ings.every(i => i.url && i.url != \"assets/imgs/img-default.jpg\")\n    }\n  }\n\n  async ngOnInit() {\n\n\n  }\n\n  async ionViewWillEnter() {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n    this.imgs = [{\n      id: 15,\n      url: \"assets/imgs/img-default.jpg\",\n      format: \"\",\n      document_type: \"Cédula frontal\",\n    },\n    {\n      id: 16,\n      url: \"assets/imgs/img-default.jpg\",\n      format: \"\",\n      document_type: \"Cedula trasera\",\n    },\n    {\n      id: 17,\n      url: \"assets/imgs/img-default.jpg\",\n      format: \"\",\n      document_type: \"Tarjeta de propiedad frontal\",\n    },\n    {\n      id: 18,\n      url: \"assets/imgs/img-default.jpg\",\n      format: \"\",\n      document_type: \"Tarjeta de propiedad trasera\",\n    },\n    {\n      id: 19,\n      url: \"assets/imgs/img-default.jpg\",\n      format: \"\",\n      document_type: \"Licencia de conduccion frontal\",\n    }\n      , {\n      id: 20,\n      url: \"assets/imgs/img-default.jpg\",\n      format: \"\",\n      document_type: \"Licencia de conduccion trasera\",\n    },\n    {\n      id: 26,\n      url: \"assets/imgs/img-default.jpg\",\n      format: \"\",\n      document_type: \"Soat\"\n    },\n    {\n      id: 27,\n      url: \"assets/imgs/img-default.jpg\",\n      format: \"\",\n      document_type: \"Tecnomecanica\",\n    },\n    {\n      id: 28,\n      url: \"assets/imgs/img-default.jpg\",\n      format: \"\",\n      document_type: \"Foto del vehiculo frontal\",\n    },\n    {\n      id: 29,\n      url: \"assets/imgs/img-default.jpg\",\n      format: \"\",\n      document_type: \"Foto del vehiculo trasera\",\n    },]\n    if (this.network.getNetworkStatus().connected) {\n      const loader = await this.loadingController.create({ message: \"Por favor espere...\" });\n      await loader.present();\n      this.request.get(`driver/documents/${this.auth.user.id}`)\n        .subscribe(async (res: any) => {\n          const documents = res.data.documents;\n          console.log(\"Documents\", documents)\n          this.currentDocuments = documents;\n          localStorage.setItem(\"currentDocuments\", JSON.stringify(this.currentDocuments));\n          this.imgs = this.imgs.map(img => {\n            const id: any[] = documents.filter(d => {\n              return d[\"document_type_id \"] == img.id;\n            })\n            const other = documents.filter(d => {\n              return d[\"document_type_id \"] == 32 || d[\"document_type_id \"] == 33;\n            })\n            this.others = other;\n            if (id.length > 0) {\n              console.log(\"Id\", id)\n              const photo = id[id.length - 1].url;\n              const document_id = id[id.length - 1].document_id;\n              return { ...img, url: photo, document_id }\n            }\n            return img\n          });\n          (await loader).dismiss();\n        }, async (err: any) => {\n          (await loader).dismiss();\n        })\n      this.request.get(`driver/documents_verified/${this.auth.user.id}`).subscribe(res => {\n        this.documents_verified = true;\n      }, err => {\n        this.documents_verified = false;\n      })\n    } else {\n      this.ui.showToast(\"Verifique su conexión\")\n    }\n  }\n\n  back() {\n    this.router.navigate(['/tabs/profile'])\n  }\n\n  getDocumentsAlreadyFullFill() {\n    const res = Math.abs(Number(this.auth.vehicles.year) - new Date().getFullYear());\n    if (res <= 2) {\n      const images = this.imgs.filter(i => i.id != 27);\n      return images.filter(i => i.url == \"assets/imgs/img-default.jpg\").length\n    }\n    return (this.imgs\n      .filter(i => i.url == \"assets/imgs/img-default.jpg\").length)\n  }\n\n  async takePhoto(item) {\n    try {\n      if (this.network.getNetworkStatus().connected) {\n\n        await (await this.photo.selectImageSource());\n        this.subscription = this.photo.imageSubject.subscribe(async (image: CameraPhoto) => {\n          if (Object.keys(image).length > 0) {\n            const loading = await this.ui.loading(\"Por favor espere...\");\n            console.log(\"Item\", item)\n\n            const current_photo = item.url == \"assets/imgs/img-default.jpg\";\n            const current_photo_url = item.url;\n            item.url = image.dataUrl;\n            item.format = image.format;\n            item.loading = \"yes\";\n            const url = !current_photo ? `driver/update_documents/${item.document_id}` : `driver/documents/${this.auth.user.id}/${item.id}`;\n            const dat = new Date().getTime();\n            const name_file1 = `${dat}_${this.auth.user.id}.${item.format}`;\n            const blob_image = this.photo.dataUrlToBlob(item.url);\n            const image_to_upload = this.photo.getFileImage(item.url, name_file1, item.format);\n            let data = new FormData();\n            \n            if (image_to_upload instanceof File) {\n\n              console.log(\"Image\", JSON.stringify(image_to_upload))\n              data.append('photo', blob_image);\n              console.log(\" Form Data\", data)\n              this.request.post(url, data, false, {\n                enctype: 'multipart/form-data'\n              })\n                .subscribe(async (res: any) => {\n                  (await loading).dismiss();\n                  this.subscription.unsubscribe();\n                  console.log(\"Res\", res)\n                  item.loading = undefined;\n                  console.log(\"Este es el res\", res)\n                  if (!item.document_id) {\n                    item.document_id = res.data.id;\n                  }\n                  if (!this.currentDocuments.find(d => d.id == item.id)) {\n                    this.currentDocuments.push(item);\n                    localStorage.setItem(\"currentDocuments\", JSON.stringify(this.currentDocuments))\n                  }\n                  if (this.getDocumentsComplete()) {\n                    const documents_profile = this.currentDocuments.find(d => d[\"document_type_id \"] == 21);\n                    if (documents_profile) {\n                      if (!this.documents_verified) {\n                        this.realtime.getStatus().update({\n                          verified: this.auth.user.verified,\n                          documents: 1\n                        })\n                        this.ui.presentAlert({\n                          mode: 'ios',\n                          header: \"Ha completado su registro exitosamente\",\n                          buttons: [\n                            {\n                              text: 'Aceptar',\n                              cssClass: 'secondary',\n                              handler: () => {\n                                this.router.navigate(['/tabs/home']);\n                                console.log('cerrar');\n                              }\n                            }\n                          ]\n                        });\n                      }\n                    } else {\n                      this.ui.presentAlert({\n                        mode: 'ios',\n                        header: \"Ha completado los registros del vehiculo, falta la foto de perfil\",\n                        buttons: [\n                          {\n                            text: 'Aceptar',\n                            cssClass: 'secondary',\n                            handler: () => {\n                              this.router.navigate(['/tabs/profile']);\n                              console.log('cerrar');\n                            }\n                          }\n                        ]\n                      });\n                    }\n                  }\n\n                },\n                  async (err: any) => {\n                    (await loading).dismiss();\n                    this.subscription.unsubscribe();\n\n                    item.loading = undefined;\n                    item.url = current_photo_url;\n                    console.log(\"Error\", err)\n                    // this.ui.showToast(\"Archivo\" + (image_to_upload && image_to_upload != null) ? image_to_upload.name : 'No existe')\n                    try {\n                      if (err.status == 400) {\n                        let message = err.error ? err.error.messages ? err.error.messages : 'Hubo un error y no hay message' : \"Bad Request\";\n                        message + \"<br> \" + JSON.stringify(err)\n                        this.ui.presentAlert({\n                          mode: 'ios',\n                          header: \"Hubo un error\",\n                          message,\n                          buttons: [\n                            {\n                              text: 'Aceptar',\n                              cssClass: 'secondary',\n                              handler: () => {\n                              }\n                            }\n                          ]\n                        });\n                        return;\n                      }\n                      if (err.status == 500) {\n                        this.ui.presentAlert({\n                          mode: 'ios',\n                          header: \"Hubo un error\",\n                          message: \"En el servidor\",\n                          buttons: [\n                            {\n                              text: 'Aceptar',\n                              cssClass: 'secondary',\n                              handler: () => {\n                              }\n                            }\n                          ]\n                        });\n                        return;\n                      }\n\n                      this.ui.presentAlert({\n                        mode: 'ios',\n                        header: \"Hubo un error no es el error\",\n                        message: JSON.stringify(err),\n                        buttons: [\n                          {\n                            text: 'Aceptar',\n                            cssClass: 'secondary',\n                            handler: () => {\n                            }\n                          }\n                        ]\n                      });\n                    } catch (e) {\n                      this.ui.presentAlert({\n                        mode: 'ios',\n                        header: \"Hubo un error de código\",\n                        message: e,\n                        buttons: [\n                          {\n                            text: 'Aceptar',\n                            cssClass: 'secondary',\n                            handler: () => {\n                            }\n                          }\n                        ]\n                      });\n                    }\n\n\n\n\n                  })\n            } else {\n              this.ui.showToast(\"Debe ser un archivo\");\n            }\n          }\n        })\n      } else {\n        this.ui.showToast(\"Verifique su conexión\")\n      }\n    } catch (err) {\n      console.log(\"Error\", err)\n    }\n\n  }\n\n  getOtherSuccesfull() {\n    return this.others.length == 2;\n  }\n\n  async updateImage(item) {\n    if (this.network.getNetworkStatus().connected) {\n      const modal = await this.ui.presentModal(OtherDocumentsPage, { img: item, others: this.others })\n      const m = await modal.onDidDismiss();\n\n      this.ionViewWillEnter();\n    } else {\n      this.ui.showToast(\"Verifique su conexión\");\n    }\n\n  }\n\n  async getFile() {\n    if (this.network.getNetworkStatus().connected) {\n      const modal = await this.ui.presentModal(OtherDocumentsPage, { documents: this.imgs, others: this.others })\n      const m = await modal.onDidDismiss();\n\n      this.ionViewWillEnter();\n    } else {\n      this.ui.showToast(\"Verifique su conexión\");\n    }\n\n  }\n\n}\n"]}