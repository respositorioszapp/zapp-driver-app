{"version":3,"sources":["./src/app/screens/screens-tabs/home/home.page.html","./src/app/screens/screens-tabs/home/home-routing.module.ts","./src/app/screens/screens-tabs/home/home.module.ts","./src/app/screens/screens-tabs/home/home.page.scss","./src/app/screens/screens-tabs/home/home.page.ts"],"names":[],"mappings":"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","file":"screens-screens-tabs-home-home-module-es2015.js","sourcesContent":["export default \"<div style=\\\"display: block;\\nposition: relative;\\n-ms-flex-order: -1;\\norder: -1;\\nwidth: 100%;\\nz-index: 10;\\nbackground: transparent;\\\">\\n  <p class=\\\"ion-text-center\\\"><img src=\\\"assets/imgs/logo-morado.png\\\" style=\\\"width: 150px;\\n    height: 50px;\\n\\\"></p>\\n\\n</div>\\n<ion-content color=\\\"warning\\\" >\\n  <ion-refresher slot=\\\"fixed\\\" pullFactor=\\\"0.5\\\" pullMin=\\\"100\\\" pullMax=\\\"200\\\" (ionRefresh)=\\\"loadData()\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-grid style=\\\"width: 80%;\\\">\\n    <ion-row>\\n      <ion-col size=\\\"4\\\">\\n        <img [src]=\\\"image\\\" width=\\\"70\\\" style=\\\"border-radius: 50%;\\n    width: 100px;\\n    height: 100px;\\\">\\n      </ion-col>\\n    <ion-col size=\\\"8\\\" >\\n      <ion-grid >\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-card-title class=\\\"\\\"><span class=\\\"black-color-text\\\">{{user.name | wrapName:17}}</span>\\n              <ion-icon name=\\\"checkmark-circle\\\"\\n                [ngClass]=\\\"{'verified': user.verified == 1, 'not-verified' : user.verified == 0 }\\\"></ion-icon>\\n            </ion-card-title>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n            <ion-card-subtitle class=\\\"\\\">\\n              <span style=\\\"font-weight: 900;\\n    color: black !important;\\\">{{user.email}}</span>\\n            </ion-card-subtitle>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-button mode=\\\"ios\\\" color=\\\"{{user.available == 1? 'success': user.available == 35?'tertiary':'danger'}}\\\" size=\\\"small\\\" (click)=\\\"verified()\\\"\\n          class=\\\"ion-margin-top ion-text-center\\\" style=\\\"margin: auto;\\n      width: 100%;\\\">\\n      <ng-container *ngIf=\\\"user.verified == 1; else elseTemplateNodisponible\\\">\\n        <span *ngIf=\\\"user.available == 1\\\">Disponible</span>\\n        <span *ngIf=\\\"user.available == 0\\\">No disponible</span>\\n        <span *ngIf=\\\"user.available == 35\\\">En servicio</span>\\n      </ng-container>\\n      <ng-template #elseTemplateNodisponible>\\n        <span >No disponible</span>\\n      </ng-template>\\n      \\n         \\n        </ion-button>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <app-order-card [orders]=\\\"filterOrderNear()\\\" title=\\\"Ordenes cerca de ti\\\" [available]=\\\"user.available\\\" [spinner]=\\\"spinner\\\" near=\\\"true\\\" [latLng]=\\\"latLng\\\" [otherOrders]=\\\"filter()\\\">\\n\\n  </app-order-card>\\n  <app-order-card [orders]=\\\"filter()\\\" title=\\\"Ordenes activas\\\" [available]=\\\"user.available\\\" [spinner]=\\\"spinner\\\" near=\\\"false\\\" [latLng]=\\\"latLng\\\" [otherOrders]=\\\"filterOrderNear()\\\">\\n\\n  </app-order-card>\\n  \\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\n\nimport {AplicationPipeModuleModule} from '../../../modules/aplication-pipe-module/aplication-pipe-module.module'\nimport { OrderComponent } from 'src/app/components/order/order.component';\nimport { CommonComponentsModule } from 'src/app/modules/common-components/common-components.module';\nimport { ViewDetailPage } from '../../forms/view-detail/view-detail.page';\nimport { ViewDetailPageModule } from '../../forms/view-detail/view-detail.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule,\n    CommonComponentsModule,\n    AplicationPipeModuleModule,\n    ViewDetailPageModule\n  ],\n  declarations: [HomePage, ],\n  entryComponents: [\n    OrderComponent,\n    \n  ]\n})\nexport class HomePageModule {}\n","export default \".verified {\\n  color: #49158c;\\n  font-size: 1.2em;\\n}\\n\\n.not-verified {\\n  color: #737d81;\\n  font-size: 1.2em;\\n}\\n\\n.card-content-md p {\\n  font-size: 12px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNwcmlsbGEvRG9jdW1lbnRvc01pZ3VlbC9Qcm95ZWN0b3MvemFwcC96YXBwLWRyaXZlci1hcHAtcnBlbmFsb3phL3NyYy9hcHAvc2NyZWVucy9zY3JlZW5zLXRhYnMvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNyYy9hcHAvc2NyZWVucy9zY3JlZW5zLXRhYnMvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7RUFDQSxnQkFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGdCQUFBO0FDQ0o7O0FERUE7RUFDSSwwQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvc2NyZWVucy9zY3JlZW5zLXRhYnMvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi52ZXJpZmllZHtcbiAgICBjb2xvcjogIzQ5MTU4YztcbiAgICBmb250LXNpemU6IDEuMmVtO1xufVxuXG4ubm90LXZlcmlmaWVke1xuICAgIGNvbG9yOiAjNzM3ZDgxO1xuICAgIGZvbnQtc2l6ZTogMS4yZW07XG59XG5cbi5jYXJkLWNvbnRlbnQtbWQgcHtcbiAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDtcbn1cblxuXG5cbiIsIi52ZXJpZmllZCB7XG4gIGNvbG9yOiAjNDkxNThjO1xuICBmb250LXNpemU6IDEuMmVtO1xufVxuXG4ubm90LXZlcmlmaWVkIHtcbiAgY29sb3I6ICM3MzdkODE7XG4gIGZvbnQtc2l6ZTogMS4yZW07XG59XG5cbi5jYXJkLWNvbnRlbnQtbWQgcCB7XG4gIGZvbnQtc2l6ZTogMTJweCAhaW1wb3J0YW50O1xufSJdfQ== */\";","import { Component, OnInit, NgZone, AfterContentInit, ViewChild } from '@angular/core';\nimport { Plugins, Capacitor, App, AppState, Network, LocalNotification } from '@capacitor/core';\n\n\nconst { Geolocation, Haptics, Modals, LocalNotifications } = Plugins;\nimport { AuthService } from 'src/app/services/auth.service';\nimport { RequestService } from 'src/app/services/request.service';\nimport { UiService } from 'src/app/services/ui.service';\nimport { Router } from '@angular/router';\nimport { User } from 'src/app/interfaces/User';\nimport { IonRefresher, LoadingController } from '@ionic/angular';\nimport { ViewDetailPage } from 'src/app/screens/forms/view-detail/view-detail.page';\nimport { RealtimeService } from '../../../services/realtime.service';\nimport { Observable, Subject, Subscription } from 'rxjs';\nimport { environment } from '../../../../environments/environment.prod'\nimport { NetworkStatusService } from '../../../services/network-status.service';\nimport { take } from 'rxjs/operators';\nimport { AngularFireDatabase } from '@angular/fire/database';\n// import { BackgroundGeolocation, BackgroundGeolocationConfig, BackgroundGeolocationEvents, BackgroundGeolocationLocationProvider, BackgroundGeolocationResponse } from '@ionic-native/background-geolocation/ngx';\nimport { PlaceService } from 'src/app/services/place.service';\nimport { DaysService } from 'src/app/services/days.service';\nimport { BackgroundService } from 'src/app/services/background.service';\nimport GoogleMapLatLng from 'src/app/interfaces/GoogleMapLatLng';\n\nimport BackgroundGeolocation, {\n  State,\n  Config,\n  Location,\n  LocationError,\n  Geofence,\n  HttpEvent,\n  MotionActivityEvent,\n  ProviderChangeEvent,\n  MotionChangeEvent,\n  GeofenceEvent,\n  GeofencesChangeEvent,\n  HeartbeatEvent,\n  ConnectivityChangeEvent\n} from \"cordova-background-geolocation-lt\";\nimport { RequestLocationPermissionPage } from '../../forms/request-location-permission/request-location-permission.page';\n\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit, AfterContentInit {\n  @ViewChild(IonRefresher, { read: IonRefresher, static: false }) refresher: IonRefresher;\n  count = 1\n  spinner = false;\n  user: User;\n  orders = []\n  image = \"assets/imgs/avatar.svg\"\n  latLng: Subject<GoogleMapLatLng> = new Subject<GoogleMapLatLng>()\n  orderSubscription: Subscription\n  statusSubscription: Subscription\n  massiveOrdersSubscription: Subscription\n  versionSubscription: Subscription\n  orderNearYou:any[]=[]\n  allLoaded = false\n  dataParams: any = {\n    total: 0,\n    per_page: 5,\n    page: 1,\n    filters: []\n  };\n  nextPage = \"\"\n  to = 0\n  loadedText: string = \"\"\n  loading = false;\n  fcmId = null;\n  audio: any\n  interval = null;\n  geoLocationSubscription: Subscription\n  watchPositionId: string\n  backgroundWatcherId: string\n\n\n  constructor(\n    private auth: AuthService,\n    private request: RequestService, private ui: UiService,\n    private router: Router,\n    private loadingController: LoadingController,\n    private realtime: RealtimeService,\n    private network: NetworkStatusService,\n    private db: AngularFireDatabase,\n    private place: PlaceService,\n    private days: DaysService,\n    private backgroundService: BackgroundService\n  ) {\n\n  }\n  ngAfterContentInit(): void {\n    this.startPosition();\n  }\n\n  async ngOnInit() {\n    this.user = this.auth.user;\n    await LocalNotifications.requestPermission()\n    //\n    App.addListener(\"appStateChange\", (state: AppState) => {\n      clearInterval(this.interval)\n      console.log(\"Background mode\");\n      if (!state.isActive) {\n\n        //Cuando la app est en segundo plano, esperar 6 minutos y reiniciar escuchar la posicin\n        if (this.auth.user != null && this.auth.user.available != 0) {\n          // setTimeout(() => {\n\n          //   this.initializeBackgroundGeolocation();\n          //   this.startWatchingPosition()\n          // }, 240000)\n        }\n\n\n      } else {\n\n\n      }\n    })\n\n    this.startPosition();\n\n  }\n\n\n  async ionViewDidEnter() {\n\n    // this.\n    // this.startWatchingPosition();\n    // this.initializeBackgroundGeolocation()\n\n    Network.addListener('networkStatusChange', async (status) => {\n\n      console.log(\"Network status changed\", status);\n      localStorage.setItem(\"network_status\", JSON.stringify(status));\n      if (status.connected) {\n        Geolocation.clearWatch({ id: this.watchPositionId })\n        if (Capacitor.platform !== 'web') {\n          // await this.backgroundGeolocation.removeAllListeners()\n        }\n        // this.initializeBackgroundGeolocation()\n      }\n    });\n\n  }\n\n  async ionViewWillEnter() {\n\n    this.user = this.auth.user;\n    const i = 0;\n    if(this.auth.person.ordersNearYou){\n      this.orderNearYou=this.auth.person.ordersNearYou;\n    }\n    this.closeSubscriptions()\n    this.initSubscriptions();\n    this.verifyCurrentOrder();\n\n    if (this.user.available != 0) {\n      this.loadData();\n    } else {\n      if (this.network.getNetworkStatus().connected) {\n        let loader;\n        if (!localStorage.getItem(\"current_order\")) {\n          loader = await this.loadingController.create({ message: \"Por favor espere...\" });\n          await loader.present();\n        }\n        this.request.get(`driver/documents/${this.auth.user.id}`)\n          .subscribe(async (res: any) => {\n            if (!localStorage.getItem(\"current_order\")) {\n              (await loader).dismiss();\n            }\n            const documents = res.data.documents;\n            const photo: any[] = documents.filter(d => d[\"document_type \"] == \"Foto del conductor\")\n            if (photo.length > 0) {\n              this.image = photo[photo.length - 1].url;\n            }\n\n          }, async (err) => {\n            if (!localStorage.getItem(\"current_order\")) {\n              (await loader).dismiss();\n            }\n\n          })\n      } else {\n        this.ui.showToast(\"Verifique su conexin\")\n      }\n\n    }\n    const position = await Geolocation.getCurrentPosition({\n      enableHighAccuracy: true\n    });\n\n    // (await loader).dismiss();\n    localStorage.setItem(\"latitude\", position.coords.latitude.toString());\n    localStorage.setItem(\"longitude\", position.coords.longitude.toString());\n\n\n  }\n\n\n  verifyCurrentOrder(){\n    if (localStorage.getItem(\"current_order\")) {\n      const order = JSON.parse(localStorage.getItem(\"current_order\"));\n      if(order.service_type_id==3){\n        this.request.get(`order/show_order/${order.id}`)\n        .subscribe(async (res:any)=>{\n          const orderDatabase= res.data;\n          const myDetails=orderDatabase.detail.filter(d=> d.people_id==this.auth.user.id);\n          if(myDetails.length>0){\n            const detailData= myDetails[0];\n            if(detailData.status==25){\n              if(orderDatabase.status_order==25){\n                localStorage.removeItem(\"current_order\");\n                await this.ui.presentAlert({\n                  mode: 'ios',\n                  header: \"Advertencia\",\n                  message:\"Esta orden ya ha sido finalizada\"\n                  \n                })\n              }else{\n                const otherDetails = orderDatabase.detail.filter(d=> d.people_id!=this.auth.user.id);\n                if(otherDetails.length==0){\n                  this.endService(orderDatabase);\n                }\n              }\n            }else{\n              this.viewDetail(order);\n            }\n          }\n          \n        })\n      }else{\n        this.viewDetail(order);\n      }\n    }\n  }\n\n  clearLocals() {\n    localStorage.removeItem(\"current_order\");\n    localStorage.removeItem(\"total_charge\");\n    localStorage.removeItem(\"initTimer\");\n    localStorage.removeItem(\"client_configuration_data\");\n    localStorage.removeItem(\"configuration_data\");\n    localStorage.removeItem(\"timer\");\n    localStorage.removeItem(\"bearing\");\n    localStorage.removeItem(\"bearing_used\");\n    localStorage.removeItem(\"app_close_date\")\n    const idInterval = Number(localStorage.getItem(\"id_interval\"));\n    clearInterval(idInterval)\n    localStorage.removeItem(\"id_interval\");\n  }\n\n  getOrderAlertMessage(order, isMassive?) {\n    const pay = order.payment_method.toLowerCase() == 'efectivo' ? order.zapp_store_order == 1 ? order.total_zapp_store : order.total : 0;\n    let details: any[] = order.details ? order.details : order.detail;\n    let message = \"Tipo de servicio: <strong>\" + order.service_type + \"</strong>\"\n    if (order.service_type_id != \"3\") {\n      message += \"<br/> Recorrido :  <strong>\" + (order.round_trip == 1 ? 'Ida y Vuelta' : 'Ida') + \"</strong>\"\n      message += \"<br>Cantidad :<strong>\" + (details.length) + \" direcciones </strong>\"\n      message += \"<br> Mtodo de pago: <strong>\" + (order.payment_method) + \"</strong>\";\n      + \"<br> Tipo de accesorio: <strong>\" + (order.accessory_type) + \"</strong>\";\n      message += \"<br> Da del servicio : <strong>\" + (order.date) + \"</strong>\";\n    }\n\n    if (order.service_type_id == \"1\") {\n      message += \"<br> Direccin A : <strong>\" + (details[0].address) + \"</strong>\"\n        + \"<br> Direccin B :<strong>\" + (details[1].address) + \"</strong>\";\n    }\n    if (order.service_type_id == \"3\") {\n      message += \"<br> Da del servicio : <strong>\" + (order.date) + \"</strong>\"\n      message += \"<br> Direccin : <strong>\" + (details[0].address) + \"</strong>\"\n      message += \"<br> Hora de inicio : <strong>\" + (details[0].start_time) + \"</strong>\"\n        + \"<br> Hora de salida :<strong>\" + (details[0].departure_time) + \"</strong>\";\n      message += \"<br> Nmero de horas :<strong>\" + (details[0].number_of_hours) + \"</strong>\";\n    } else {\n      if (order.payment_method.toLowerCase() == 'masivo') {\n        let cash = 0;\n        details.forEach(d => {\n          cash += d.declared_value ? d.declared_value : 0;\n        })\n        message += \"<br> Cobrar: <strong>$\" + (cash) + \"</strong>\"\n      } else {\n        message += \"<br> Cobrar: <strong>$\" + (pay) + \"</strong>\"\n      }\n    }\n    return message;\n  }\n\n  initSubscriptions() {\n    console.log(\"Init Subscription\")\n    this.startMassiveOrderSubscription()\n    this.startNewOrdersSubsriptions();\n    this.startStatusSubscription();\n    this.listenToVersionChange()\n  }\n\n  listenToVersionChange() {\n    this.versionSubscription = this.realtime.getFirebaseCollectionObject(\"code_version_mobile/5\")\n      .valueChanges().subscribe(async (res: any) => {\n        if (res != null) {\n          console.log(\"Res version code\", res)\n          if (localStorage.getItem(\"current_version\")) {\n            const status = JSON.parse(localStorage.getItem(\"current_version\"));\n            console.log(\"current_version\", status);\n            console.log(\"res\", res);\n            console.log(\"equal\", res === status)\n            if (res.code == status.code) {\n              return;\n            } else {\n              localStorage.setItem(\"current_version\", JSON.stringify(res));\n            }\n          } else {\n            console.log(\"elseeee\");\n            localStorage.setItem(\"current_version\", JSON.stringify(res));\n          }\n          if (res.code != environment.VERSION_NAME) {\n            await this.ui.presentAlert({\n              mode: 'ios',\n              header: 'Hay nueva versin disponible!',\n              message: 'Por favor, descargala',\n              buttons: [\n                {\n                  text: 'Aceptar',\n                  role: 'cancel',\n                  cssClass: 'secondary',\n                  handler: (blah) => {\n                    console.log(\"Execute\")\n                    this.auth.logOut()\n                  }\n                },\n              ]\n            })\n          }\n        } else {\n          this.realtime.getFirebaseCollectionObject(\"code_version_mobile/5\").set({\n            code: environment.VERSION_NAME\n          })\n        }\n      })\n  }\n\n  startStatusSubscription() {\n    let verified = this.auth.user.verified;\n    this.statusSubscription = this.realtime.getStatus().valueChanges()\n      .subscribe(async (res: any) => {\n        console.log(\"Status\", res)\n\n        if (res != null) {\n\n          if (localStorage.getItem(\"current_status\")) {\n            const status = JSON.parse(localStorage.getItem(\"current_status\"));\n            console.log(\"current_status\", status);\n            console.log(\"res\", res);\n            console.log(\"equal\", res === status)\n            if (res.verified == status.verified && res.documents == status.documents && res.first_time_verified == status.first_time_verified) {\n              return;\n            } else {\n              localStorage.setItem(\"current_status\", JSON.stringify(res));\n            }\n          } else {\n            console.log(\"elseeee\");\n            localStorage.setItem(\"current_status\", JSON.stringify(res));\n          }\n          if (verified == 1) {\n            verified = 0;\n            return;\n          }\n          this.auth.user.verified = res.verified;\n          this.user.verified = res.verified;\n          let header;\n\n          if ((res.verified == 1 && res.documents == 1) || res.verified == 1) {\n\n            header = 'Enhorabuena, has sido verificado!';\n            if (this.user.available == 1) {\n              this.loadData();\n            }\n          } else {\n            if (res.verified == 0 && res.documents == 1) {\n\n              header = res.first_time_verified == 0\n                ? 'Enhorabuena, has completado tu registro, una operadora est verficando tu informacin y posteriormente sers activado ' :\n                'Tu usuario ha sido inhabilitado, contacta al administrador!';\n              console.log(\"Header\", header)\n              this.user.available = 0;\n              this.auth.user.available = 0;\n              this.orders = []\n            } else {\n              if (res.verified == 0 && res.documents == 0) {\n                header = 'Completa tu informacin para terminar el regitro y sers habilitado por una operadora';\n              }\n            }\n          }\n          this.auth.setUser(this.user);\n          let message;\n          this.ui.presentAlert({\n            mode: 'ios',\n            header,\n            message,\n            buttons: [\n              {\n                text: 'Aceptar',\n                role: res.verified == 0 && res.documents == 0 ? undefined : 'cancel',\n                cssClass: 'secondary',\n                handler: () => {\n\n                  if (res.verified == 0 && res.documents == 0) {\n                    this.router.navigate(['tabs/documents'])\n                  }\n                  console.log('cerrar');\n                }\n              }\n            ]\n          });\n          if (!localStorage.getItem(\"firstTime\" + this.auth.user.id)) {\n            localStorage.setItem(\"firstTime\" + this.auth.user.id, JSON.stringify({}))\n            let message = \"Zapp Driver App te da la bienvenida <br> \";\n            message += this.auth.person.first_name.toString().toUpperCase() + \" \";\n            message += this.auth.person.last_name.toString().toUpperCase() + \" <br> \";\n            message += \"Te recomendamos que para tener la mejor experiencia posible que mantengas el GPS encendido <br>\"\n            message += \" <br> Muchas gracias y disfruta de la aplicacin\"\n            this.ui.presentAlert({\n              mode: 'ios',\n              header: \"Bienvennido\",\n              message,\n              buttons: [\n                {\n                  text: 'Aceptar',\n                  cssClass: 'secondary',\n                  handler: async (res) => {\n\n\n\n                  }\n                }\n              ]\n            });\n          }\n        } else {\n          this.realtime.getStatus().update({\n            verified: 0,\n            documents: 0,\n            first_time_verified: 0\n          })\n        }\n      })\n  }\n\n  startMassiveOrderSubscription() {\n    this.massiveOrdersSubscription = this.realtime.getMassivesOrders().valueChanges()\n      .subscribe(async (res: any) => {\n        console.log(\"Massive order\", res)\n        if (res != null) {\n\n\n          if (res.new_order == 1) {\n            const order = res.orders;\n            if (order != null && Object.keys(order).length > 0) {\n              const { message: activeMessage, active } = await this.isOrderActive(order);\n              if (active) {\n                if (!localStorage.getItem(\"current_order\")) {\n                  this.playAudio();\n                  if(!this.orderNearYou.find(o=>o.id==order.id)){\n                    this.orderNearYou.push(order);\n                    this.auth.person.ordersNearYou=this.orderNearYou;\n                    this.auth.setPerson(this.auth.person)\n                  }\n                }\n              }\n\n            }\n          }\n        }\n      })\n  }\n\n  startNewOrdersSubsriptions() {\n    this.orderSubscription = this.realtime.getNewOrder().valueChanges().subscribe((res: any) => {\n      console.log(\"res\", res)\n      if (res != null) {\n        console.log(\"snapshot\", res);\n        if (res.new_order == 1) {\n          const order = res.orders;\n\n          const item = this.orders.find(o => o.id == order.id);\n          if (!item) {\n            this.playAudio()\n            // Haptics.vibrate();\n            this.orders.unshift(order);\n\n            this.realtime.getNewOrder().update({\n              new_order: 0,\n              orders: {},\n              proximity: 1\n            });\n            const details= order.details? order.details:order.detail;\n            \n            this.realtime.getFirebaseCollectionObject(`order_detail_report/${order.id}/${details[0].id}`)\n            .valueChanges().subscribe((res:any)=>{\n              if(res==null){\n                this.realtime.getFirebaseCollectionObject(`order_detail_report/${order.id}/${details[0].id}`)\n                .set({\n                  ...details[0]\n                })\n              }\n            })\n            \n          }\n        }\n\n      }\n\n    })\n  }\n\n  closeSubscriptions() {\n    if (this.statusSubscription) {\n      this.statusSubscription.unsubscribe()\n    }\n    if (this.orderSubscription) {\n      this.orderSubscription.unsubscribe();\n    }\n    if (this.massiveOrdersSubscription) {\n      this.massiveOrdersSubscription.unsubscribe();\n    }\n  }\n\n  ionViewWillLeave() {\n    this.closeSubscriptions();\n  }\n\n  isAboutToEnd(item) {\n    return item.details.every(d => d.status == 25 || d.status == 48);\n  }\n\n  endService(item) {\n    console.log(\"Order\", item)\n    const data = new FormData();\n    // this.ui.showToast(\"Latitude \" + this.latitude + \" Longitud\" + this.longitude)\n    const latitude = localStorage.getItem(\"latitude\");\n    const longitude = localStorage.getItem(\"longitude\");\n    data.append(\"order_id\", item.id)\n    data.append(\"latitude\", latitude)\n    data.append(\"longitude\", longitude)\n    data.append(\"description\", \"Finalizacin Servicio\");\n    data.append(\"user_id\", this.auth.user.id.toString())\n    const loader = this.ui.loading(\"Por favor espere...\");\n    this.request.post(\"driver/end_service\", data).subscribe(\n      async (res: any) => {\n        (await loader).dismiss();\n        item.status_order = 25;\n        this.ui.showToast(\"Orden \" + item.id + \" finalizada.\", () => {\n\n        })\n      }, async (err: any) => {\n        console.log(\"Error\", err);\n        (await loader).dismiss();\n        if (err.status == 400) {\n          this.ui.showToast(err.error.messages[0])\n        }\n\n      })\n  }\n\n  async startPosition() {\n    if (this.auth.user && this.auth.user.available) {\n      if (Capacitor.platform !== 'web') {\n        await BackgroundGeolocation.stop();\n        this.initializeBackgroundGeolocation()\n      } else {\n        await Geolocation.clearWatch({ id: this.watchPositionId });\n        this.startWatchingPosition();\n      }\n    }\n  }\n\n  async stopPosition() {\n    await Geolocation.clearWatch({ id: this.watchPositionId });\n    if (Capacitor.platform !== 'web') {\n      // await this.backgroundGeolocation.removeAllListeners()\n      await BackgroundGeolocation.stop()\n    }\n  }\n\n\n\n  startWatchingPosition(mode?) {\n    if (this.auth.user.available != 0) {\n\n      this.watchPositionId = Geolocation.watchPosition({\n        // enableHighAccuracy: true\n      }, async (position, err) => {\n        if (!err) {\n          console.log(`Location Update`, JSON.stringify(position));\n          // if (Capacitor.platform != 'web') {\n          //   Haptics.vibrate();\n          // }\n          const latitude = localStorage.getItem(\"latitude\");\n          const longitude = localStorage.getItem(\"longitude\");\n          if (latitude && longitude) {\n            try {\n              console.log(`Location Update Success`);\n              localStorage.setItem(\"latitude\", position.coords.latitude.toString());\n              localStorage.setItem(\"longitude\", position.coords.longitude.toString());\n              const heading = position.coords.heading ? position.coords.heading : 0;\n              let bearing_used;\n              if (localStorage.getItem(\"bearing\")) {\n                const bearing = localStorage.getItem(\"bearing\");\n                bearing_used = bearing;\n              }\n              localStorage.setItem(\"bearing\", heading.toString())\n              let bearing = 0;\n              if (bearing_used) {\n                bearing = bearing_used;\n              } else {\n                bearing = 180;\n              }\n              const actual_angle = heading - (bearing);\n              this.latLng.next({\n                lat: position.coords.latitude,\n                lng: position.coords.longitude,\n                bearing: actual_angle\n              });\n              await this.realtime.getUserGeolocation().update({\n                key: this.auth.user.id,\n                user_id: this.auth.user.id,\n                latitude: position.coords.latitude.toString(),\n                longitude: position.coords.longitude.toString(),\n                city_id: this.auth.person.city_id,\n                state_id: Number(this.auth.person.state_id),\n                level_id: Number(this.auth.user.level_id),\n                // last_active: Date.now(),\n                available: this.auth.user.available,\n                driver_name: this.auth.user.name,\n                transport_type_id: this.auth.vehicles.transport_type_id,\n              });\n              if (localStorage.getItem(\"current_order\")) {\n                const order = JSON.parse(localStorage.getItem(\"current_order\"));\n                console.log(\"Order Next 2\",)\n                if (order) {\n                  let path = 'order_gps/' + order.id + '/' + this.auth.user.id;\n                  this.db.object(path).update({\n                    order: order.id,\n                    key: this.auth.user.id,\n                    vehicleId: this.auth.vehicles.id,\n                    lat: position.coords.latitude,\n                    lng: position.coords.longitude,\n                    oldLat: position.coords.latitude,\n                    oldLng: position.coords.longitude,\n                    angle: actual_angle,\n                    // last_active: Date.now(),\n                    code: environment.VERSION_NAME\n                  });\n                  this.realtime.getFirebaseCollectionObject('order_history_reports/' + order.id + '/' + this.auth.user.id)\n                    .valueChanges().pipe(take(1)).subscribe((value: any) => {\n                      // this.ui.showToast(\"Locations \" + \"Latitude \" + lat + \" Longitud \" + lng + \"Hora\" + Date.now())\n                      if (value === null) {\n                        const locations = [{\n                          lat: position.coords.latitude, lng: position.coords.longitude, created_at: Date.now()\n                        }]\n                        // this.ui.showToast(\"Locations \" + \"Latitude \" + lat + \" Longitud \" + lng + \"Hora\" + Date.now())\n                        this.realtime.getFirebaseCollectionObject('order_history_reports/' + order.id + '/' + this.auth.user.id).set({\n                          order,\n                          key: this.auth.user.id,\n                          user_id: this.auth.user.id,\n                          locations,\n                          code: environment.VERSION_NAME\n                        });\n\n                      } else {\n                        // update\n                        let locations: any[] = value.locations;\n                        locations.push({\n                          lat: position.coords.latitude, lng: position.coords.longitude, created_at: Date.now()\n                        })\n                        this.realtime.getFirebaseCollectionObject('order_history_reports/' + order.id + '/' + this.auth.user.id)\n                          .update({\n                            order,\n                            key: this.auth.user.id,\n                            locations,\n                            code: environment.VERSION_NAME\n                          });\n                      }\n                    })\n                }\n              }\n            } catch (e) {\n              console.log(`Location Update Error`, e);\n            }\n\n          } else {\n            localStorage.setItem(\"latitude\", position.coords.latitude.toString());\n            localStorage.setItem(\"longitude\", position.coords.longitude.toString());\n            const heading = position.coords.heading ? position.coords.heading : 0;\n            let bearing_used;\n            if (localStorage.getItem(\"bearing\")) {\n              const bearing = localStorage.getItem(\"bearing\");\n              bearing_used = bearing;\n            }\n            localStorage.setItem(\"bearing\", heading.toString())\n            let bearing = 0;\n            if (bearing_used) {\n              bearing = bearing_used;\n            } else {\n              bearing = 180;\n            }\n            const actual_angle = heading - (bearing);\n            this.realtime.getUserGeolocation().update({\n              key: this.auth.user.id,\n              user_id: this.auth.user.id,\n              latitude: position.coords.latitude.toString(),\n              longitude: position.coords.longitude.toString(),\n              city_id: this.auth.person.city_id,\n              state_id: Number(this.auth.person.state_id),\n              level_id: Number(this.auth.user.level_id),\n              // last_active: Date.now(),\n              available: this.auth.user.available,\n              driver_name: this.auth.user.name,\n              transport_type_id: this.auth.vehicles.transport_type_id,\n            });\n            if (localStorage.getItem(\"current_order\")) {\n              const order = JSON.parse(localStorage.getItem(\"current_order\"));\n              console.log(\"Order Next 2\",)\n              if (order) {\n                let path = 'order_gps/' + order.id + '/' + this.auth.user.id;\n                this.db.object(path).update({\n                  order: order.id,\n                  key: this.auth.user.id,\n                  vehicleId: this.auth.vehicles.id,\n                  lat: position.coords.latitude,\n                  lng: position.coords.longitude,\n                  oldLat: position.coords.latitude,\n                  oldLng: position.coords.longitude,\n                  angle: actual_angle,\n                  // last_active: Date.now(),\n                  code: environment.VERSION_NAME\n                });\n                this.realtime.getFirebaseCollectionObject('order_history_reports/' + order.id + '/' + this.auth.user.id)\n                  .valueChanges().pipe(take(1)).subscribe((value: any) => {\n                    // this.ui.showToast(\"Locations \" + \"Latitude \" + lat + \" Longitud \" + lng + \"Hora\" + Date.now())\n                    if (value === null) {\n                      const locations = [{\n                        lat: position.coords.latitude, lng: position.coords.longitude, created_at: Date.now()\n                      }]\n                      // this.ui.showToast(\"Locations \" + \"Latitude \" + lat + \" Longitud \" + lng + \"Hora\" + Date.now())\n                      this.realtime.getFirebaseCollectionObject('order_history_reports/' + order.id + '/' + this.auth.user.id).set({\n                        order,\n                        key: this.auth.user.id,\n                        user_id: this.auth.user.id,\n                        locations,\n                        code: environment.VERSION_NAME\n                      });\n\n                    } else {\n                      // update\n                      let locations: any[] = value.locations;\n                      locations.push({\n                        lat: position.coords.latitude, lng: position.coords.longitude, created_at: Date.now()\n                      })\n                      this.realtime.getFirebaseCollectionObject('order_history_reports/' + order.id + '/' + this.auth.user.id)\n                        .update({\n                          order,\n                          key: this.auth.user.id,\n                          locations,\n                          code: environment.VERSION_NAME\n                        });\n                    }\n                  })\n              }\n            }\n          }\n        } else {\n\n          await Geolocation.clearWatch({ id: this.watchPositionId });\n          this.startWatchingPosition();\n          if (Capacitor.platform !== 'web') {\n            // await this.backgroundGeolocation.removeAllListeners()\n          }\n          this.initializeBackgroundGeolocation()\n        }\n      });\n    }\n\n    // setTimeout(async () => {\n    //   await Geolocation.clearWatch({ id: this.watchPositionId });\n    //   if (Capacitor.platform !== 'web') {\n    //     // await this.backgroundGeolocation.removeAllListeners()\n    //   }\n\n    //   this.startWatchingPosition();\n    //   this.initializeBackgroundGeolocation()\n    // }, 240000)\n  }\n\n  async initializeBackgroundGeolocation() {\n\n    if (this.auth.user.available != 0) {\n      if (Capacitor.platform !== 'web') {\n        // 1.  Listen to events.\n        BackgroundGeolocation.onLocation(async location => {\n          console.log('[location] - ', location);\n\n          try {\n            localStorage.setItem(\"latitude\", location.coords.latitude.toString());\n            localStorage.setItem(\"longitude\", location.coords.longitude.toString());\n            const heading = location.coords.heading ? location.coords.heading : 0;\n            let bearing_used = 0;\n            if (localStorage.getItem(\"bearing\")) {\n              const bearing = localStorage.getItem(\"bearing\");\n              bearing_used = parseFloat(bearing);\n            }\n            localStorage.setItem(\"bearing\", heading.toString())\n            let bearing = 0;\n            if (bearing_used != 0) {\n              // Angle used before\n              bearing = bearing_used\n            } else {\n              //Image original angle\n              bearing = 180;\n            }\n            const actual_angle = heading - (bearing);\n            //Notified modal to update the driver position\n            this.latLng.next({\n              lat: location.coords.latitude,\n              lng: location.coords.longitude,\n              bearing: actual_angle\n            });\n            //Update firebase document driver_geolocation/${city}/${driver_id}\n            await this.realtime.getUserGeolocation().update({\n              key: this.auth.user.id,\n              user_id: this.auth.user.id,\n              latitude: location.coords.latitude.toString(),\n              longitude: location.coords.longitude.toString(),\n              city_id: this.auth.person.city_id,\n              state_id: Number(this.auth.person.state_id),\n              level_id: Number(this.auth.user.level_id),\n              // last_active: Date.now(),\n              available: this.auth.user.available,\n              driver_name: this.auth.user.name,\n              transport_type_id: this.auth.vehicles.transport_type_id,\n            });\n            console.log(\"Location Update User Location\")\n            if (localStorage.getItem(\"current_order\")) {\n              const order = JSON.parse(localStorage.getItem(\"current_order\"));\n              //Set firebase collection path for order gps order_gps/${order_id}/${user_id}\n              let path = 'order_gps/' + order.id + '/' + this.auth.user.id;\n              //Update Driver posititon in the order\n              await this.db.object(path).update({\n                order: order.id,\n                key: this.auth.user.id,\n                vehicleId: this.auth.vehicles.id,\n                lat: location.coords.latitude,\n                lng: location.coords.longitude,\n                oldLat: location.coords.latitude,\n                oldLng: location.coords.longitude,\n                angle: actual_angle,\n                code: environment.VERSION_NAME\n              });\n              console.log(\"Location Update User Location in Order\")\n            } else {\n\n            }\n          } catch (e) {\n            console.log(`Location Update Error`, e);\n            // this.ui.showToast(\"Error\" + JSON.stringify(e))\n          }\n        });\n\n        BackgroundGeolocation.onMotionChange(async event => {\n          console.log('[motionchange] - ', event.isMoving, event.location);\n          const { location } = event;\n\n          try {\n            localStorage.setItem(\"latitude\", event.location.coords.latitude.toString());\n            localStorage.setItem(\"longitude\", event.location.coords.longitude.toString());\n            const heading = event.location.coords.heading ? event.location.coords.heading : 0;\n            let bearing_used = 0;\n            if (localStorage.getItem(\"bearing\")) {\n              const bearing = localStorage.getItem(\"bearing\");\n              bearing_used = parseFloat(bearing);\n            }\n            localStorage.setItem(\"bearing\", heading.toString())\n            let bearing = 0;\n            if (bearing != 0) {\n              // Angle used before\n              bearing = bearing_used\n            } else {\n              //Image original angle\n              bearing = 180;\n            }\n            const actual_angle = heading - (bearing);\n            //Notified modal to update the driver position\n            this.latLng.next({\n              lat: event.location.coords.latitude,\n              lng: event.location.coords.longitude,\n              bearing: actual_angle\n            });\n            //Update firebase document driver_geolocation/${city}/${driver_id}\n            await this.realtime.getUserGeolocation().update({\n              key: this.auth.user.id,\n              user_id: this.auth.user.id,\n              latitude: event.location.coords.latitude.toString(),\n              longitude: event.location.coords.longitude.toString(),\n              city_id: this.auth.person.city_id,\n              state_id: Number(this.auth.person.state_id),\n              level_id: Number(this.auth.user.level_id),\n              // last_active: Date.now(),\n              available: this.auth.user.available,\n              driver_name: this.auth.user.name,\n              transport_type_id: this.auth.vehicles.transport_type_id,\n            });\n            console.log(\"Location Update User Location\")\n            if (localStorage.getItem(\"current_order\")) {\n              const order = JSON.parse(localStorage.getItem(\"current_order\"));\n              if (order) {\n                let path = 'order_gps/' + order.id + '/' + this.auth.user.id;\n\n                await this.db.object(path).update({\n                  order: order.id,\n                  key: this.auth.user.id,\n                  vehicleId: this.auth.vehicles.id,\n                  lat: event.location.coords.latitude,\n                  lng: event.location.coords.longitude,\n                  oldLat: event.location.coords.latitude,\n                  oldLng: event.location.coords.longitude,\n                  angle: actual_angle,\n                  // last_active: Date.now(),\n                  code: environment.VERSION_NAME\n                });\n                console.log(\"Location Update User Location in Order\")\n\n              }\n            } else {\n\n            }\n          } catch (e) {\n            console.log(`Location Update Error`, e);\n            this.ui.showToast(\"Error\" + JSON.stringify(e))\n          }\n        });\n\n        BackgroundGeolocation.onHttp(response => {\n          console.log('[http] - ', response.success, response.status, response.responseText);\n        });\n\n        BackgroundGeolocation.onProviderChange(event => {\n          console.log('[providerchange] - ', event.enabled, event.status, event.gps);\n        });\n\n\n        // 2.  Configure the plugin with #ready\n        BackgroundGeolocation.ready({\n          stopTimeout:1,\n          debug: !environment.production,\n          logLevel: BackgroundGeolocation.LOG_LEVEL_VERBOSE,\n          desiredAccuracy: BackgroundGeolocation.DESIRED_ACCURACY_HIGH,\n          distanceFilter: 10,\n          stopOnTerminate: false,\n          startOnBoot: true,\n          locationAuthorizationRequest: 'Always',\n          backgroundPermissionRationale: {\n            title: \"Allow access to this device's location in the background?\",\n            message: \"In order to allow X, Y and Z in the background, please enable 'Allow all the time' permission\",\n            positiveAction: \"Change to Allow all the time\",\n            negativeAction: \"Cancel\"\n          },\n          activityType:BackgroundGeolocation.ACTIVITY_TYPE_AUTOMOTIVE_NAVIGATION,\n          foregroundService:true,\n          triggerActivities: \"on_foot, walking, running,in_vehicle,on_bicycle\"\n\n\n        }, async (state) => {\n          console.log('[ready] BackgroundGeolocation is ready to use');\n          if (!state.enabled) {\n\n            await BackgroundGeolocation.start();\n            BackgroundGeolocation.changePace(true);\n            // 3.  Start tracking.\n            if (!localStorage.getItem(\"background_location_accepted\")) {\n              // Is Android device ignoring battery optimizations?\n              this.ui.presentModal(RequestLocationPermissionPage,)\n\n\n            }\n          }\n        });\n\n      }\n    }\n  }\n\n\n  playAudio() {\n    if (environment.PLAY_AUDIO_ON_REQUEST == true) {\n      this.audio = new Audio(environment.AUDIO_PATH);\n      this.audio.play();\n    }\n\n  }\n\n  stopAudio() {\n    this.audio.pause();\n  }\n\n  cancel() {\n    this.ui.presentAlert({\n      mode: 'ios',\n      header: \"\",\n      message: \"\",\n      buttons: [\n        {\n          text: 'Aceptar',\n          cssClass: 'secondary',\n          handler: async (res) => {\n\n          }\n        }\n      ]\n    });\n  }\n\n  async verified() {\n\n    if (this.user.verified == 0) {\n      let header = \"Para ponerte disponible, primero debes ser verificado!\";\n      let message;\n      this.ui.presentAlert({\n        mode: 'ios',\n        header,\n        message,\n        buttons: [\n          {\n            text: 'Aceptar',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: (res) => { console.log('cerrar'); }\n          }\n        ]\n      });\n    } else {\n      if (this.network.getNetworkStatus().connected) {\n        const loader = await this.loadingController.create({ message: \"Por favor espere...\", mode: 'ios' });\n        await loader.present();\n        try {\n          let latitude;\n          let longitude;\n          if (localStorage.getItem(\"latitude\") && localStorage.getItem(\"longitude\")) {\n            latitude = localStorage.getItem(\"latitude\");\n            longitude = localStorage.getItem(\"longitude\");\n          } else {\n            const position = await Geolocation.getCurrentPosition({\n              // enableHighAccuracy: true\n            });\n            latitude = position.coords.latitude;\n            longitude = position.coords.longitude;\n          }\n          localStorage.setItem(\"latitude\", latitude.toString());\n          localStorage.setItem(\"longitude\", longitude.toString());\n          this.auth.user.available = this.auth.user.available == 1 ? 0 : 1;\n          this.user.available = this.auth.user.available;\n\n          this.request.post(`driver/change_availability/${this.auth.user.id}`, {\n            latitude,\n            longitude,\n            available: this.auth.user.available\n          }).subscribe(async (res: any) => {\n            (await loader).dismiss();\n            this.realtime.getUserGeolocation().update({\n              key: this.auth.user.id,\n              user_id: this.auth.user.id,\n              latitude: latitude.toString(),\n              longitude: longitude.toString(),\n              city_id: this.auth.person.city_id,\n              state_id: Number(this.auth.person.state_id),\n              level_id: Number(this.auth.user.level_id),\n              // last_active: Date.now(),\n              available: this.auth.user.available,\n              driver_name: this.auth.user.name,\n              transport_type_id: this.auth.vehicles.transport_type_id,\n            });\n            if (this.auth.user.available == 0) {\n              Geolocation.clearWatch({ id: this.watchPositionId });\n              if (Capacitor.platform != 'web') {\n                await BackgroundGeolocation.stop();\n              }\n\n              // await this.backgroundGeolocation.removeAllListeners();\n            } else {\n              this.startPosition();\n            }\n\n            this.auth.setUser(this.auth.user);\n            if (this.auth.user.available == 1) {\n\n              this.ui.showToast(\"El usuario ahora est disponible\");\n              this.loadData();\n            } else {\n              // this.geolocation.stopWatching();\n              this.ui.showToast(\"El usuario ahora  no est disponible\");\n              const id = localStorage.getItem(\"watchPositionId\");\n              if (id) {\n                Geolocation.clearWatch({ id })\n              }\n            }\n\n          }, async (err: any) => {\n            (await loader).dismiss();\n\n            this.ui.showToast(\"Hubo un error y  no se pudo poner disponible\");\n            this.auth.user.available = this.auth.user.available == 1 ? 0 : 1;\n            this.user.available = this.auth.user.available;\n\n            console.log('error');\n          })\n\n        } catch (e) {\n          (await loader).dismiss();\n          this.ui.presentAlert({\n            mode: 'ios',\n            header: \"Advertencia\",\n            message: \"Su ubicacin no est disponible, por favor verificar el estado del GPS\",\n            buttons: [\n              {\n                text: 'Aceptar',\n                cssClass: 'secondary',\n                handler: async (res) => {\n\n                }\n              }\n            ]\n          });\n          console.log(\"Error\", e)\n\n        }\n      } else {\n        this.ui.showToast(\"Verifique su conexin\");\n      }\n    }\n  }\n\n  async loadData() {\n    if (this.network.getNetworkStatus().connected) {\n      this.spinner = true;\n      let loader;\n      if (!localStorage.getItem(\"current_order\")) {\n        loader = await this.ui.loading(\"Por favor espere...\");\n      }\n      this.orders = [];\n      this.request.get(`driver/list_current_orders/${this.auth.user.id}`)\n        .subscribe(\n          async (res: any) => {\n            this.refresher.complete();\n            this.spinner = false;\n            this.orders = res.data.data;\n            console.log(\"Orders\", this.orders);\n            this.orders.forEach(order => {\n              this.setOrderReminder(order);\n            })\n            if (loader) {\n              this.request.get(`driver/documents/${this.auth.user.id}`)\n                .subscribe(async (res: any) => {\n                  if (!localStorage.getItem(\"current_order\")) {\n                    (await loader).dismiss();\n                  }\n                  const documents = res.data.documents;\n                  const photo: any[] = documents.filter(d => d[\"document_type \"] == \"Foto del conductor\")\n                  if (photo.length > 0) {\n                    this.image = photo[photo.length - 1].url;\n                  }\n\n                }, async (err) => {\n                  if (!localStorage.getItem(\"current_order\")) {\n                    (await loader).dismiss();\n                  }\n                })\n            }\n\n\n          },\n          (err: any) => {\n            this.refresher.complete();\n            if (loader) {\n              this.request.get(`driver/documents/${this.auth.user.id}`)\n                .subscribe(async (res: any) => {\n                  if (!localStorage.getItem(\"current_order\")) {\n                    (await loader).dismiss();\n                  }\n                  const documents = res.data.documents;\n                  const photo: any[] = documents.filter(d => d[\"document_type \"] == \"Foto del conductor\")\n                  if (photo.length > 0) {\n                    this.image = photo[photo.length - 1].url;\n                  }\n\n                }, async (err) => {\n                  if (!localStorage.getItem(\"current_order\")) {\n                    (await loader).dismiss();\n                  }\n                })\n            }\n            this.spinner = false;\n          });\n    } else {\n      this.ui.showToast(\"Verifique su conexin\")\n    }\n  }\n\n\n\n  filter() {\n    return this.orders.filter(a => a.status_order != 25);\n  }\n\n  filterOrderNear(){\n    if(this.auth.person.ordersNearYou){\n      return this.auth.person.ordersNearYou.filter(o=> !this.orders.find(or=> o.id==or.id)).sort((a,b)=> new Date(a.creation_date).getTime()-new Date(b.creation_date).getTime());\n    }\n    return []\n  }\n\n  async viewDetail(order: any) {\n    console.log(\"Order\", order)\n    if (this.network.getNetworkStatus().connected) {\n      if (this.user.available != 0) {\n        //Validate the isn't about to end \n        /**\n         * The order is about to end \n         * When All the status from order details are finished or not effective\n         */\n        if (!this.isAboutToEnd(order)) {\n          if (order.status_order == 22 || order.status_order == 23) {\n            if (order.service_type_id == 3) {\n              //Validate if the order is currently active\n              const { message, active } = await this.isOrderActive(order, true);\n              if (active) {\n                // this.stopPosition();\n                // const loader = await this.ui.loading(\"Por favor espere...\");\n                try {\n                  //Validate if te user is near to the address\n                  const current_latitude = parseFloat(localStorage.getItem(\"latitude\"));\n                  const current_longitude = parseFloat(localStorage.getItem(\"longitude\"));\n                  const latitude = order.details[0].latitude;\n                  const longitude = order.details[0].longitude;\n                  const distance = this.place.calcCrow(latitude, longitude, current_latitude, current_longitude);\n                  console.log(\"Distance\", distance);\n                  if (distance <= 1) {\n                    console.log(\"Est ah\");\n                    await this.ui.presentAlert({\n                      mode: 'ios',\n                      header: 'Quieres iniciar el viaje?',\n                      buttons: [\n                        {\n                          text: 'No',\n                          role: 'cancel',\n                          cssClass: 'secondary',\n                          handler: (blah) => {\n                            console.log('Confirm Cancel: blah');\n                          }\n                        }, {\n                          text: 'S',\n                          handler: async () => {\n\n                            localStorage.setItem(\"current_order\", JSON.stringify(order));\n                            const modal = await this.ui.presentModal(ViewDetailPage, { order }, 'custom-modal')\n                            modal.onDidDismiss().then((data) => {\n                              this.loadData();\n\n                            });\n\n                          }\n\n                        }\n                      ]\n                    })\n                  } else {\n                    await this.ui.presentAlert({\n                      mode: 'ios',\n                      header: 'Advertencia',\n                      message: 'Debe estar en el punto para iniciar el servicio',\n                      buttons: [\n                        {\n                          text: 'Aceptar',\n                          role: 'cancel',\n                          cssClass: 'secondary',\n                          handler: (blah) => {\n                            console.log('Confirm Cancel: blah');\n                          }\n                        }\n                      ]\n                    })\n                  }\n                } catch (e) {\n\n\n                  console.log(\"Error\", e)\n                }\n              } else {\n                await this.ui.presentAlert({\n                  mode: 'ios',\n                  header: 'Advertencia',\n                  message,\n                  buttons: [\n                    {\n                      text: 'Aceptar',\n                      role: 'cancel',\n                      cssClass: 'secondary',\n                      handler: (blah) => {\n                        console.log('Confirm Cancel: blah');\n                      }\n                    }\n                  ]\n                })\n              }\n            } else {\n              localStorage.setItem(\"current_order\", JSON.stringify(order));\n                      const modal = await this.ui.presentModal(ViewDetailPage, { order, latLng: this.latLng }, 'custom-modal')\n                      modal.onDidDismiss().then((data) => {\n                        this.loadData();\n\n                      });\n            }\n          } else {\n            //Validate if the order status isnt end or not effective or cancelled or cancelled by the delivery\n            if (order.status_order != 25 && order.status_order != 48 && order.status_order != 31 && order.status_order != 36 && !this.isAboutToEnd(order)) {\n              //When I'll load the order, I  could update the proximity with it current value on the SQL database\n              this.realtime.getNewOrder().update({\n                proximity: order.proximity\n              })\n              localStorage.setItem(\"current_order\", JSON.stringify(order));\n              const modal = await this.ui.presentModal(ViewDetailPage, { order, latLng: this.latLng }, 'custom-modal')\n              modal.onDidDismiss().then(r => {\n                localStorage.removeItem(\"current_order\");\n                this.loadData();\n              });\n            }\n\n          }\n        }\n\n      } else {\n        this.ui.showToast(\"Debe estar disponible\")\n      }\n    } else {\n      this.ui.showToast(\"Por favor, verifique su conexin\")\n    }\n\n  }\n\n  /**\n   * This function is only for time service\n   * It build two notification \n   * The first one, it show inmediately and the other\n   * is scheduled 5 minutes before the start hour that the client put\n   * on the order\n   * the client\n   * @param order \n   */\n  async setOrderReminder(order) {\n    try {\n      if (order) {\n        //Validate if the order service type is for time\n        if (order.service_type_id == 3) {\n          //Validate the order is active\n          //Validate if the order is currently active\n          const { message, active } = await this.isOrderActive(order);\n          if (active) {\n            const details = order.detail ? order.detail : order.details;\n            const start_time = order.detail ? order.detail[0].start_time_military_format : order.details[0].start_time_military_format;\n            const now = new Date();\n            const now_hour = now.getHours() + \":\" + now.getMinutes();\n            const differenceInHours = this.days.getHourDiff(start_time, now_hour);\n\n            const id = Math.round(Math.random() * 100);\n\n            //Validate if the ordeer reminder doesnt exists\n            if (!localStorage.getItem(\"order_reminder\" + order.id)) {\n              const startDate = order.date + \" \" + start_time;\n              console.log(\"Start Date Service\", startDate)\n              const startTimeDate = new Date(startDate);\n              console.log(\"Start Date Service new Date\", new Date(startDate));\n              const oneHourBeforeDate = this.days.substractHours(new Date(startDate), 1);\n              const fiveMinutesBeforeDate = this.days.substractMinutes(new Date(startDate), 5);\n              console.log(\"Start Date Service One hour before \", oneHourBeforeDate);\n              console.log(\"Start Date Service Five minutes \", fiveMinutesBeforeDate)\n              const notificationsToSend: LocalNotification[] = [];\n              \n              const oneHourBeforeObject = {\n                hour: oneHourBeforeDate.getHours(),\n                minute: oneHourBeforeDate.getMinutes()\n              };\n              const fiveMinutesBeforeObject = {\n                hour: fiveMinutesBeforeDate.getHours(),\n                minute: fiveMinutesBeforeDate.getMinutes()\n              };\n              const startTimeObject = {\n                hour: startTimeDate.getHours(),\n                minute: startTimeDate.getMinutes()\n              };\n              /**\n           * This validation calculate the difference and its  \n           * true when current time is between one hour before and 10(ten) minutes \n           * after the start_time\n           */\n              if (differenceInHours > -1 && differenceInHours <= 0.1) {\n                notificationsToSend.push(/**\n                * Inmediately notification to\n                * alert the user\n                */\n                  {\n                    title: \"Orden \" + order.id,\n                    body: \"Recuerda que debes estar a las \" + details[0].start_time + \" en el lugar\",\n\n                    id: Math.round(Math.random() * 100),\n                    autoCancel: true,\n                    channelId: 'pop-notifications'\n                  })\n              }\n              notificationsToSend.push(/**\n              * This notification is scheduled to show one hour before \n              * the start_time\n              */\n                {\n                  title: \"Orden \" + order.id,\n                  body: \"Recuerda que debes estar a las \" + details[0].start_time + \" en el lugar\",\n                  schedule: {\n                    on: oneHourBeforeObject\n                  },\n                  id: Math.round(Math.random() * 100),\n                  autoCancel: true,\n                  channelId: 'pop-notifications'\n                });\n              notificationsToSend.push(\n                /**\n                 * This notification is scheduled to show five minutes before \n                 * the start_time\n                 */\n                {\n                  title: \"Orden \" + order.id,\n                  body: \"Recuerda que debes estar a las \" + details[0].start_time + \" en el lugar faltan cinco minutos\",\n                  schedule: {\n                    on: fiveMinutesBeforeObject\n                  },\n                  id: Math.round(Math.random() * 100),\n                  autoCancel: true,\n                  channelId: 'pop-notifications'\n                })\n              notificationsToSend.push(\n                /**\n                 * This notification is scheduled to show at the hour\n                 * the start_time\n                 */\n                {\n                  title: \"Orden \" + order.id,\n                  body: \"Ya es hora! \" + \" Ve a la direccin \" + details[0].address,\n                  schedule: {\n                    on: startTimeObject,\n\n                  },\n\n                  id: Math.round(Math.random() * 100),\n                  autoCancel: true,\n                  channelId: 'pop-notifications'\n                })\n              /**\n               * This is the first notification shown\n               */\n              //Show the local notificattions\n              await LocalNotifications.schedule({\n                notifications: notificationsToSend\n              })\n\n              localStorage.setItem(\"order_reminder\" + order.id, \"notified\")\n            }\n          }\n        }\n\n\n      } else {\n        this.ui.showToast(\"No hay orden\")\n      }\n\n    } catch (e) {\n      console.log(\"Error Notification\", e)\n      this.ui.showToast(\"Error\" + JSON.stringify(e));\n    }\n\n  }\n\n  getIsOrderActive(order) {\n    const { active, message } = this.isOrderActive(order);\n    return { active, message };\n  }\n\n\n  isOrderActive(order, validateHourDifference=true) {\n    //Validate if the order is currently active\n    const date_service = new Date(order.date);\n    const today = new Date();\n    const today_date = {\n      day: today.getDate(),\n      month: today.getMonth() + 1,\n      year: today.getFullYear()\n    };\n    const date_split = order.date.split(\"-\");\n    const date_service_date = {\n      day: Number(date_split[2]),\n      month: Number(date_split[1]),\n      year: Number(date_split[0])\n    }\n\n    const isToday = Object.keys(today_date).every(key => {\n      return (today_date[key] == date_service_date[key]);\n    });\n    if (isToday) {\n      if (order.service_type_id == 3) {\n        const details = order.detail ? order.detail : order.details;\n        const start_time = order.detail ? order.detail[0].start_time_military_format : order.details[0].start_time_military_format;\n        const now = new Date();\n        const now_hour = now.getHours() + \":\" + now.getMinutes();\n        const differenceInHours = this.days.getHourDiff(start_time, now_hour);\n        const id = Math.round(Math.random() * 100);\n\n        /**\n         * This validation calculate the difference and its  \n         * true when current time is between one hour before and 10(ten) minutes \n         * after the start_time\n         */\n        if(validateHourDifference){\n          if (differenceInHours > -1 && differenceInHours <= 0.1) {\n\n\n            return { active: true, message: \"\" };\n          } else {\n            return { active: false, message: \"Debe estar en la direccin en el horario establecido\" };\n          }\n        }else{\n          if(differenceInHours==0){\n            return { active: true, message: \"\" };\n          }else{\n            return { active: false, message: \"Debe estar en la direccin en el horario establecido\" };\n          }\n        }\n        \n      } else {\n        return { active: true, message: \"\" };\n      }\n    } else {\n      return { active: false, message: \"El da del servicio ha pasado \" };\n    }\n\n  }\n\n  \n\n\n}\n"],"sourceRoot":"webpack:///"}