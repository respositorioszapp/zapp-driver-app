{"version":3,"sources":["webpack:///src/app/screens/screens-tabs/home/home.page.html","webpack:///src/app/screens/screens-tabs/home/home-routing.module.ts","webpack:///src/app/screens/screens-tabs/home/home.module.ts","webpack:///src/app/screens/screens-tabs/home/home.page.scss","webpack:///src/app/screens/screens-tabs/home/home.page.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","entryComponents","Geolocation","Haptics","Modals","LocalNotifications","HomePage","auth","request","ui","router","loadingController","realtime","network","db","place","days","backgroundService","count","spinner","orders","image","latLng","orderNearYou","allLoaded","dataParams","total","per_page","page","filters","nextPage","to","loadedText","loading","fcmId","interval","startPosition","user","requestPermission","addListener","state","clearInterval","console","log","isActive","available","status","localStorage","setItem","JSON","stringify","connected","clearWatch","id","watchPositionId","platform","i","person","ordersNearYou","closeSubscriptions","initSubscriptions","verifyCurrentOrder","loadData","getNetworkStatus","getItem","create","message","loader","present","get","subscribe","res","dismiss","documents","data","photo","filter","d","length","url","err","showToast","getCurrentPosition","enableHighAccuracy","position","coords","latitude","toString","longitude","order","parse","service_type_id","orderDatabase","myDetails","detail","people_id","detailData","status_order","removeItem","presentAlert","mode","header","otherDetails","endService","viewDetail","idInterval","Number","isMassive","pay","payment_method","toLowerCase","zapp_store_order","total_zapp_store","details","service_type","round_trip","accessory_type","date","address","start_time","departure_time","number_of_hours","cash","forEach","declared_value","startMassiveOrderSubscription","startNewOrdersSubsriptions","startStatusSubscription","listenToVersionChange","versionSubscription","getFirebaseCollectionObject","valueChanges","code","VERSION_NAME","buttons","text","role","cssClass","handler","blah","logOut","set","verified","statusSubscription","getStatus","first_time_verified","setUser","undefined","navigate","first_name","toUpperCase","last_name","update","massiveOrdersSubscription","getMassivesOrders","new_order","Object","keys","isOrderActive","activeMessage","active","playAudio","find","o","push","setPerson","orderSubscription","getNewOrder","item","unshift","proximity","unsubscribe","every","FormData","append","post","error","messages","stop","initializeBackgroundGeolocation","startWatchingPosition","watchPosition","heading","bearing","bearing_used","actual_angle","next","lat","lng","getUserGeolocation","key","user_id","city_id","state_id","level_id","driver_name","name","transport_type_id","vehicles","object","vehicleId","oldLat","oldLng","angle","pipe","value","locations","created_at","Date","now","onLocation","location","parseFloat","onMotionChange","event","isMoving","onHttp","response","success","responseText","onProviderChange","enabled","gps","ready","stopTimeout","debug","production","logLevel","LOG_LEVEL_VERBOSE","desiredAccuracy","DESIRED_ACCURACY_HIGH","distanceFilter","stopOnTerminate","startOnBoot","locationAuthorizationRequest","backgroundPermissionRationale","title","positiveAction","negativeAction","activityType","ACTIVITY_TYPE_AUTOMOTIVE_NAVIGATION","foregroundService","triggerActivities","start","changePace","presentModal","PLAY_AUDIO_ON_REQUEST","audio","Audio","AUDIO_PATH","play","pause","refresher","complete","setOrderReminder","a","or","sort","b","creation_date","getTime","isAboutToEnd","current_latitude","current_longitude","distance","calcCrow","modal","onDidDismiss","then","r","start_time_military_format","now_hour","getHours","getMinutes","differenceInHours","getHourDiff","Math","round","random","startDate","startTimeDate","oneHourBeforeDate","substractHours","fiveMinutesBeforeDate","substractMinutes","notificationsToSend","oneHourBeforeObject","hour","minute","fiveMinutesBeforeObject","startTimeObject","body","autoCancel","channelId","schedule","on","notifications","validateHourDifference","date_service","today","today_date","day","getDate","month","getMonth","year","getFullYear","date_split","split","date_service_date","isToday","read","selector","template"],"mappings":"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","file":"screens-screens-tabs-home-home-module-es5.js","sourcesContent":["export default \"<div style=\\\"display: block;\\nposition: relative;\\n-ms-flex-order: -1;\\norder: -1;\\nwidth: 100%;\\nz-index: 10;\\nbackground: transparent;\\\">\\n  <p class=\\\"ion-text-center\\\"><img src=\\\"assets/imgs/logo-morado.png\\\" style=\\\"width: 150px;\\n    height: 50px;\\n\\\"></p>\\n\\n</div>\\n<ion-content color=\\\"warning\\\" >\\n  <ion-refresher slot=\\\"fixed\\\" pullFactor=\\\"0.5\\\" pullMin=\\\"100\\\" pullMax=\\\"200\\\" (ionRefresh)=\\\"loadData()\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n  <ion-grid style=\\\"width: 80%;\\\">\\n    <ion-row>\\n      <ion-col size=\\\"4\\\">\\n        <img [src]=\\\"image\\\" width=\\\"70\\\" style=\\\"border-radius: 50%;\\n    width: 100px;\\n    height: 100px;\\\">\\n      </ion-col>\\n    <ion-col size=\\\"8\\\" >\\n      <ion-grid >\\n        <ion-row>\\n          <ion-col size=\\\"12\\\">\\n            <ion-card-title class=\\\"\\\"><span class=\\\"black-color-text\\\">{{user.name | wrapName:17}}</span>\\n              <ion-icon name=\\\"checkmark-circle\\\"\\n                [ngClass]=\\\"{'verified': user.verified == 1, 'not-verified' : user.verified == 0 }\\\"></ion-icon>\\n            </ion-card-title>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col>\\n            <ion-card-subtitle class=\\\"\\\">\\n              <span style=\\\"font-weight: 900;\\n    color: black !important;\\\">{{user.email}}</span>\\n            </ion-card-subtitle>\\n          </ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-button mode=\\\"ios\\\" color=\\\"{{user.available == 1? 'success': user.available == 35?'tertiary':'danger'}}\\\" size=\\\"small\\\" (click)=\\\"verified()\\\"\\n          class=\\\"ion-margin-top ion-text-center\\\" style=\\\"margin: auto;\\n      width: 100%;\\\">\\n      <ng-container *ngIf=\\\"user.verified == 1; else elseTemplateNodisponible\\\">\\n        <span *ngIf=\\\"user.available == 1\\\">Disponible</span>\\n        <span *ngIf=\\\"user.available == 0\\\">No disponible</span>\\n        <span *ngIf=\\\"user.available == 35\\\">En servicio</span>\\n      </ng-container>\\n      <ng-template #elseTemplateNodisponible>\\n        <span >No disponible</span>\\n      </ng-template>\\n      \\n         \\n        </ion-button>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <app-order-card [orders]=\\\"filterOrderNear()\\\" title=\\\"Ordenes cerca de ti\\\" [available]=\\\"user.available\\\" [spinner]=\\\"spinner\\\" near=\\\"true\\\" [latLng]=\\\"latLng\\\" [otherOrders]=\\\"filter()\\\">\\n\\n  </app-order-card>\\n  <app-order-card [orders]=\\\"filter()\\\" title=\\\"Ordenes activas\\\" [available]=\\\"user.available\\\" [spinner]=\\\"spinner\\\" near=\\\"false\\\" [latLng]=\\\"latLng\\\" [otherOrders]=\\\"filterOrderNear()\\\">\\n\\n  </app-order-card>\\n  \\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\n\nimport {AplicationPipeModuleModule} from '../../../modules/aplication-pipe-module/aplication-pipe-module.module'\nimport { OrderComponent } from 'src/app/components/order/order.component';\nimport { CommonComponentsModule } from 'src/app/modules/common-components/common-components.module';\nimport { ViewDetailPage } from '../../forms/view-detail/view-detail.page';\nimport { ViewDetailPageModule } from '../../forms/view-detail/view-detail.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule,\n    CommonComponentsModule,\n    AplicationPipeModuleModule,\n    ViewDetailPageModule\n  ],\n  declarations: [HomePage, ],\n  entryComponents: [\n    OrderComponent,\n    \n  ]\n})\nexport class HomePageModule {}\n","export default \".verified {\\n  color: #49158c;\\n  font-size: 1.2em;\\n}\\n\\n.not-verified {\\n  color: #737d81;\\n  font-size: 1.2em;\\n}\\n\\n.card-content-md p {\\n  font-size: 12px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNwcmlsbGEvRG9jdW1lbnRvc01pZ3VlbC9Qcm95ZWN0b3MvemFwcC96YXBwLWRyaXZlci1hcHAtcnBlbmFsb3phL3NyYy9hcHAvc2NyZWVucy9zY3JlZW5zLXRhYnMvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNyYy9hcHAvc2NyZWVucy9zY3JlZW5zLXRhYnMvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7RUFDQSxnQkFBQTtBQ0NKOztBREVBO0VBQ0ksY0FBQTtFQUNBLGdCQUFBO0FDQ0o7O0FERUE7RUFDSSwwQkFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvc2NyZWVucy9zY3JlZW5zLXRhYnMvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi52ZXJpZmllZHtcbiAgICBjb2xvcjogIzQ5MTU4YztcbiAgICBmb250LXNpemU6IDEuMmVtO1xufVxuXG4ubm90LXZlcmlmaWVke1xuICAgIGNvbG9yOiAjNzM3ZDgxO1xuICAgIGZvbnQtc2l6ZTogMS4yZW07XG59XG5cbi5jYXJkLWNvbnRlbnQtbWQgcHtcbiAgICBmb250LXNpemU6IDEycHggIWltcG9ydGFudDtcbn1cblxuXG5cbiIsIi52ZXJpZmllZCB7XG4gIGNvbG9yOiAjNDkxNThjO1xuICBmb250LXNpemU6IDEuMmVtO1xufVxuXG4ubm90LXZlcmlmaWVkIHtcbiAgY29sb3I6ICM3MzdkODE7XG4gIGZvbnQtc2l6ZTogMS4yZW07XG59XG5cbi5jYXJkLWNvbnRlbnQtbWQgcCB7XG4gIGZvbnQtc2l6ZTogMTJweCAhaW1wb3J0YW50O1xufSJdfQ== */\";","import { Component, OnInit, NgZone, AfterContentInit, ViewChild } from '@angular/core';\nimport { Plugins, Capacitor, App, AppState, Network, LocalNotification } from '@capacitor/core';\n\n\nconst { Geolocation, Haptics, Modals, LocalNotifications } = Plugins;\nimport { AuthService } from 'src/app/services/auth.service';\nimport { RequestService } from 'src/app/services/request.service';\nimport { UiService } from 'src/app/services/ui.service';\nimport { Router } from '@angular/router';\nimport { User } from 'src/app/interfaces/User';\nimport { IonRefresher, LoadingController } from '@ionic/angular';\nimport { ViewDetailPage } from 'src/app/screens/forms/view-detail/view-detail.page';\nimport { RealtimeService } from '../../../services/realtime.service';\nimport { Observable, Subject, Subscription } from 'rxjs';\nimport { environment } from '../../../../environments/environment.prod'\nimport { NetworkStatusService } from '../../../services/network-status.service';\nimport { take } from 'rxjs/operators';\nimport { AngularFireDatabase } from '@angular/fire/database';\n// import { BackgroundGeolocation, BackgroundGeolocationConfig, BackgroundGeolocationEvents, BackgroundGeolocationLocationProvider, BackgroundGeolocationResponse } from '@ionic-native/background-geolocation/ngx';\nimport { PlaceService } from 'src/app/services/place.service';\nimport { DaysService } from 'src/app/services/days.service';\nimport { BackgroundService } from 'src/app/services/background.service';\nimport GoogleMapLatLng from 'src/app/interfaces/GoogleMapLatLng';\n\nimport BackgroundGeolocation, {\n  State,\n  Config,\n  Location,\n  LocationError,\n  Geofence,\n  HttpEvent,\n  MotionActivityEvent,\n  ProviderChangeEvent,\n  MotionChangeEvent,\n  GeofenceEvent,\n  GeofencesChangeEvent,\n  HeartbeatEvent,\n  ConnectivityChangeEvent\n} from \"cordova-background-geolocation-lt\";\nimport { RequestLocationPermissionPage } from '../../forms/request-location-permission/request-location-permission.page';\n\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit, AfterContentInit {\n  @ViewChild(IonRefresher, { read: IonRefresher, static: false }) refresher: IonRefresher;\n  count = 1\n  spinner = false;\n  user: User;\n  orders = []\n  image = \"assets/imgs/avatar.svg\"\n  latLng: Subject<GoogleMapLatLng> = new Subject<GoogleMapLatLng>()\n  orderSubscription: Subscription\n  statusSubscription: Subscription\n  massiveOrdersSubscription: Subscription\n  versionSubscription: Subscription\n  orderNearYou:any[]=[]\n  allLoaded = false\n  dataParams: any = {\n    total: 0,\n    per_page: 5,\n    page: 1,\n    filters: []\n  };\n  nextPage = \"\"\n  to = 0\n  loadedText: string = \"\"\n  loading = false;\n  fcmId = null;\n  audio: any\n  interval = null;\n  geoLocationSubscription: Subscription\n  watchPositionId: string\n  backgroundWatcherId: string\n\n\n  constructor(\n    private auth: AuthService,\n    private request: RequestService, private ui: UiService,\n    private router: Router,\n    private loadingController: LoadingController,\n    private realtime: RealtimeService,\n    private network: NetworkStatusService,\n    private db: AngularFireDatabase,\n    private place: PlaceService,\n    private days: DaysService,\n    private backgroundService: BackgroundService\n  ) {\n\n  }\n  ngAfterContentInit(): void {\n    this.startPosition();\n  }\n\n  async ngOnInit() {\n    this.user = this.auth.user;\n    await LocalNotifications.requestPermission()\n    //\n    App.addListener(\"appStateChange\", (state: AppState) => {\n      clearInterval(this.interval)\n      console.log(\"Background mode\");\n      if (!state.isActive) {\n\n        //Cuando la app est en segundo plano, esperar 6 minutos y reiniciar escuchar la posicin\n        if (this.auth.user != null && this.auth.user.available != 0) {\n          // setTimeout(() => {\n\n          //   this.initializeBackgroundGeolocation();\n          //   this.startWatchingPosition()\n          // }, 240000)\n        }\n\n\n      } else {\n\n\n      }\n    })\n\n    this.startPosition();\n\n  }\n\n\n  async ionViewDidEnter() {\n\n    // this.\n    // this.startWatchingPosition();\n    // this.initializeBackgroundGeolocation()\n\n    Network.addListener('networkStatusChange', async (status) => {\n\n      console.log(\"Network status changed\", status);\n      localStorage.setItem(\"network_status\", JSON.stringify(status));\n      if (status.connected) {\n        Geolocation.clearWatch({ id: this.watchPositionId })\n        if (Capacitor.platform !== 'web') {\n          // await this.backgroundGeolocation.removeAllListeners()\n        }\n        // this.initializeBackgroundGeolocation()\n      }\n    });\n\n  }\n\n  async ionViewWillEnter() {\n\n    this.user = this.auth.user;\n    const i = 0;\n    if(this.auth.person.ordersNearYou){\n      this.orderNearYou=this.auth.person.ordersNearYou;\n    }\n    this.closeSubscriptions()\n    this.initSubscriptions();\n    this.verifyCurrentOrder();\n\n    if (this.user.available != 0) {\n      this.loadData();\n    } else {\n      if (this.network.getNetworkStatus().connected) {\n        let loader;\n        if (!localStorage.getItem(\"current_order\")) {\n          loader = await this.loadingController.create({ message: \"Por favor espere...\" });\n          await loader.present();\n        }\n        this.request.get(`driver/documents/${this.auth.user.id}`)\n          .subscribe(async (res: any) => {\n            if (!localStorage.getItem(\"current_order\")) {\n              (await loader).dismiss();\n            }\n            const documents = res.data.documents;\n            const photo: any[] = documents.filter(d => d[\"document_type \"] == \"Foto del conductor\")\n            if (photo.length > 0) {\n              this.image = photo[photo.length - 1].url;\n            }\n\n          }, async (err) => {\n            if (!localStorage.getItem(\"current_order\")) {\n              (await loader).dismiss();\n            }\n\n          })\n      } else {\n        this.ui.showToast(\"Verifique su conexin\")\n      }\n\n    }\n    const position = await Geolocation.getCurrentPosition({\n      enableHighAccuracy: true\n    });\n\n    // (await loader).dismiss();\n    localStorage.setItem(\"latitude\", position.coords.latitude.toString());\n    localStorage.setItem(\"longitude\", position.coords.longitude.toString());\n\n\n  }\n\n\n  verifyCurrentOrder(){\n    if (localStorage.getItem(\"current_order\")) {\n      const order = JSON.parse(localStorage.getItem(\"current_order\"));\n      if(order.service_type_id==3){\n        this.request.get(`order/show_order/${order.id}`)\n        .subscribe(async (res:any)=>{\n          const orderDatabase= res.data;\n          const myDetails=orderDatabase.detail.filter(d=> d.people_id==this.auth.user.id);\n          if(myDetails.length>0){\n            const detailData= myDetails[0];\n            if(detailData.status==25){\n              if(orderDatabase.status_order==25){\n                localStorage.removeItem(\"current_order\");\n                await this.ui.presentAlert({\n                  mode: 'ios',\n                  header: \"Advertencia\",\n                  message:\"Esta orden ya ha sido finalizada\"\n                  \n                })\n              }else{\n                const otherDetails = orderDatabase.detail.filter(d=> d.people_id!=this.auth.user.id);\n                if(otherDetails.length==0){\n                  this.endService(orderDatabase);\n                }\n              }\n            }else{\n              this.viewDetail(order);\n            }\n          }\n          \n        })\n      }else{\n        this.viewDetail(order);\n      }\n    }\n  }\n\n  clearLocals() {\n    localStorage.removeItem(\"current_order\");\n    localStorage.removeItem(\"total_charge\");\n    localStorage.removeItem(\"initTimer\");\n    localStorage.removeItem(\"client_configuration_data\");\n    localStorage.removeItem(\"configuration_data\");\n    localStorage.removeItem(\"timer\");\n    localStorage.removeItem(\"bearing\");\n    localStorage.removeItem(\"bearing_used\");\n    localStorage.removeItem(\"app_close_date\")\n    const idInterval = Number(localStorage.getItem(\"id_interval\"));\n    clearInterval(idInterval)\n    localStorage.removeItem(\"id_interval\");\n  }\n\n  getOrderAlertMessage(order, isMassive?) {\n    const pay = order.payment_method.toLowerCase() == 'efectivo' ? order.zapp_store_order == 1 ? order.total_zapp_store : order.total : 0;\n    let details: any[] = order.details ? order.details : order.detail;\n    let message = \"Tipo de servicio: <strong>\" + order.service_type + \"</strong>\"\n    if (order.service_type_id != \"3\") {\n      message += \"<br/> Recorrido :  <strong>\" + (order.round_trip == 1 ? 'Ida y Vuelta' : 'Ida') + \"</strong>\"\n      message += \"<br>Cantidad :<strong>\" + (details.length) + \" direcciones </strong>\"\n      message += \"<br> Mtodo de pago: <strong>\" + (order.payment_method) + \"</strong>\";\n      + \"<br> Tipo de accesorio: <strong>\" + (order.accessory_type) + \"</strong>\";\n      message += \"<br> Da del servicio : <strong>\" + (order.date) + \"</strong>\";\n    }\n\n    if (order.service_type_id == \"1\") {\n      message += \"<br> Direccin A : <strong>\" + (details[0].address) + \"</strong>\"\n        + \"<br> Direccin B :<strong>\" + (details[1].address) + \"</strong>\";\n    }\n    if (order.service_type_id == \"3\") {\n      message += \"<br> Da del servicio : <strong>\" + (order.date) + \"</strong>\"\n      message += \"<br> Direccin : <strong>\" + (details[0].address) + \"</strong>\"\n      message += \"<br> Hora de inicio : <strong>\" + (details[0].start_time) + \"</strong>\"\n        + \"<br> Hora de salida :<strong>\" + (details[0].departure_time) + \"</strong>\";\n      message += \"<br> Nmero de horas :<strong>\" + (details[0].number_of_hours) + \"</strong>\";\n    } else {\n      if (order.payment_method.toLowerCase() == 'masivo') {\n        let cash = 0;\n        details.forEach(d => {\n          cash += d.declared_value ? d.declared_value : 0;\n        })\n        message += \"<br> Cobrar: <strong>$\" + (cash) + \"</strong>\"\n      } else {\n        message += \"<br> Cobrar: <strong>$\" + (pay) + \"</strong>\"\n      }\n    }\n    return message;\n  }\n\n  initSubscriptions() {\n    console.log(\"Init Subscription\")\n    this.startMassiveOrderSubscription()\n    this.startNewOrdersSubsriptions();\n    this.startStatusSubscription();\n    this.listenToVersionChange()\n  }\n\n  listenToVersionChange() {\n    this.versionSubscription = this.realtime.getFirebaseCollectionObject(\"code_version_mobile/5\")\n      .valueChanges().subscribe(async (res: any) => {\n        if (res != null) {\n          console.log(\"Res version code\", res)\n          if (localStorage.getItem(\"current_version\")) {\n            const status = JSON.parse(localStorage.getItem(\"current_version\"));\n            console.log(\"current_version\", status);\n            console.log(\"res\", res);\n            console.log(\"equal\", res === status)\n            if (res.code == status.code) {\n              return;\n            } else {\n              localStorage.setItem(\"current_version\", JSON.stringify(res));\n            }\n          } else {\n            console.log(\"elseeee\");\n            localStorage.setItem(\"current_version\", JSON.stringify(res));\n          }\n          if (res.code != environment.VERSION_NAME) {\n            await this.ui.presentAlert({\n              mode: 'ios',\n              header: 'Hay nueva versin disponible!',\n              message: 'Por favor, descargala',\n              buttons: [\n                {\n                  text: 'Aceptar',\n                  role: 'cancel',\n                  cssClass: 'secondary',\n                  handler: (blah) => {\n                    console.log(\"Execute\")\n                    this.auth.logOut()\n                  }\n                },\n              ]\n            })\n          }\n        } else {\n          this.realtime.getFirebaseCollectionObject(\"code_version_mobile/5\").set({\n            code: environment.VERSION_NAME\n          })\n        }\n      })\n  }\n\n  startStatusSubscription() {\n    let verified = this.auth.user.verified;\n    this.statusSubscription = this.realtime.getStatus().valueChanges()\n      .subscribe(async (res: any) => {\n        console.log(\"Status\", res)\n\n        if (res != null) {\n\n          if (localStorage.getItem(\"current_status\")) {\n            const status = JSON.parse(localStorage.getItem(\"current_status\"));\n            console.log(\"current_status\", status);\n            console.log(\"res\", res);\n            console.log(\"equal\", res === status)\n            if (res.verified == status.verified && res.documents == status.documents && res.first_time_verified == status.first_time_verified) {\n              return;\n            } else {\n              localStorage.setItem(\"current_status\", JSON.stringify(res));\n            }\n          } else {\n            console.log(\"elseeee\");\n            localStorage.setItem(\"current_status\", JSON.stringify(res));\n          }\n          if (verified == 1) {\n            verified = 0;\n            return;\n          }\n          this.auth.user.verified = res.verified;\n          this.user.verified = res.verified;\n          let header;\n\n          if ((res.verified == 1 && res.documents == 1) || res.verified == 1) {\n\n            header = 'Enhorabuena, has sido verificado!';\n            if (this.user.available == 1) {\n              this.loadData();\n            }\n          } else {\n            if (res.verified == 0 && res.documents == 1) {\n\n              header = res.first_time_verified == 0\n                ? 'Enhorabuena, has completado tu registro, una operadora est verficando tu informacin y posteriormente sers activado ' :\n                'Tu usuario ha sido inhabilitado, contacta al administrador!';\n              console.log(\"Header\", header)\n              this.user.available = 0;\n              this.auth.user.available = 0;\n              this.orders = []\n            } else {\n              if (res.verified == 0 && res.documents == 0) {\n                header = 'Completa tu informacin para terminar el regitro y sers habilitado por una operadora';\n              }\n            }\n          }\n          this.auth.setUser(this.user);\n          let message;\n          this.ui.presentAlert({\n            mode: 'ios',\n            header,\n            message,\n            buttons: [\n              {\n                text: 'Aceptar',\n                role: res.verified == 0 && res.documents == 0 ? undefined : 'cancel',\n                cssClass: 'secondary',\n                handler: () => {\n\n                  if (res.verified == 0 && res.documents == 0) {\n                    this.router.navigate(['tabs/documents'])\n                  }\n                  console.log('cerrar');\n                }\n              }\n            ]\n          });\n          if (!localStorage.getItem(\"firstTime\" + this.auth.user.id)) {\n            localStorage.setItem(\"firstTime\" + this.auth.user.id, JSON.stringify({}))\n            let message = \"Zapp Driver App te da la bienvenida <br> \";\n            message += this.auth.person.first_name.toString().toUpperCase() + \" \";\n            message += this.auth.person.last_name.toString().toUpperCase() + \" <br> \";\n            message += \"Te recomendamos que para tener la mejor experiencia posible que mantengas el GPS encendido <br>\"\n            message += \" <br> Muchas gracias y disfruta de la aplicacin\"\n            this.ui.presentAlert({\n              mode: 'ios',\n              header: \"Bienvennido\",\n              message,\n              buttons: [\n                {\n                  text: 'Aceptar',\n                  cssClass: 'secondary',\n                  handler: async (res) => {\n\n\n\n                  }\n                }\n              ]\n            });\n          }\n        } else {\n          this.realtime.getStatus().update({\n            verified: 0,\n            documents: 0,\n            first_time_verified: 0\n          })\n        }\n      })\n  }\n\n  startMassiveOrderSubscription() {\n    this.massiveOrdersSubscription = this.realtime.getMassivesOrders().valueChanges()\n      .subscribe(async (res: any) => {\n        console.log(\"Massive order\", res)\n        if (res != null) {\n\n\n          if (res.new_order == 1) {\n            const order = res.orders;\n            if (order != null && Object.keys(order).length > 0) {\n              const { message: activeMessage, active } = await this.isOrderActive(order);\n              if (active) {\n                if (!localStorage.getItem(\"current_order\")) {\n                  this.playAudio();\n                  if(!this.orderNearYou.find(o=>o.id==order.id)){\n                    this.orderNearYou.push(order);\n                    this.auth.person.ordersNearYou=this.orderNearYou;\n                    this.auth.setPerson(this.auth.person)\n                  }\n                }\n              }\n\n            }\n          }\n        }\n      })\n  }\n\n  startNewOrdersSubsriptions() {\n    this.orderSubscription = this.realtime.getNewOrder().valueChanges().subscribe((res: any) => {\n      console.log(\"res\", res)\n      if (res != null) {\n        console.log(\"snapshot\", res);\n        if (res.new_order == 1) {\n          const order = res.orders;\n\n          const item = this.orders.find(o => o.id == order.id);\n          if (!item) {\n            this.playAudio()\n            // Haptics.vibrate();\n            this.orders.unshift(order);\n\n            this.realtime.getNewOrder().update({\n              new_order: 0,\n              orders: {},\n              proximity: 1\n            });\n            const details= order.details? order.details:order.detail;\n            \n            this.realtime.getFirebaseCollectionObject(`order_detail_report/${order.id}/${details[0].id}`)\n            .valueChanges().subscribe((res:any)=>{\n              if(res==null){\n                this.realtime.getFirebaseCollectionObject(`order_detail_report/${order.id}/${details[0].id}`)\n                .set({\n                  ...details[0]\n                })\n              }\n            })\n            \n          }\n        }\n\n      }\n\n    })\n  }\n\n  closeSubscriptions() {\n    if (this.statusSubscription) {\n      this.statusSubscription.unsubscribe()\n    }\n    if (this.orderSubscription) {\n      this.orderSubscription.unsubscribe();\n    }\n    if (this.massiveOrdersSubscription) {\n      this.massiveOrdersSubscription.unsubscribe();\n    }\n  }\n\n  ionViewWillLeave() {\n    this.closeSubscriptions();\n  }\n\n  isAboutToEnd(item) {\n    return item.details.every(d => d.status == 25 || d.status == 48);\n  }\n\n  endService(item) {\n    console.log(\"Order\", item)\n    const data = new FormData();\n    // this.ui.showToast(\"Latitude \" + this.latitude + \" Longitud\" + this.longitude)\n    const latitude = localStorage.getItem(\"latitude\");\n    const longitude = localStorage.getItem(\"longitude\");\n    data.append(\"order_id\", item.id)\n    data.append(\"latitude\", latitude)\n    data.append(\"longitude\", longitude)\n    data.append(\"description\", \"Finalizacin Servicio\");\n    data.append(\"user_id\", this.auth.user.id.toString())\n    const loader = this.ui.loading(\"Por favor espere...\");\n    this.request.post(\"driver/end_service\", data).subscribe(\n      async (res: any) => {\n        (await loader).dismiss();\n        item.status_order = 25;\n        this.ui.showToast(\"Orden \" + item.id + \" finalizada.\", () => {\n\n        })\n      }, async (err: any) => {\n        console.log(\"Error\", err);\n        (await loader).dismiss();\n        if (err.status == 400) {\n          this.ui.showToast(err.error.messages[0])\n        }\n\n      })\n  }\n\n  async startPosition() {\n    if (this.auth.user && this.auth.user.available) {\n      if (Capacitor.platform !== 'web') {\n        await BackgroundGeolocation.stop();\n        this.initializeBackgroundGeolocation()\n      } else {\n        await Geolocation.clearWatch({ id: this.watchPositionId });\n        this.startWatchingPosition();\n      }\n    }\n  }\n\n  async stopPosition() {\n    await Geolocation.clearWatch({ id: this.watchPositionId });\n    if (Capacitor.platform !== 'web') {\n      // await this.backgroundGeolocation.removeAllListeners()\n      await BackgroundGeolocation.stop()\n    }\n  }\n\n\n\n  startWatchingPosition(mode?) {\n    if (this.auth.user.available != 0) {\n\n      this.watchPositionId = Geolocation.watchPosition({\n        // enableHighAccuracy: true\n      }, async (position, err) => {\n        if (!err) {\n          console.log(`Location Update`, JSON.stringify(position));\n          // if (Capacitor.platform != 'web') {\n          //   Haptics.vibrate();\n          // }\n          const latitude = localStorage.getItem(\"latitude\");\n          const longitude = localStorage.getItem(\"longitude\");\n          if (latitude && longitude) {\n            try {\n              console.log(`Location Update Success`);\n              localStorage.setItem(\"latitude\", position.coords.latitude.toString());\n              localStorage.setItem(\"longitude\", position.coords.longitude.toString());\n              const heading = position.coords.heading ? position.coords.heading : 0;\n              let bearing_used;\n              if (localStorage.getItem(\"bearing\")) {\n                const bearing = localStorage.getItem(\"bearing\");\n                bearing_used = bearing;\n              }\n              localStorage.setItem(\"bearing\", heading.toString())\n              let bearing = 0;\n              if (bearing_used) {\n                bearing = bearing_used;\n              } else {\n                bearing = 180;\n              }\n              const actual_angle = heading - (bearing);\n              this.latLng.next({\n                lat: position.coords.latitude,\n                lng: position.coords.longitude,\n                bearing: actual_angle\n              });\n              await this.realtime.getUserGeolocation().update({\n                key: this.auth.user.id,\n                user_id: this.auth.user.id,\n                latitude: position.coords.latitude.toString(),\n                longitude: position.coords.longitude.toString(),\n                city_id: this.auth.person.city_id,\n                state_id: Number(this.auth.person.state_id),\n                level_id: Number(this.auth.user.level_id),\n                // last_active: Date.now(),\n                available: this.auth.user.available,\n                driver_name: this.auth.user.name,\n                transport_type_id: this.auth.vehicles.transport_type_id,\n              });\n              if (localStorage.getItem(\"current_order\")) {\n                const order = JSON.parse(localStorage.getItem(\"current_order\"));\n                console.log(\"Order Next 2\",)\n                if (order) {\n                  let path = 'order_gps/' + order.id + '/' + this.auth.user.id;\n                  this.db.object(path).update({\n                    order: order.id,\n                    key: this.auth.user.id,\n                    vehicleId: this.auth.vehicles.id,\n                    lat: position.coords.latitude,\n                    lng: position.coords.longitude,\n                    oldLat: position.coords.latitude,\n                    oldLng: position.coords.longitude,\n                    angle: actual_angle,\n                    // last_active: Date.now(),\n                    code: environment.VERSION_NAME\n                  });\n                  this.realtime.getFirebaseCollectionObject('order_history_reports/' + order.id + '/' + this.auth.user.id)\n                    .valueChanges().pipe(take(1)).subscribe((value: any) => {\n                      // this.ui.showToast(\"Locations \" + \"Latitude \" + lat + \" Longitud \" + lng + \"Hora\" + Date.now())\n                      if (value === null) {\n                        const locations = [{\n                          lat: position.coords.latitude, lng: position.coords.longitude, created_at: Date.now()\n                        }]\n                        // this.ui.showToast(\"Locations \" + \"Latitude \" + lat + \" Longitud \" + lng + \"Hora\" + Date.now())\n                        this.realtime.getFirebaseCollectionObject('order_history_reports/' + order.id + '/' + this.auth.user.id).set({\n                          order,\n                          key: this.auth.user.id,\n                          user_id: this.auth.user.id,\n                          locations,\n                          code: environment.VERSION_NAME\n                        });\n\n                      } else {\n                        // update\n                        let locations: any[] = value.locations;\n                        locations.push({\n                          lat: position.coords.latitude, lng: position.coords.longitude, created_at: Date.now()\n                        })\n                        this.realtime.getFirebaseCollectionObject('order_history_reports/' + order.id + '/' + this.auth.user.id)\n                          .update({\n                            order,\n                            key: this.auth.user.id,\n                            locations,\n                            code: environment.VERSION_NAME\n                          });\n                      }\n                    })\n                }\n              }\n            } catch (e) {\n              console.log(`Location Update Error`, e);\n            }\n\n          } else {\n            localStorage.setItem(\"latitude\", position.coords.latitude.toString());\n            localStorage.setItem(\"longitude\", position.coords.longitude.toString());\n            const heading = position.coords.heading ? position.coords.heading : 0;\n            let bearing_used;\n            if (localStorage.getItem(\"bearing\")) {\n              const bearing = localStorage.getItem(\"bearing\");\n              bearing_used = bearing;\n            }\n            localStorage.setItem(\"bearing\", heading.toString())\n            let bearing = 0;\n            if (bearing_used) {\n              bearing = bearing_used;\n            } else {\n              bearing = 180;\n            }\n            const actual_angle = heading - (bearing);\n            this.realtime.getUserGeolocation().update({\n              key: this.auth.user.id,\n              user_id: this.auth.user.id,\n              latitude: position.coords.latitude.toString(),\n              longitude: position.coords.longitude.toString(),\n              city_id: this.auth.person.city_id,\n              state_id: Number(this.auth.person.state_id),\n              level_id: Number(this.auth.user.level_id),\n              // last_active: Date.now(),\n              available: this.auth.user.available,\n              driver_name: this.auth.user.name,\n              transport_type_id: this.auth.vehicles.transport_type_id,\n            });\n            if (localStorage.getItem(\"current_order\")) {\n              const order = JSON.parse(localStorage.getItem(\"current_order\"));\n              console.log(\"Order Next 2\",)\n              if (order) {\n                let path = 'order_gps/' + order.id + '/' + this.auth.user.id;\n                this.db.object(path).update({\n                  order: order.id,\n                  key: this.auth.user.id,\n                  vehicleId: this.auth.vehicles.id,\n                  lat: position.coords.latitude,\n                  lng: position.coords.longitude,\n                  oldLat: position.coords.latitude,\n                  oldLng: position.coords.longitude,\n                  angle: actual_angle,\n                  // last_active: Date.now(),\n                  code: environment.VERSION_NAME\n                });\n                this.realtime.getFirebaseCollectionObject('order_history_reports/' + order.id + '/' + this.auth.user.id)\n                  .valueChanges().pipe(take(1)).subscribe((value: any) => {\n                    // this.ui.showToast(\"Locations \" + \"Latitude \" + lat + \" Longitud \" + lng + \"Hora\" + Date.now())\n                    if (value === null) {\n                      const locations = [{\n                        lat: position.coords.latitude, lng: position.coords.longitude, created_at: Date.now()\n                      }]\n                      // this.ui.showToast(\"Locations \" + \"Latitude \" + lat + \" Longitud \" + lng + \"Hora\" + Date.now())\n                      this.realtime.getFirebaseCollectionObject('order_history_reports/' + order.id + '/' + this.auth.user.id).set({\n                        order,\n                        key: this.auth.user.id,\n                        user_id: this.auth.user.id,\n                        locations,\n                        code: environment.VERSION_NAME\n                      });\n\n                    } else {\n                      // update\n                      let locations: any[] = value.locations;\n                      locations.push({\n                        lat: position.coords.latitude, lng: position.coords.longitude, created_at: Date.now()\n                      })\n                      this.realtime.getFirebaseCollectionObject('order_history_reports/' + order.id + '/' + this.auth.user.id)\n                        .update({\n                          order,\n                          key: this.auth.user.id,\n                          locations,\n                          code: environment.VERSION_NAME\n                        });\n                    }\n                  })\n              }\n            }\n          }\n        } else {\n\n          await Geolocation.clearWatch({ id: this.watchPositionId });\n          this.startWatchingPosition();\n          if (Capacitor.platform !== 'web') {\n            // await this.backgroundGeolocation.removeAllListeners()\n          }\n          this.initializeBackgroundGeolocation()\n        }\n      });\n    }\n\n    // setTimeout(async () => {\n    //   await Geolocation.clearWatch({ id: this.watchPositionId });\n    //   if (Capacitor.platform !== 'web') {\n    //     // await this.backgroundGeolocation.removeAllListeners()\n    //   }\n\n    //   this.startWatchingPosition();\n    //   this.initializeBackgroundGeolocation()\n    // }, 240000)\n  }\n\n  async initializeBackgroundGeolocation() {\n\n    if (this.auth.user.available != 0) {\n      if (Capacitor.platform !== 'web') {\n        // 1.  Listen to events.\n        BackgroundGeolocation.onLocation(async location => {\n          console.log('[location] - ', location);\n\n          try {\n            localStorage.setItem(\"latitude\", location.coords.latitude.toString());\n            localStorage.setItem(\"longitude\", location.coords.longitude.toString());\n            const heading = location.coords.heading ? location.coords.heading : 0;\n            let bearing_used = 0;\n            if (localStorage.getItem(\"bearing\")) {\n              const bearing = localStorage.getItem(\"bearing\");\n              bearing_used = parseFloat(bearing);\n            }\n            localStorage.setItem(\"bearing\", heading.toString())\n            let bearing = 0;\n            if (bearing_used != 0) {\n              // Angle used before\n              bearing = bearing_used\n            } else {\n              //Image original angle\n              bearing = 180;\n            }\n            const actual_angle = heading - (bearing);\n            //Notified modal to update the driver position\n            this.latLng.next({\n              lat: location.coords.latitude,\n              lng: location.coords.longitude,\n              bearing: actual_angle\n            });\n            //Update firebase document driver_geolocation/${city}/${driver_id}\n            await this.realtime.getUserGeolocation().update({\n              key: this.auth.user.id,\n              user_id: this.auth.user.id,\n              latitude: location.coords.latitude.toString(),\n              longitude: location.coords.longitude.toString(),\n              city_id: this.auth.person.city_id,\n              state_id: Number(this.auth.person.state_id),\n              level_id: Number(this.auth.user.level_id),\n              // last_active: Date.now(),\n              available: this.auth.user.available,\n              driver_name: this.auth.user.name,\n              transport_type_id: this.auth.vehicles.transport_type_id,\n            });\n            console.log(\"Location Update User Location\")\n            if (localStorage.getItem(\"current_order\")) {\n              const order = JSON.parse(localStorage.getItem(\"current_order\"));\n              //Set firebase collection path for order gps order_gps/${order_id}/${user_id}\n              let path = 'order_gps/' + order.id + '/' + this.auth.user.id;\n              //Update Driver posititon in the order\n              await this.db.object(path).update({\n                order: order.id,\n                key: this.auth.user.id,\n                vehicleId: this.auth.vehicles.id,\n                lat: location.coords.latitude,\n                lng: location.coords.longitude,\n                oldLat: location.coords.latitude,\n                oldLng: location.coords.longitude,\n                angle: actual_angle,\n                code: environment.VERSION_NAME\n              });\n              console.log(\"Location Update User Location in Order\")\n            } else {\n\n            }\n          } catch (e) {\n            console.log(`Location Update Error`, e);\n            // this.ui.showToast(\"Error\" + JSON.stringify(e))\n          }\n        });\n\n        BackgroundGeolocation.onMotionChange(async event => {\n          console.log('[motionchange] - ', event.isMoving, event.location);\n          const { location } = event;\n\n          try {\n            localStorage.setItem(\"latitude\", event.location.coords.latitude.toString());\n            localStorage.setItem(\"longitude\", event.location.coords.longitude.toString());\n            const heading = event.location.coords.heading ? event.location.coords.heading : 0;\n            let bearing_used = 0;\n            if (localStorage.getItem(\"bearing\")) {\n              const bearing = localStorage.getItem(\"bearing\");\n              bearing_used = parseFloat(bearing);\n            }\n            localStorage.setItem(\"bearing\", heading.toString())\n            let bearing = 0;\n            if (bearing != 0) {\n              // Angle used before\n              bearing = bearing_used\n            } else {\n              //Image original angle\n              bearing = 180;\n            }\n            const actual_angle = heading - (bearing);\n            //Notified modal to update the driver position\n            this.latLng.next({\n              lat: event.location.coords.latitude,\n              lng: event.location.coords.longitude,\n              bearing: actual_angle\n            });\n            //Update firebase document driver_geolocation/${city}/${driver_id}\n            await this.realtime.getUserGeolocation().update({\n              key: this.auth.user.id,\n              user_id: this.auth.user.id,\n              latitude: event.location.coords.latitude.toString(),\n              longitude: event.location.coords.longitude.toString(),\n              city_id: this.auth.person.city_id,\n              state_id: Number(this.auth.person.state_id),\n              level_id: Number(this.auth.user.level_id),\n              // last_active: Date.now(),\n              available: this.auth.user.available,\n              driver_name: this.auth.user.name,\n              transport_type_id: this.auth.vehicles.transport_type_id,\n            });\n            console.log(\"Location Update User Location\")\n            if (localStorage.getItem(\"current_order\")) {\n              const order = JSON.parse(localStorage.getItem(\"current_order\"));\n              if (order) {\n                let path = 'order_gps/' + order.id + '/' + this.auth.user.id;\n\n                await this.db.object(path).update({\n                  order: order.id,\n                  key: this.auth.user.id,\n                  vehicleId: this.auth.vehicles.id,\n                  lat: event.location.coords.latitude,\n                  lng: event.location.coords.longitude,\n                  oldLat: event.location.coords.latitude,\n                  oldLng: event.location.coords.longitude,\n                  angle: actual_angle,\n                  // last_active: Date.now(),\n                  code: environment.VERSION_NAME\n                });\n                console.log(\"Location Update User Location in Order\")\n\n              }\n            } else {\n\n            }\n          } catch (e) {\n            console.log(`Location Update Error`, e);\n            this.ui.showToast(\"Error\" + JSON.stringify(e))\n          }\n        });\n\n        BackgroundGeolocation.onHttp(response => {\n          console.log('[http] - ', response.success, response.status, response.responseText);\n        });\n\n        BackgroundGeolocation.onProviderChange(event => {\n          console.log('[providerchange] - ', event.enabled, event.status, event.gps);\n        });\n\n\n        // 2.  Configure the plugin with #ready\n        BackgroundGeolocation.ready({\n          stopTimeout:1,\n          debug: !environment.production,\n          logLevel: BackgroundGeolocation.LOG_LEVEL_VERBOSE,\n          desiredAccuracy: BackgroundGeolocation.DESIRED_ACCURACY_HIGH,\n          distanceFilter: 10,\n          stopOnTerminate: false,\n          startOnBoot: true,\n          locationAuthorizationRequest: 'Always',\n          backgroundPermissionRationale: {\n            title: \"Allow access to this device's location in the background?\",\n            message: \"In order to allow X, Y and Z in the background, please enable 'Allow all the time' permission\",\n            positiveAction: \"Change to Allow all the time\",\n            negativeAction: \"Cancel\"\n          },\n          activityType:BackgroundGeolocation.ACTIVITY_TYPE_AUTOMOTIVE_NAVIGATION,\n          foregroundService:true,\n          triggerActivities: \"on_foot, walking, running,in_vehicle,on_bicycle\"\n\n\n        }, async (state) => {\n          console.log('[ready] BackgroundGeolocation is ready to use');\n          if (!state.enabled) {\n\n            await BackgroundGeolocation.start();\n            BackgroundGeolocation.changePace(true);\n            // 3.  Start tracking.\n            if (!localStorage.getItem(\"background_location_accepted\")) {\n              // Is Android device ignoring battery optimizations?\n              this.ui.presentModal(RequestLocationPermissionPage,)\n\n\n            }\n          }\n        });\n\n      }\n    }\n  }\n\n\n  playAudio() {\n    if (environment.PLAY_AUDIO_ON_REQUEST == true) {\n      this.audio = new Audio(environment.AUDIO_PATH);\n      this.audio.play();\n    }\n\n  }\n\n  stopAudio() {\n    this.audio.pause();\n  }\n\n  cancel() {\n    this.ui.presentAlert({\n      mode: 'ios',\n      header: \"\",\n      message: \"\",\n      buttons: [\n        {\n          text: 'Aceptar',\n          cssClass: 'secondary',\n          handler: async (res) => {\n\n          }\n        }\n      ]\n    });\n  }\n\n  async verified() {\n\n    if (this.user.verified == 0) {\n      let header = \"Para ponerte disponible, primero debes ser verificado!\";\n      let message;\n      this.ui.presentAlert({\n        mode: 'ios',\n        header,\n        message,\n        buttons: [\n          {\n            text: 'Aceptar',\n            role: 'cancel',\n            cssClass: 'secondary',\n            handler: (res) => { console.log('cerrar'); }\n          }\n        ]\n      });\n    } else {\n      if (this.network.getNetworkStatus().connected) {\n        const loader = await this.loadingController.create({ message: \"Por favor espere...\", mode: 'ios' });\n        await loader.present();\n        try {\n          let latitude;\n          let longitude;\n          if (localStorage.getItem(\"latitude\") && localStorage.getItem(\"longitude\")) {\n            latitude = localStorage.getItem(\"latitude\");\n            longitude = localStorage.getItem(\"longitude\");\n          } else {\n            const position = await Geolocation.getCurrentPosition({\n              // enableHighAccuracy: true\n            });\n            latitude = position.coords.latitude;\n            longitude = position.coords.longitude;\n          }\n          localStorage.setItem(\"latitude\", latitude.toString());\n          localStorage.setItem(\"longitude\", longitude.toString());\n          this.auth.user.available = this.auth.user.available == 1 ? 0 : 1;\n          this.user.available = this.auth.user.available;\n\n          this.request.post(`driver/change_availability/${this.auth.user.id}`, {\n            latitude,\n            longitude,\n            available: this.auth.user.available\n          }).subscribe(async (res: any) => {\n            (await loader).dismiss();\n            this.realtime.getUserGeolocation().update({\n              key: this.auth.user.id,\n              user_id: this.auth.user.id,\n              latitude: latitude.toString(),\n              longitude: longitude.toString(),\n              city_id: this.auth.person.city_id,\n              state_id: Number(this.auth.person.state_id),\n              level_id: Number(this.auth.user.level_id),\n              // last_active: Date.now(),\n              available: this.auth.user.available,\n              driver_name: this.auth.user.name,\n              transport_type_id: this.auth.vehicles.transport_type_id,\n            });\n            if (this.auth.user.available == 0) {\n              Geolocation.clearWatch({ id: this.watchPositionId });\n              if (Capacitor.platform != 'web') {\n                await BackgroundGeolocation.stop();\n              }\n\n              // await this.backgroundGeolocation.removeAllListeners();\n            } else {\n              this.startPosition();\n            }\n\n            this.auth.setUser(this.auth.user);\n            if (this.auth.user.available == 1) {\n\n              this.ui.showToast(\"El usuario ahora est disponible\");\n              this.loadData();\n            } else {\n              // this.geolocation.stopWatching();\n              this.ui.showToast(\"El usuario ahora  no est disponible\");\n              const id = localStorage.getItem(\"watchPositionId\");\n              if (id) {\n                Geolocation.clearWatch({ id })\n              }\n            }\n\n          }, async (err: any) => {\n            (await loader).dismiss();\n\n            this.ui.showToast(\"Hubo un error y  no se pudo poner disponible\");\n            this.auth.user.available = this.auth.user.available == 1 ? 0 : 1;\n            this.user.available = this.auth.user.available;\n\n            console.log('error');\n          })\n\n        } catch (e) {\n          (await loader).dismiss();\n          this.ui.presentAlert({\n            mode: 'ios',\n            header: \"Advertencia\",\n            message: \"Su ubicacin no est disponible, por favor verificar el estado del GPS\",\n            buttons: [\n              {\n                text: 'Aceptar',\n                cssClass: 'secondary',\n                handler: async (res) => {\n\n                }\n              }\n            ]\n          });\n          console.log(\"Error\", e)\n\n        }\n      } else {\n        this.ui.showToast(\"Verifique su conexin\");\n      }\n    }\n  }\n\n  async loadData() {\n    if (this.network.getNetworkStatus().connected) {\n      this.spinner = true;\n      let loader;\n      if (!localStorage.getItem(\"current_order\")) {\n        loader = await this.ui.loading(\"Por favor espere...\");\n      }\n      this.orders = [];\n      this.request.get(`driver/list_current_orders/${this.auth.user.id}`)\n        .subscribe(\n          async (res: any) => {\n            this.refresher.complete();\n            this.spinner = false;\n            this.orders = res.data.data;\n            console.log(\"Orders\", this.orders);\n            this.orders.forEach(order => {\n              this.setOrderReminder(order);\n            })\n            if (loader) {\n              this.request.get(`driver/documents/${this.auth.user.id}`)\n                .subscribe(async (res: any) => {\n                  if (!localStorage.getItem(\"current_order\")) {\n                    (await loader).dismiss();\n                  }\n                  const documents = res.data.documents;\n                  const photo: any[] = documents.filter(d => d[\"document_type \"] == \"Foto del conductor\")\n                  if (photo.length > 0) {\n                    this.image = photo[photo.length - 1].url;\n                  }\n\n                }, async (err) => {\n                  if (!localStorage.getItem(\"current_order\")) {\n                    (await loader).dismiss();\n                  }\n                })\n            }\n\n\n          },\n          (err: any) => {\n            this.refresher.complete();\n            if (loader) {\n              this.request.get(`driver/documents/${this.auth.user.id}`)\n                .subscribe(async (res: any) => {\n                  if (!localStorage.getItem(\"current_order\")) {\n                    (await loader).dismiss();\n                  }\n                  const documents = res.data.documents;\n                  const photo: any[] = documents.filter(d => d[\"document_type \"] == \"Foto del conductor\")\n                  if (photo.length > 0) {\n                    this.image = photo[photo.length - 1].url;\n                  }\n\n                }, async (err) => {\n                  if (!localStorage.getItem(\"current_order\")) {\n                    (await loader).dismiss();\n                  }\n                })\n            }\n            this.spinner = false;\n          });\n    } else {\n      this.ui.showToast(\"Verifique su conexin\")\n    }\n  }\n\n\n\n  filter() {\n    return this.orders.filter(a => a.status_order != 25);\n  }\n\n  filterOrderNear(){\n    if(this.auth.person.ordersNearYou){\n      return this.auth.person.ordersNearYou.filter(o=> !this.orders.find(or=> o.id==or.id)).sort((a,b)=> new Date(a.creation_date).getTime()-new Date(b.creation_date).getTime());\n    }\n    return []\n  }\n\n  async viewDetail(order: any) {\n    console.log(\"Order\", order)\n    if (this.network.getNetworkStatus().connected) {\n      if (this.user.available != 0) {\n        //Validate the isn't about to end \n        /**\n         * The order is about to end \n         * When All the status from order details are finished or not effective\n         */\n        if (!this.isAboutToEnd(order)) {\n          if (order.status_order == 22 || order.status_order == 23) {\n            if (order.service_type_id == 3) {\n              //Validate if the order is currently active\n              const { message, active } = await this.isOrderActive(order, true);\n              if (active) {\n                // this.stopPosition();\n                // const loader = await this.ui.loading(\"Por favor espere...\");\n                try {\n                  //Validate if te user is near to the address\n                  const current_latitude = parseFloat(localStorage.getItem(\"latitude\"));\n                  const current_longitude = parseFloat(localStorage.getItem(\"longitude\"));\n                  const latitude = order.details[0].latitude;\n                  const longitude = order.details[0].longitude;\n                  const distance = this.place.calcCrow(latitude, longitude, current_latitude, current_longitude);\n                  console.log(\"Distance\", distance);\n                  if (distance <= 1) {\n                    console.log(\"Est ah\");\n                    await this.ui.presentAlert({\n                      mode: 'ios',\n                      header: 'Quieres iniciar el viaje?',\n                      buttons: [\n                        {\n                          text: 'No',\n                          role: 'cancel',\n                          cssClass: 'secondary',\n                          handler: (blah) => {\n                            console.log('Confirm Cancel: blah');\n                          }\n                        }, {\n                          text: 'S',\n                          handler: async () => {\n\n                            localStorage.setItem(\"current_order\", JSON.stringify(order));\n                            const modal = await this.ui.presentModal(ViewDetailPage, { order }, 'custom-modal')\n                            modal.onDidDismiss().then((data) => {\n                              this.loadData();\n\n                            });\n\n                          }\n\n                        }\n                      ]\n                    })\n                  } else {\n                    await this.ui.presentAlert({\n                      mode: 'ios',\n                      header: 'Advertencia',\n                      message: 'Debe estar en el punto para iniciar el servicio',\n                      buttons: [\n                        {\n                          text: 'Aceptar',\n                          role: 'cancel',\n                          cssClass: 'secondary',\n                          handler: (blah) => {\n                            console.log('Confirm Cancel: blah');\n                          }\n                        }\n                      ]\n                    })\n                  }\n                } catch (e) {\n\n\n                  console.log(\"Error\", e)\n                }\n              } else {\n                await this.ui.presentAlert({\n                  mode: 'ios',\n                  header: 'Advertencia',\n                  message,\n                  buttons: [\n                    {\n                      text: 'Aceptar',\n                      role: 'cancel',\n                      cssClass: 'secondary',\n                      handler: (blah) => {\n                        console.log('Confirm Cancel: blah');\n                      }\n                    }\n                  ]\n                })\n              }\n            } else {\n              localStorage.setItem(\"current_order\", JSON.stringify(order));\n                      const modal = await this.ui.presentModal(ViewDetailPage, { order, latLng: this.latLng }, 'custom-modal')\n                      modal.onDidDismiss().then((data) => {\n                        this.loadData();\n\n                      });\n            }\n          } else {\n            //Validate if the order status isnt end or not effective or cancelled or cancelled by the delivery\n            if (order.status_order != 25 && order.status_order != 48 && order.status_order != 31 && order.status_order != 36 && !this.isAboutToEnd(order)) {\n              //When I'll load the order, I  could update the proximity with it current value on the SQL database\n              this.realtime.getNewOrder().update({\n                proximity: order.proximity\n              })\n              localStorage.setItem(\"current_order\", JSON.stringify(order));\n              const modal = await this.ui.presentModal(ViewDetailPage, { order, latLng: this.latLng }, 'custom-modal')\n              modal.onDidDismiss().then(r => {\n                localStorage.removeItem(\"current_order\");\n                this.loadData();\n              });\n            }\n\n          }\n        }\n\n      } else {\n        this.ui.showToast(\"Debe estar disponible\")\n      }\n    } else {\n      this.ui.showToast(\"Por favor, verifique su conexin\")\n    }\n\n  }\n\n  /**\n   * This function is only for time service\n   * It build two notification \n   * The first one, it show inmediately and the other\n   * is scheduled 5 minutes before the start hour that the client put\n   * on the order\n   * the client\n   * @param order \n   */\n  async setOrderReminder(order) {\n    try {\n      if (order) {\n        //Validate if the order service type is for time\n        if (order.service_type_id == 3) {\n          //Validate the order is active\n          //Validate if the order is currently active\n          const { message, active } = await this.isOrderActive(order);\n          if (active) {\n            const details = order.detail ? order.detail : order.details;\n            const start_time = order.detail ? order.detail[0].start_time_military_format : order.details[0].start_time_military_format;\n            const now = new Date();\n            const now_hour = now.getHours() + \":\" + now.getMinutes();\n            const differenceInHours = this.days.getHourDiff(start_time, now_hour);\n\n            const id = Math.round(Math.random() * 100);\n\n            //Validate if the ordeer reminder doesnt exists\n            if (!localStorage.getItem(\"order_reminder\" + order.id)) {\n              const startDate = order.date + \" \" + start_time;\n              console.log(\"Start Date Service\", startDate)\n              const startTimeDate = new Date(startDate);\n              console.log(\"Start Date Service new Date\", new Date(startDate));\n              const oneHourBeforeDate = this.days.substractHours(new Date(startDate), 1);\n              const fiveMinutesBeforeDate = this.days.substractMinutes(new Date(startDate), 5);\n              console.log(\"Start Date Service One hour before \", oneHourBeforeDate);\n              console.log(\"Start Date Service Five minutes \", fiveMinutesBeforeDate)\n              const notificationsToSend: LocalNotification[] = [];\n              \n              const oneHourBeforeObject = {\n                hour: oneHourBeforeDate.getHours(),\n                minute: oneHourBeforeDate.getMinutes()\n              };\n              const fiveMinutesBeforeObject = {\n                hour: fiveMinutesBeforeDate.getHours(),\n                minute: fiveMinutesBeforeDate.getMinutes()\n              };\n              const startTimeObject = {\n                hour: startTimeDate.getHours(),\n                minute: startTimeDate.getMinutes()\n              };\n              /**\n           * This validation calculate the difference and its  \n           * true when current time is between one hour before and 10(ten) minutes \n           * after the start_time\n           */\n              if (differenceInHours > -1 && differenceInHours <= 0.1) {\n                notificationsToSend.push(/**\n                * Inmediately notification to\n                * alert the user\n                */\n                  {\n                    title: \"Orden \" + order.id,\n                    body: \"Recuerda que debes estar a las \" + details[0].start_time + \" en el lugar\",\n\n                    id: Math.round(Math.random() * 100),\n                    autoCancel: true,\n                    channelId: 'pop-notifications'\n                  })\n              }\n              notificationsToSend.push(/**\n              * This notification is scheduled to show one hour before \n              * the start_time\n              */\n                {\n                  title: \"Orden \" + order.id,\n                  body: \"Recuerda que debes estar a las \" + details[0].start_time + \" en el lugar\",\n                  schedule: {\n                    on: oneHourBeforeObject\n                  },\n                  id: Math.round(Math.random() * 100),\n                  autoCancel: true,\n                  channelId: 'pop-notifications'\n                });\n              notificationsToSend.push(\n                /**\n                 * This notification is scheduled to show five minutes before \n                 * the start_time\n                 */\n                {\n                  title: \"Orden \" + order.id,\n                  body: \"Recuerda que debes estar a las \" + details[0].start_time + \" en el lugar faltan cinco minutos\",\n                  schedule: {\n                    on: fiveMinutesBeforeObject\n                  },\n                  id: Math.round(Math.random() * 100),\n                  autoCancel: true,\n                  channelId: 'pop-notifications'\n                })\n              notificationsToSend.push(\n                /**\n                 * This notification is scheduled to show at the hour\n                 * the start_time\n                 */\n                {\n                  title: \"Orden \" + order.id,\n                  body: \"Ya es hora! \" + \" Ve a la direccin \" + details[0].address,\n                  schedule: {\n                    on: startTimeObject,\n\n                  },\n\n                  id: Math.round(Math.random() * 100),\n                  autoCancel: true,\n                  channelId: 'pop-notifications'\n                })\n              /**\n               * This is the first notification shown\n               */\n              //Show the local notificattions\n              await LocalNotifications.schedule({\n                notifications: notificationsToSend\n              })\n\n              localStorage.setItem(\"order_reminder\" + order.id, \"notified\")\n            }\n          }\n        }\n\n\n      } else {\n        this.ui.showToast(\"No hay orden\")\n      }\n\n    } catch (e) {\n      console.log(\"Error Notification\", e)\n      this.ui.showToast(\"Error\" + JSON.stringify(e));\n    }\n\n  }\n\n  getIsOrderActive(order) {\n    const { active, message } = this.isOrderActive(order);\n    return { active, message };\n  }\n\n\n  isOrderActive(order, validateHourDifference=true) {\n    //Validate if the order is currently active\n    const date_service = new Date(order.date);\n    const today = new Date();\n    const today_date = {\n      day: today.getDate(),\n      month: today.getMonth() + 1,\n      year: today.getFullYear()\n    };\n    const date_split = order.date.split(\"-\");\n    const date_service_date = {\n      day: Number(date_split[2]),\n      month: Number(date_split[1]),\n      year: Number(date_split[0])\n    }\n\n    const isToday = Object.keys(today_date).every(key => {\n      return (today_date[key] == date_service_date[key]);\n    });\n    if (isToday) {\n      if (order.service_type_id == 3) {\n        const details = order.detail ? order.detail : order.details;\n        const start_time = order.detail ? order.detail[0].start_time_military_format : order.details[0].start_time_military_format;\n        const now = new Date();\n        const now_hour = now.getHours() + \":\" + now.getMinutes();\n        const differenceInHours = this.days.getHourDiff(start_time, now_hour);\n        const id = Math.round(Math.random() * 100);\n\n        /**\n         * This validation calculate the difference and its  \n         * true when current time is between one hour before and 10(ten) minutes \n         * after the start_time\n         */\n        if(validateHourDifference){\n          if (differenceInHours > -1 && differenceInHours <= 0.1) {\n\n\n            return { active: true, message: \"\" };\n          } else {\n            return { active: false, message: \"Debe estar en la direccin en el horario establecido\" };\n          }\n        }else{\n          if(differenceInHours==0){\n            return { active: true, message: \"\" };\n          }else{\n            return { active: false, message: \"Debe estar en la direccin en el horario establecido\" };\n          }\n        }\n        \n      } else {\n        return { active: true, message: \"\" };\n      }\n    } else {\n      return { active: false, message: \"El da del servicio ha pasado \" };\n    }\n\n  }\n\n  \n\n\n}\n"]}