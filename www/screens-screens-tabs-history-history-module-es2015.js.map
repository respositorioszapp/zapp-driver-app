{"version":3,"sources":["./src/app/screens/screens-tabs/history/history.page.html","./src/app/screens/screens-tabs/history/history-routing.module.ts","./src/app/screens/screens-tabs/history/history.module.ts","./src/app/screens/screens-tabs/history/history.page.scss","./src/app/screens/screens-tabs/history/history.page.ts"],"names":[],"mappings":"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","file":"screens-screens-tabs-history-history-module-es2015.js","sourcesContent":["export default \"<ion-content color=\\\"warning\\\">\\n  <ion-card style=\\\"padding: 0;min-height: 350px;\\\">\\n    <ion-card-content style=\\\"padding: 0\\\">\\n      <ion-title class=\\\"ion-text-center\\\">Historial</ion-title>\\n      <ng-container *ngIf=\\\"orders.length > 0; else elseTemplateOrder\\\">\\n        <ion-card *ngFor=\\\"let item of orders\\\" style=\\\"margin-bottom: 10px;\\\" >\\n          <ion-card-content (click)=\\\"viewDetail(item)\\\">\\n\\n            <div style=\\\"width:100%;display: flex;\\\">\\n              <div class=\\\"w-50\\\">\\n                ORDEN #{{item.id}}\\n              </div>\\n              <div style=\\\"width: 50%;text-align:right\\\">\\n                \\n                {{ item.date | dateLocal | titlecase }}\\n              </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n              <div class=\\\"w-50\\\">\\n                <p class=\\\" \\\">Tipo de Servicio :  </p>\\n              </div>\\n              <div style=\\\"width: 50%;\\\">\\n                <strong>{{item.service_type}}</strong>\\n                \\n              </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n              <div class=\\\"w-50\\\">\\n                <p class=\\\" \\\"> Ciudad : </p>\\n                \\n              </div>\\n              <div style=\\\"width: 50%;   \\\">\\n                <strong>{{item.city}}</strong>\\n                \\n              </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n              <div class=\\\"w-50\\\">\\n                <p class=\\\"\\\"> Cantidad : </p>\\n              </div>\\n              <div class=\\\"w-50\\\">\\n                <strong>{{item.details.length}}</strong>\\n              </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n              <div class=\\\"w-50\\\">\\n                <p class=\\\"\\\"> Recorrido : </p>\\n              </div>\\n              <div style=\\\"width: 50%; \\\">\\n                <strong>{{item.round_trip ==1 ? 'Ida y Vuelta': 'Ida'}}</strong>\\n              </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n              <div class=\\\"w-50\\\">\\n                <p class=\\\"\\\"> Valor declarado : </p>\\n              </div>\\n              <div class=\\\"w-50\\\">\\n                <strong>{{item.declared_value}}</strong>\\n              </div>\\n            </div>\\n            <div class=\\\"row\\\">\\n              <div class=\\\"w-50\\\">\\n                <p class=\\\"\\\"> Tipo de accesorio : </p>\\n              </div>\\n              <div class=\\\"w-50\\\">\\n                <strong>{{item.accessory_type}}</strong>\\n              </div>\\n            </div>\\n            \\n            <div class=\\\"row\\\" *ngIf=\\\"item.service_type_id == 3\\\">\\n              <div class=\\\"w-50\\\">\\n                <p class=\\\"\\\"> Número de horas : </p>\\n              </div>\\n              <div style=\\\"width: 50%;    \\\">\\n                <strong>{{item.number_hours}}</strong>\\n              </div>\\n            </div>\\n            <ion-item lines=\\\"none\\\">\\n              <ion-button fill=\\\"clear\\\" size=\\\"small\\\" slot=\\\"start\\\"   style=\\\"\\\"  >\\n                <ng-container *ngIf=\\\"item.score_service; else elseTemplate\\\">\\n                  {{item.score_service ? item.score_service: 0 }}<ion-icon name=\\\"star\\\" class=\\\"text-yellow\\\"  ></ion-icon>  \\n                </ng-container>\\n                <ng-template #elseTemplate>\\n                  Sin calificar <ion-icon name=\\\"star\\\" ></ion-icon>   \\n                </ng-template>\\n                \\n                 \\n              </ion-button>\\n              <ion-button size=\\\"small\\\" [class]=\\\"store_states[item.status_order].class\\\" slot=\\\"end\\\">\\n                {{store_states[item.status_order].message}}\\n              </ion-button>\\n            </ion-item>\\n            \\n            \\n          </ion-card-content>\\n         \\n        </ion-card>\\n        <ion-card *ngIf=\\\"loading\\\">\\n          <ion-card-content >\\n\\n            <div style=\\\"width:100%;display: flex;\\\">\\n              <div class=\\\"w-50\\\">\\n                <ion-skeleton-text animated></ion-skeleton-text>\\n              </div>\\n              <div style=\\\"width: 50%;text-align:right\\\">\\n                <ion-skeleton-text animated></ion-skeleton-text>\\n              </div>\\n            </div>\\n            <div style=\\\"display: flex;margin-top: 5px;\\n            margin-bottom: 5px;\\\">\\n              <div class=\\\"w-50\\\">\\n                <ion-skeleton-text animated></ion-skeleton-text>\\n              </div>\\n              <div style=\\\"width: 50%; margin-left: 11px;\\\">\\n                <ion-skeleton-text animated></ion-skeleton-text>\\n              </div>\\n            </div>\\n            <div style=\\\"display: flex;margin-top: 5px;\\n            margin-bottom: 5px;\\\">\\n              <div class=\\\"w-50\\\">\\n                <ion-skeleton-text animated></ion-skeleton-text>\\n              </div>\\n              <div style=\\\"width: 50%;    margin-left: 11px;\\\">\\n                <ion-skeleton-text animated></ion-skeleton-text>\\n              </div>\\n            </div>\\n            <div style=\\\"display: flex;margin-top: 5px;\\n            margin-bottom: 5px;\\\">\\n              <div class=\\\"w-50\\\">\\n                <ion-skeleton-text animated></ion-skeleton-text>\\n              </div>\\n              <div style=\\\"width: 50%;    margin-left: 11px;\\\">\\n                <ion-skeleton-text animated></ion-skeleton-text>\\n              </div>\\n            </div>\\n            \\n          </ion-card-content>\\n        </ion-card>\\n        <ion-infinite-scroll  (ionInfinite)=\\\"loadData($event)\\\" >\\n          <ion-infinite-scroll-content\\n          loadingSpinner=\\\"bubbles\\\">\\n          </ion-infinite-scroll-content>\\n          \\n        </ion-infinite-scroll>\\n        \\n      </ng-container>\\n      <ng-template #elseTemplateOrder>\\n        <div style=\\\"position: relative;height: 200px;\\\" *ngIf=\\\"orders.length == 0;\\\">\\n          <h3 class=\\\"ion-text-center \\\" style=\\\"    font-size: 1.5em;\\n        position: absolute;\\n        top: 0;\\n        bottom: 0;\\n        right: 0;\\n        left: 0;\\n        text-align: center;\\n        margin: auto;\\n        height: 40px;\\n    \\\">No ha realizado ningún viaje</h3>\\n        </div>\\n\\n      </ng-template>\\n    </ion-card-content>\\n  </ion-card>\\n\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HistoryPage } from './history.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HistoryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HistoryPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HistoryPageRoutingModule } from './history-routing.module';\n\nimport { HistoryPage } from './history.page';\nimport { AplicationPipeModuleModule } from 'src/app/modules/aplication-pipe-module/aplication-pipe-module.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HistoryPageRoutingModule, \n    AplicationPipeModuleModule\n  ],\n  declarations: [HistoryPage]\n})\nexport class HistoryPageModule {}\n","export default \".text-yellow {\\n  color: #c6c73a;\\n}\\n\\n.button-green {\\n  --background: green;\\n  color: white;\\n}\\n\\n.text-green {\\n  color: green;\\n}\\n\\n.button-red {\\n  --background: red;\\n  color: white;\\n}\\n\\n.text-red {\\n  color: red;\\n}\\n\\n.button-gray {\\n  --background: #CE4257;\\n  color: #CE4257;\\n}\\n\\n.button-cancel {\\n  --background: #95B2B0;\\n  color: #95B2B0;\\n}\\n\\n.button-dark {\\n  --background: #0e0f0f;\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYXNwcmlsbGEvRG9jdW1lbnRvc01pZ3VlbC9Qcm95ZWN0b3MvemFwcC96YXBwLWRyaXZlci1hcHAtcnBlbmFsb3phL3NyYy9hcHAvc2NyZWVucy9zY3JlZW5zLXRhYnMvaGlzdG9yeS9oaXN0b3J5LnBhZ2Uuc2NzcyIsInNyYy9hcHAvc2NyZWVucy9zY3JlZW5zLXRhYnMvaGlzdG9yeS9oaXN0b3J5LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQUE7QUNDSjs7QURFQTtFQUNJLG1CQUFBO0VBQ0EsWUFBQTtBQ0NKOztBREVBO0VBQ0ksWUFBQTtBQ0NKOztBREVBO0VBQ0ksaUJBQUE7RUFDQSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxVQUFBO0FDQ0o7O0FERUE7RUFDSSxxQkFBQTtFQUNBLGNBQUE7QUNDSjs7QURFQTtFQUNJLHFCQUFBO0VBQ0EsY0FBQTtBQ0NKOztBREVBO0VBQ0kscUJBQUE7RUFDQSxZQUFBO0FDQ0oiLCJmaWxlIjoic3JjL2FwcC9zY3JlZW5zL3NjcmVlbnMtdGFicy9oaXN0b3J5L2hpc3RvcnkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnRleHQteWVsbG93e1xuICAgIGNvbG9yOiAjYzZjNzNhO1xufVxuXG4uYnV0dG9uLWdyZWVuIHtcbiAgICAtLWJhY2tncm91bmQ6IGdyZWVuO1xuICAgIGNvbG9yOiB3aGl0ZTtcbn1cblxuLnRleHQtZ3JlZW57XG4gICAgY29sb3I6IGdyZWVuO1xufVxuXG4uYnV0dG9uLXJlZCB7XG4gICAgLS1iYWNrZ3JvdW5kOiByZWQ7XG4gICAgY29sb3I6IHdoaXRlO1xufVxuXG4udGV4dC1yZWR7XG4gICAgY29sb3I6IHJlZDtcbn1cblxuLmJ1dHRvbi1ncmF5IHtcbiAgICAtLWJhY2tncm91bmQ6ICNDRTQyNTc7XG4gICAgY29sb3I6ICNDRTQyNTc7XG59XG5cbi5idXR0b24tY2FuY2VsIHtcbiAgICAtLWJhY2tncm91bmQ6ICM5NUIyQjA7XG4gICAgY29sb3I6ICM5NUIyQjA7XG59XG5cbi5idXR0b24tZGFya3tcbiAgICAtLWJhY2tncm91bmQ6ICMwZTBmMGY7XG4gICAgY29sb3I6IHdoaXRlO1xufSIsIi50ZXh0LXllbGxvdyB7XG4gIGNvbG9yOiAjYzZjNzNhO1xufVxuXG4uYnV0dG9uLWdyZWVuIHtcbiAgLS1iYWNrZ3JvdW5kOiBncmVlbjtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4udGV4dC1ncmVlbiB7XG4gIGNvbG9yOiBncmVlbjtcbn1cblxuLmJ1dHRvbi1yZWQge1xuICAtLWJhY2tncm91bmQ6IHJlZDtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4udGV4dC1yZWQge1xuICBjb2xvcjogcmVkO1xufVxuXG4uYnV0dG9uLWdyYXkge1xuICAtLWJhY2tncm91bmQ6ICNDRTQyNTc7XG4gIGNvbG9yOiAjQ0U0MjU3O1xufVxuXG4uYnV0dG9uLWNhbmNlbCB7XG4gIC0tYmFja2dyb3VuZDogIzk1QjJCMDtcbiAgY29sb3I6ICM5NUIyQjA7XG59XG5cbi5idXR0b24tZGFyayB7XG4gIC0tYmFja2dyb3VuZDogIzBlMGYwZjtcbiAgY29sb3I6IHdoaXRlO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { User } from 'src/app/interfaces/User';\nimport { UiService } from 'src/app/services/ui.service';\nimport { ViewDetailPage } from 'src/app/screens/forms/view-detail/view-detail.page';\nimport { RequestService } from 'src/app/services/request.service';\nimport { AuthService } from 'src/app/services/auth.service';\nimport { Router } from '@angular/router';\nimport { NetworkStatusService } from 'src/app/services/network-status.service';\n\nimport { Capacitor } from '@capacitor/core';\n\n@Component({\n  selector: 'app-history',\n  templateUrl: './history.page.html',\n  styleUrls: ['./history.page.scss'],\n})\nexport class HistoryPage implements OnInit {\n  user: User;\n  orders = []\n  image = \"assets/imgs/avatar.svg\"\n  slideOpts = {\n    initialSlide: 1,\n    speed: 400\n  };\n  store_states = {\n    25:{\n      message: \"Finalizada\",\n      state: 25,\n      class:\"button-green\"\n    },\n    31:{\n      message: \"Cancelada\",\n      \n      state: 31,\n     color:\"button-cancel\"\n    },\n    36:{\n      message: \"Cancelada por mensajero\",\n     \n      state: 36,\n      color:\"button-gray \"\n    },\n    48:{\n      message: \"Orden no efectiva\",\n      \n      state: 48,\n      color:\"button-dark\"\n     \n    }\n\n  }\n  allLoaded = false\n  dataParams: any = {\n    total: 0,\n    per_page: 5,\n    page: 1,\n    filters: []\n  };\n  nextPage = \"\"\n  to = 0\n  loadedText: string = \"\"\n  loading = false\n  constructor(private ui: UiService,\n    private request: RequestService,\n    private auth: AuthService,\n    private router: Router,\n    private network: NetworkStatusService,\n    \n    ) { }\n\n  ngOnInit() {\n  \n  }\n\n  async ionViewWillEnter() {\n    this.user = this.auth.user;\n    this.dataParams.page = 1;\n    if (this.network.getNetworkStatus().connected) {\n      const loader = await this.ui.loading(\"Por favor espere...\");\n      this.request\n        .get(`driver/history_services/${this.auth.user.id}?per_page=${this.dataParams.per_page}&page=${this.dataParams.page}`)\n        .subscribe(async (res: any) => {\n          (await loader).dismiss();\n          console.log(\"Res\", res.data.data)\n          this.orders = res.data.data;\n          this.to = res.data.to;\n        }, async (err: any) => {\n          (await loader).dismiss();\n          this.orders = []\n\n\n        })\n    } else {\n      this.ui.showToast(\"Verifique su conexión\");\n    }\n  }\n\n  async viewDetail(order: any) {\n    if (this.network.getNetworkStatus().connected) {\n      if (order.status_order == 23) {\n        await this.ui.presentAlert({\n          mode: 'ios',\n          header: '¿Quieres iniciar el viaje?',\n          buttons: [\n            {\n              text: 'No',\n              role: 'cancel',\n              cssClass: 'secondary',\n              handler: (blah) => {\n                console.log('Confirm Cancel: blah');\n              }\n            }, {\n              text: 'Sí',\n              handler: async () => {\n                const modal = await this.ui.presentModal(ViewDetailPage, { order })\n                const m = await modal.onDidDismiss();\n                this.dataParams.page = 1;\n                this.ionViewWillEnter();\n              }\n\n            }\n          ]\n        })\n      } else {\n        const modal = await this.ui.presentModal(ViewDetailPage, { order })\n        const m = await modal.onDidDismiss();\n        this.dataParams.page = 1;\n        this.ionViewWillEnter();\n      }\n    } else {\n      this.ui.showToast(\"Verifique su conexión\");\n    }\n\n\n  }\n\n  loadData(event) {\n    if (this.network.getNetworkStatus().connected) {\n      this.dataParams.page++;\n      this.loading = true;\n      this.request.get(`driver/history_services/${this.auth.user.id}?per_page=${this.dataParams.per_page}&page=${this.dataParams.page}`)\n        .subscribe(async (res: any) => {\n          console.log(\"Sucesss\")\n          res.data.data.map(d => {\n            this.orders.push(d)\n          })\n          console.log(\"Orders\", this.orders)\n          this.loading = false;\n          event.target.complete();\n\n        }, async (err: any) => {\n          console.log(\"Error\")\n          event.target.disabled = true;\n          this.allLoaded = true;\n          this.loading = false;\n          console.log(\"Error\", err)\n          err.error.data.map(d => {\n            this.orders.push(d)\n          })\n          event.target.complete();\n        })\n    } else {\n      this.ui.showToast(\"Verifique su conexión\")\n    }\n\n  }\n\n}\n"],"sourceRoot":"webpack:///"}