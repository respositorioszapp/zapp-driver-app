{"version":3,"sources":["webpack:///src/app/screens/auth/signup-tab2/signup-tab2.page.html","webpack:///src/app/screens/auth/signup-tab2/signup-tab2-routing.module.ts","webpack:///src/app/screens/auth/signup-tab2/signup-tab2.module.ts","webpack:///src/app/screens/auth/signup-tab2/signup-tab2.page.scss","webpack:///src/app/screens/auth/signup-tab2/signup-tab2.page.ts"],"names":["routes","path","component","SignupTab2PageRoutingModule","imports","forChild","exports","SignupTab2PageModule","declarations","SignupTab2Page","fb","request","router","ui","common","network","transport_types","personal_information","transpot_type","vehicle_information","group","vehicle_type","required","plate","minLength","maxLength","brand","model","color","year","Date","getFullYear","terms","requiredTrue","value","toUpperCase","length","substring","controls","setValue","localStorage","getItem","JSON","parse","getNetworkStatus","connected","loading","loader","get","subscribe","res","data","vehicle","find","t","id","valueChanges","dismiss","err","console","log","showToast","valid","setItem","stringify","obj","dni","dni_type_id","role_id","first_name","names","last_name","lastnames","address","phone","email","city_id","city","country","state_id","password","password_confirmation","password_confirm","transport_type_id","post","removeItem","navigate","status","error","messages","invalid","presentAlert","mode","header","buttons","text","role","cssClass","handler","blah","selector","template"],"mappings":"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","file":"signup-tab2-signup-tab2-module-es5.js","sourcesContent":["export default \"<h4 style=\\\"text-align: center;\\\">Registro vehículo</h4>\\n<form [formGroup]=\\\"vehicle_information\\\" (submit)=\\\"save()\\\" novalidate>\\n  <ion-item lines=\\\"none\\\" class=\\\"input-text ion-margin-top\\\">\\n    <ion-select placeholder=\\\"Tipo de vehículo\\\" formControlName=\\\"vehicle_type\\\" style=\\\"display: contents;\\\" required [selectedText]=\\\"transpot_type.name\\\">\\n      <ion-select-option *ngFor=\\\"let item of transport_types\\\" [value]=\\\"item.id\\\">{{item.name }}</ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\" class=\\\"danger-color-text\\\"\\n    *ngIf=\\\"controls.vehicle_type.dirty && controls.vehicle_type.touched && controls.vehicle_type.errors\\\">\\n    <ion-icon name=\\\"alert-circle\\\" slot=\\\"start\\\" class=\\\"danger-color-text\\\"></ion-icon>\\n    <ion-label *ngIf=\\\"controls.vehicle_type.errors.required\\\">El tipo de vehículo es requerida</ion-label>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\" class=\\\"input-text ion-margin-top\\\">\\n    <ion-input placeholder=\\\"Placa\\\" formControlName=\\\"plate\\\" required ></ion-input>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\" class=\\\"danger-color-text\\\" *ngIf=\\\"controls.plate.dirty && controls.plate.touched && controls.plate.errors\\\">\\n    <ion-icon name=\\\"alert-circle\\\" slot=\\\"start\\\" class=\\\"danger-color-text\\\"></ion-icon>\\n    <ion-label *ngIf=\\\"controls.plate.errors.required\\\">La placa es requerido</ion-label>\\n    <ion-label *ngIf=\\\"controls.plate.errors.minlength || controls.plate.errors.maxlength\\\">La placa debe contener 6\\n      caracteres</ion-label>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\" class=\\\"input-text ion-margin-top\\\">\\n    <ion-input placeholder=\\\"Marca\\\" formControlName=\\\"brand\\\" required></ion-input>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\" class=\\\"danger-color-text\\\" *ngIf=\\\"controls.brand.dirty && controls.brand.touched && controls.brand.errors\\\">\\n    <ion-icon name=\\\"alert-circle\\\" slot=\\\"start\\\" class=\\\"danger-color-text\\\"></ion-icon>\\n    <ion-label *ngIf=\\\"controls.brand.errors.required\\\">La marca es requerido</ion-label>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\" class=\\\"input-text ion-margin-top\\\">\\n    <ion-input placeholder=\\\"Modelo\\\" formControlName=\\\"model\\\" required></ion-input>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\" class=\\\"danger-color-text\\\" *ngIf=\\\"controls.model.dirty && controls.model.touched && controls.model.errors\\\">\\n    <ion-icon name=\\\"alert-circle\\\" slot=\\\"start\\\" class=\\\"danger-color-text\\\"></ion-icon>\\n    <ion-label *ngIf=\\\"controls.model.errors.required\\\">El modelo es requerido</ion-label>\\n  </ion-item>\\n\\n  <ion-item lines=\\\"none\\\" class=\\\"input-text ion-margin-top\\\">\\n    <ion-select placeholder=\\\"Año\\\" formControlName=\\\"year\\\" style=\\\"display: contents;\\\">\\n      <ion-select-option *ngFor=\\\"let item of common.years\\\" [value]=\\\"item\\\">{{item }}</ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\" class=\\\"danger-color-text\\\" *ngIf=\\\"controls.year.dirty && controls.year.touched && controls.year.errors\\\">\\n    <ion-icon name=\\\"alert-circle\\\" slot=\\\"start\\\" class=\\\"danger-color-text\\\"></ion-icon>\\n    <ion-label *ngIf=\\\"controls.year.errors.required\\\">El año es requerida</ion-label>\\n  </ion-item>\\n\\n  <ion-item lines=\\\"none\\\" class=\\\"input-text ion-margin-top\\\">\\n    <ion-select placeholder=\\\"Color\\\" formControlName=\\\"color\\\" style=\\\"display: contents;\\\" required>\\n      <ion-select-option *ngFor=\\\"let item of common.colors\\\" [value]=\\\"item\\\">{{item }}</ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n  <ion-item lines=\\\"none\\\" class=\\\"danger-color-text\\\" *ngIf=\\\"controls.color.dirty && controls.color.touched && controls.color.errors\\\">\\n    <ion-icon name=\\\"alert-circle\\\" slot=\\\"start\\\" class=\\\"danger-color-text\\\"></ion-icon>\\n    <ion-label *ngIf=\\\"controls.color.errors.required\\\">El color es requerida</ion-label>\\n  </ion-item>\\n  <a href=\\\"https://zapplogistica.com/politicas/\\\" class=\\\"ion-margin-top ion-text-center\\\" target=\\\"_blank\\\" rel=\\\"noopener noreferrer\\\" style=\\\"font-size: 1.2em;display:block;color: #1c024b;\\\" color=\\\"primary\\\">Ver términos y condiciones</a>\\n  <ion-item lines=\\\"none\\\">\\n    \\n    <ion-label class=\\\"ion-text-justify\\\">Aceptar los términos y condiciones</ion-label>\\n    <ion-checkbox slot=\\\"start\\\" formControlName=\\\"terms\\\" style=\\\" margin-right: 10px;\\\" ></ion-checkbox>\\n  </ion-item>\\n  \\n  <!-- -->\\n  <ion-button type=\\\"submit\\\" expand=\\\"block\\\" mode=\\\"ios\\\" color=\\\"primary\\\" >\\n    ENVIAR\\n  </ion-button>\\n</form>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SignupTab2Page } from './signup-tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SignupTab2Page\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SignupTab2PageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SignupTab2PageRoutingModule } from './signup-tab2-routing.module';\n\nimport { SignupTab2Page } from './signup-tab2.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    SignupTab2PageRoutingModule\n  ],\n  declarations: [SignupTab2Page]\n})\nexport class SignupTab2PageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3NjcmVlbnMvYXV0aC9zaWdudXAtdGFiMi9zaWdudXAtdGFiMi5wYWdlLnNjc3MifQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { RequestService } from 'src/app/services/request.service';\nimport { Router } from '@angular/router';\nimport { UiService } from 'src/app/services/ui.service';\nimport { CommonAtrributesService } from 'src/app/services/common-atrributes.service';\nimport { NetworkStatusService } from 'src/app/services/network-status.service';\n\n\n@Component({\n  selector: 'app-signup-tab2',\n  templateUrl: './signup-tab2.page.html',\n  styleUrls: ['./signup-tab2.page.scss'],\n})\nexport class SignupTab2Page implements OnInit {\n  transport_types = []\n  personal_information: any = {\n\n  }\n  transpot_type: any = {}\n  vehicle_information = this.fb.group({\n    vehicle_type: ['', Validators.required],\n    plate: ['', [Validators.required, Validators.minLength(6), Validators.maxLength(6)]],\n    brand: ['', Validators.required],\n    model: ['', [Validators.required,]],\n    color: ['', [Validators.required]],\n    year: [new Date().getFullYear(), [Validators.required]],\n    terms: [false, [Validators.requiredTrue]]\n  })\n  constructor(private fb: FormBuilder,\n    private request: RequestService,\n    private router: Router,\n    private ui: UiService,\n    public common: CommonAtrributesService,\n    private network: NetworkStatusService\n  ) {\n\n\n  }\n\n  plateOnChange() {\n    let plate: string = this.vehicle_information.value.plate;\n    plate = plate.toUpperCase();\n    if (plate.length > 6) {\n      plate = plate.substring(0, 6)\n    }\n    this.controls.plate.setValue(plate);\n  }\n\n  async ngOnInit() {\n    \n\n    if (localStorage.getItem(\"personal_information\")) {\n      this.personal_information = JSON.parse(localStorage.getItem(\"personal_information\"));\n    }\n\n    if (this.network.getNetworkStatus().connected) {\n      const loader = await this.ui.loading(\"Por favor espere...\");\n      this.request.get('list/attributes?parameter_id=2')\n        .subscribe(async (res: any) => {\n          this.transport_types = res.data;\n          if (localStorage.getItem(\"vehicle_information\")) {\n\n            const vehicle = JSON.parse(localStorage.getItem(\"vehicle_information\"));\n\n            this.vehicle_information.setValue({\n              vehicle_type: vehicle.vehicle_type,\n              plate: vehicle.plate,\n              brand: vehicle.brand,\n              model: vehicle.model,\n              color: vehicle.color,\n              year: new Date().getFullYear(),\n              terms: false\n            })\n            this.transpot_type = this.transport_types.find(t => t.id == vehicle.vehicle_type);\n            this.controls.vehicle_type.valueChanges.subscribe(res => {\n              this.transpot_type = this.transport_types.find(t => t.id == res);\n            })\n          }\n          (await loader).dismiss()\n        },\n          async (err: any) => {\n            console.log(\"Error\", err);\n            (await loader).dismiss()\n          })\n    } else {\n      this.ui.showToast(\"Verifique su conexión\");\n    }\n  }\n\n  get controls() {\n    return this.vehicle_information.controls;\n  }\n\n  async save() {\n    if (this.vehicle_information.valid) {\n\n      this.personal_information = {\n        ...this.personal_information,\n        ...this.vehicle_information.value\n      }\n      this.personal_information.plate = this.personal_information.plate.toUpperCase()\n      console.log(this.personal_information);\n      localStorage.setItem(\"vehicle_information\", JSON.stringify(this.vehicle_information.value));\n      if (this.network.getNetworkStatus().connected) {\n        const loader = await this.ui.loading(\"Por favor espere...\");\n        const obj = {\n          dni: this.personal_information.dni,\n          dni_type_id: this.personal_information.dni_type_id,\n          role_id: 5,\n          first_name: this.personal_information.names,\n          last_name: this.personal_information.lastnames,\n          address: this.personal_information.address,\n          phone: this.personal_information.phone,\n          email: this.personal_information.email,\n          city_id: this.personal_information.city.id,\n          country: \"CO\",\n          state_id: this.personal_information.city.state_id,\n          password: this.personal_information.password,\n          password_confirmation: this.personal_information.password_confirm,\n          transport_type_id: this.personal_information.vehicle_type,\n          model: this.personal_information.model,\n          brand: this.personal_information.brand,\n          color: this.personal_information.color,\n          plate: this.personal_information.plate,\n          year: this.vehicle_information.value.year\n        }\n        console.log(\"Obj\", obj)\n\n        this.request.post('driver/create_driver', obj)\n          .subscribe(async (res: any) => {\n            (await loader).dismiss();\n            localStorage.removeItem(\"personal_information\")\n            localStorage.removeItem(\"vehicle_information\")\n            this.ui.showToast(\"Usuario creado exitosamente\", () => {\n              this.router.navigate(['/login'])\n            })\n          }, async (err: any) => {\n            (await loader).dismiss();\n            console.log(err);\n            if(err.status == 400){\n              if(err.error){\n                if(err.error.messages){\n                  this.ui.showToast(err.error.messages[0]);\n                }\n                return;\n              }\n            }\n            this.ui.showToast(\"Ha ocurrido un error en el servidor\");\n\n\n            \n          })\n      } else {\n        this.ui.showToast(\"Verifique su conexión\");\n      }\n    } else {\n      if (this.controls.terms.invalid) {\n        await this.ui.presentAlert({\n          mode: 'ios',\n          header: 'Debe aceptar los términos y condiciones',\n          buttons: [\n            {\n              text: 'Aceptar',\n              role: 'cancel',\n              cssClass: 'secondary',\n              handler: (blah) => {\n\n              }\n            }\n          ]\n        })\n      }\n    }\n\n  }\n\n}\n"]}