{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { OtherDocumentsPage } from 'src/app/screens/forms/other-documents/other-documents.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/photo.service\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"src/app/services/request.service\";\nimport * as i4 from \"src/app/services/ui.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@ionic/angular\";\nimport * as i7 from \"src/app/services/realtime.service\";\nimport * as i8 from \"../../../services/network-status.service\";\nimport * as i9 from \"@angular/common\";\n\nfunction DocumentsPage_ion_card_header_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card-header\")(1, \"ion-card-subtitle\", 16)(2, \"h2\")(3, \"span\", 17);\n    i0.ɵɵtext(4, \"Completa tu registro\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(5, \"br\");\n    i0.ɵɵtext(6, \" Faltan \");\n    i0.ɵɵelementStart(7, \"ion-badge\", 18);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \" documentos \");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r0.getDocumentsAlreadyFullFill());\n  }\n}\n\nfunction DocumentsPage_ion_col_14_ion_progress_bar_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-progress-bar\", 21);\n  }\n}\n\nfunction DocumentsPage_ion_col_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\", 19)(1, \"img\", 20);\n    i0.ɵɵlistener(\"click\", function DocumentsPage_ion_col_14_Template_img_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const item_r10 = restoredCtx.$implicit;\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.takePhoto(item_r10));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"ion-label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, DocumentsPage_ion_col_14_ion_progress_bar_4_Template, 1, 0, \"ion-progress-bar\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r10 = ctx.$implicit;\n    const i_r11 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", item_r10.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r11 % 2 == 0 ? \"Frontal\" : \"Trasera\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r10.loading);\n  }\n}\n\nfunction DocumentsPage_ion_col_19_ion_progress_bar_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-progress-bar\", 21);\n  }\n}\n\nfunction DocumentsPage_ion_col_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\", 19)(1, \"img\", 20);\n    i0.ɵɵlistener(\"click\", function DocumentsPage_ion_col_19_Template_img_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const item_r15 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.takePhoto(item_r15));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"ion-label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, DocumentsPage_ion_col_19_ion_progress_bar_4_Template, 1, 0, \"ion-progress-bar\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r15 = ctx.$implicit;\n    const i_r16 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", item_r15.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r16 % 2 == 0 ? \"Frontal\" : \"Trasera\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r15.loading);\n  }\n}\n\nfunction DocumentsPage_ion_col_24_ion_progress_bar_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-progress-bar\", 21);\n  }\n}\n\nfunction DocumentsPage_ion_col_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\", 19)(1, \"img\", 20);\n    i0.ɵɵlistener(\"click\", function DocumentsPage_ion_col_24_Template_img_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const item_r20 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.takePhoto(item_r20));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"ion-label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, DocumentsPage_ion_col_24_ion_progress_bar_4_Template, 1, 0, \"ion-progress-bar\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r20 = ctx.$implicit;\n    const i_r21 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", item_r20.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r21 % 2 == 0 ? \"Frontal\" : \"Trasera\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r20.loading);\n  }\n}\n\nfunction DocumentsPage_ion_col_29_ion_progress_bar_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-progress-bar\", 21);\n  }\n}\n\nfunction DocumentsPage_ion_col_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\", 19)(1, \"img\", 20);\n    i0.ɵɵlistener(\"click\", function DocumentsPage_ion_col_29_Template_img_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const item_r25 = restoredCtx.$implicit;\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.takePhoto(item_r25));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"ion-label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, DocumentsPage_ion_col_29_ion_progress_bar_4_Template, 1, 0, \"ion-progress-bar\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r25 = ctx.$implicit;\n    const i_r26 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", item_r25.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r26 % 2 == 0 ? \"Frontal\" : \"Trasera\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r25.loading);\n  }\n}\n\nfunction DocumentsPage_ion_progress_bar_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-progress-bar\", 21);\n  }\n}\n\nfunction DocumentsPage_ion_progress_bar_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-progress-bar\", 21);\n  }\n}\n\nfunction DocumentsPage_ng_container_48_ion_col_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\", 24);\n    i0.ɵɵlistener(\"click\", function DocumentsPage_ng_container_48_ion_col_2_Template_ion_col_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r34);\n      const item_r32 = restoredCtx.$implicit;\n      const ctx_r33 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r33.updateImage(item_r32));\n    });\n    i0.ɵɵelement(1, \"ion-img\", 25);\n    i0.ɵɵelementStart(2, \"ion-label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r32 = ctx.$implicit;\n    const ctx_r30 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"size\", ctx_r30.others.length == 1 ? \"12\" : \"6\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", item_r32.url);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r32[\"document_type \"]);\n  }\n}\n\nfunction DocumentsPage_ng_container_48_ion_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-button\", 26);\n    i0.ɵɵlistener(\"click\", function DocumentsPage_ng_container_48_ion_button_3_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const ctx_r35 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r35.getFile());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 27);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction DocumentsPage_ng_container_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-row\");\n    i0.ɵɵtemplate(2, DocumentsPage_ng_container_48_ion_col_2_Template, 4, 3, \"ion-col\", 22);\n    i0.ɵɵtemplate(3, DocumentsPage_ng_container_48_ion_button_3_Template, 2, 0, \"ion-button\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.others);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.getOtherSuccesfull());\n  }\n}\n\nfunction DocumentsPage_ng_template_49_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\", 11)(1, \"ion-button\", 26);\n    i0.ɵɵlistener(\"click\", function DocumentsPage_ng_template_49_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r38);\n      const ctx_r37 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r37.getFile());\n    });\n    i0.ɵɵelement(2, \"ion-icon\", 27);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport let DocumentsPage = /*#__PURE__*/(() => {\n  class DocumentsPage {\n    constructor(photo, auth, request, ui, router, loadingController, realtime, network) {\n      this.photo = photo;\n      this.auth = auth;\n      this.request = request;\n      this.ui = ui;\n      this.router = router;\n      this.loadingController = loadingController;\n      this.realtime = realtime;\n      this.network = network;\n      this.imgs = [{\n        id: 15,\n        url: \"assets/imgs/img-default.jpg\",\n        format: \"\",\n        document_type: \"Cédula frontal\"\n      }, {\n        id: 16,\n        url: \"assets/imgs/img-default.jpg\",\n        format: \"\",\n        document_type: \"Cedula trasera\"\n      }, {\n        id: 17,\n        url: \"assets/imgs/img-default.jpg\",\n        format: \"\",\n        document_type: \"Tarjeta de propiedad frontal\"\n      }, {\n        id: 18,\n        url: \"assets/imgs/img-default.jpg\",\n        format: \"\",\n        document_type: \"Tarjeta de propiedad trasera\"\n      }, {\n        id: 19,\n        url: \"assets/imgs/img-default.jpg\",\n        format: \"\",\n        document_type: \"Licencia de conduccion frontal\"\n      }, {\n        id: 20,\n        url: \"assets/imgs/img-default.jpg\",\n        format: \"\",\n        document_type: \"Licencia de conduccion trasera\"\n      }, {\n        id: 26,\n        url: \"assets/imgs/img-default.jpg\",\n        format: \"\",\n        document_type: \"Soat\"\n      }, {\n        id: 27,\n        url: \"assets/imgs/img-default.jpg\",\n        format: \"\",\n        document_type: \"Tecnomecanica\"\n      }, {\n        id: 28,\n        url: \"assets/imgs/img-default.jpg\",\n        format: \"\",\n        document_type: \"Foto del vehiculo frontal\"\n      }, {\n        id: 29,\n        url: \"assets/imgs/img-default.jpg\",\n        format: \"\",\n        document_type: \"Foto del vehiculo trasera\"\n      }];\n      this.others = [{\n        id: 32,\n        url: \"assets/imgs/img-default.jpg\",\n        format: \"\",\n        document_type: \"Recibo Servicio público\"\n      }, {\n        id: 33,\n        url: \"assets/imgs/img-default.jpg\",\n        format: \"\",\n        document_type: \"Hoja de vida\"\n      }];\n      this.documents_verified = false;\n    }\n\n    filter(array, start, end) {\n      return array.filter((d, i) => i >= start && i <= end);\n    }\n\n    getDocumentsComplete() {\n      const res = Math.abs(Number(this.auth.vehicles.year) - new Date().getFullYear());\n      if (res > 2) return this.imgs.every(i => i.url && i.url != \"assets/imgs/img-default.jpg\");else {\n        const ings = this.imgs.filter(i => i.id != 27);\n        return ings.every(i => i.url && i.url != \"assets/imgs/img-default.jpg\");\n      }\n    }\n\n    ngOnInit() {\n      return __awaiter(this, void 0, void 0, function* () {});\n    }\n\n    ionViewWillEnter() {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (this.subscription) {\n          this.subscription.unsubscribe();\n        }\n\n        this.imgs = [{\n          id: 15,\n          url: \"assets/imgs/img-default.jpg\",\n          format: \"\",\n          document_type: \"Cédula frontal\"\n        }, {\n          id: 16,\n          url: \"assets/imgs/img-default.jpg\",\n          format: \"\",\n          document_type: \"Cedula trasera\"\n        }, {\n          id: 17,\n          url: \"assets/imgs/img-default.jpg\",\n          format: \"\",\n          document_type: \"Tarjeta de propiedad frontal\"\n        }, {\n          id: 18,\n          url: \"assets/imgs/img-default.jpg\",\n          format: \"\",\n          document_type: \"Tarjeta de propiedad trasera\"\n        }, {\n          id: 19,\n          url: \"assets/imgs/img-default.jpg\",\n          format: \"\",\n          document_type: \"Licencia de conduccion frontal\"\n        }, {\n          id: 20,\n          url: \"assets/imgs/img-default.jpg\",\n          format: \"\",\n          document_type: \"Licencia de conduccion trasera\"\n        }, {\n          id: 26,\n          url: \"assets/imgs/img-default.jpg\",\n          format: \"\",\n          document_type: \"Soat\"\n        }, {\n          id: 27,\n          url: \"assets/imgs/img-default.jpg\",\n          format: \"\",\n          document_type: \"Tecnomecanica\"\n        }, {\n          id: 28,\n          url: \"assets/imgs/img-default.jpg\",\n          format: \"\",\n          document_type: \"Foto del vehiculo frontal\"\n        }, {\n          id: 29,\n          url: \"assets/imgs/img-default.jpg\",\n          format: \"\",\n          document_type: \"Foto del vehiculo trasera\"\n        }];\n\n        if (this.network.getNetworkStatus().connected) {\n          const loader = yield this.loadingController.create({\n            message: \"Por favor espere...\"\n          });\n          yield loader.present();\n          this.request.get(`driver/documents/${this.auth.user.id}`).subscribe(res => __awaiter(this, void 0, void 0, function* () {\n            const documents = res.data.documents;\n            console.log(\"Documents\", documents);\n            this.currentDocuments = documents;\n            localStorage.setItem(\"currentDocuments\", JSON.stringify(this.currentDocuments));\n            this.imgs = this.imgs.map(img => {\n              const id = documents.filter(d => {\n                return d[\"document_type_id \"] == img.id;\n              });\n              const other = documents.filter(d => {\n                return d[\"document_type_id \"] == 32 || d[\"document_type_id \"] == 33;\n              });\n              this.others = other;\n\n              if (id.length > 0) {\n                console.log(\"Id\", id);\n                const photo = id[id.length - 1].url;\n                const document_id = id[id.length - 1].document_id;\n                return Object.assign(Object.assign({}, img), {\n                  url: photo,\n                  document_id\n                });\n              }\n\n              return img;\n            });\n            (yield loader).dismiss();\n          }), err => __awaiter(this, void 0, void 0, function* () {\n            (yield loader).dismiss();\n          }));\n          this.request.get(`driver/documents_verified/${this.auth.user.id}`).subscribe(res => {\n            this.documents_verified = true;\n          }, err => {\n            this.documents_verified = false;\n          });\n        } else {\n          this.ui.showToast(\"Verifique su conexión\");\n        }\n      });\n    }\n\n    back() {\n      this.router.navigate(['/tabs/profile']);\n    }\n\n    getDocumentsAlreadyFullFill() {\n      const res = Math.abs(Number(this.auth.vehicles.year) - new Date().getFullYear());\n\n      if (res <= 2) {\n        const images = this.imgs.filter(i => i.id != 27);\n        return images.filter(i => i.url == \"assets/imgs/img-default.jpg\").length;\n      }\n\n      return this.imgs.filter(i => i.url == \"assets/imgs/img-default.jpg\").length;\n    }\n\n    takePhoto(item) {\n      return __awaiter(this, void 0, void 0, function* () {\n        try {\n          if (this.network.getNetworkStatus().connected) {\n            yield yield this.photo.selectImageSource();\n            this.subscription = this.photo.imageSubject.subscribe(image => __awaiter(this, void 0, void 0, function* () {\n              if (Object.keys(image).length > 0) {\n                const loading = yield this.ui.loading(\"Por favor espere...\");\n                console.log(\"Item\", item);\n                const current_photo = item.url == \"assets/imgs/img-default.jpg\";\n                const current_photo_url = item.url;\n                item.url = image.dataUrl;\n                item.format = image.format;\n                item.loading = \"yes\";\n                const url = !current_photo ? `driver/update_documents/${item.document_id}` : `driver/documents/${this.auth.user.id}/${item.id}`;\n                const dat = new Date().getTime();\n                const name_file1 = `${dat}_${this.auth.user.id}.${item.format}`;\n                const blob_image = this.photo.dataUrlToBlob(item.url);\n                const image_to_upload = this.photo.getFileImage(item.url, name_file1, item.format);\n                let data = new FormData();\n\n                if (image_to_upload instanceof File) {\n                  console.log(\"Image\", JSON.stringify(image_to_upload));\n                  data.append('photo', blob_image);\n                  console.log(\" Form Data\", data);\n                  this.request.post(url, data, false, {\n                    enctype: 'multipart/form-data'\n                  }).subscribe(res => __awaiter(this, void 0, void 0, function* () {\n                    (yield loading).dismiss();\n                    this.subscription.unsubscribe();\n                    console.log(\"Res\", res);\n                    item.loading = undefined;\n                    console.log(\"Este es el res\", res);\n\n                    if (!item.document_id) {\n                      item.document_id = res.data.id;\n                    }\n\n                    if (!this.currentDocuments.find(d => d.id == item.id)) {\n                      this.currentDocuments.push(item);\n                      localStorage.setItem(\"currentDocuments\", JSON.stringify(this.currentDocuments));\n                    }\n\n                    if (this.getDocumentsComplete()) {\n                      const documents_profile = this.currentDocuments.find(d => d[\"document_type_id \"] == 21);\n\n                      if (documents_profile) {\n                        if (!this.documents_verified) {\n                          this.realtime.getStatus().update({\n                            verified: this.auth.user.verified,\n                            documents: 1\n                          });\n                          this.ui.presentAlert({\n                            mode: 'ios',\n                            header: \"Ha completado su registro exitosamente\",\n                            buttons: [{\n                              text: 'Aceptar',\n                              cssClass: 'secondary',\n                              handler: () => {\n                                this.router.navigate(['/tabs/home']);\n                                console.log('cerrar');\n                              }\n                            }]\n                          });\n                        }\n                      } else {\n                        this.ui.presentAlert({\n                          mode: 'ios',\n                          header: \"Ha completado los registros del vehiculo, falta la foto de perfil\",\n                          buttons: [{\n                            text: 'Aceptar',\n                            cssClass: 'secondary',\n                            handler: () => {\n                              this.router.navigate(['/tabs/profile']);\n                              console.log('cerrar');\n                            }\n                          }]\n                        });\n                      }\n                    }\n                  }), err => __awaiter(this, void 0, void 0, function* () {\n                    (yield loading).dismiss();\n                    this.subscription.unsubscribe();\n                    item.loading = undefined;\n                    item.url = current_photo_url;\n                    console.log(\"Error\", err); // this.ui.showToast(\"Archivo\" + (image_to_upload && image_to_upload != null) ? image_to_upload.name : 'No existe')\n\n                    try {\n                      if (err.status == 400) {\n                        let message = err.error ? err.error.messages ? err.error.messages : 'Hubo un error y no hay message' : \"Bad Request\";\n                        message + \"<br> \" + JSON.stringify(err);\n                        this.ui.presentAlert({\n                          mode: 'ios',\n                          header: \"Hubo un error\",\n                          message,\n                          buttons: [{\n                            text: 'Aceptar',\n                            cssClass: 'secondary',\n                            handler: () => {}\n                          }]\n                        });\n                        return;\n                      }\n\n                      if (err.status == 500) {\n                        this.ui.presentAlert({\n                          mode: 'ios',\n                          header: \"Hubo un error\",\n                          message: \"En el servidor\",\n                          buttons: [{\n                            text: 'Aceptar',\n                            cssClass: 'secondary',\n                            handler: () => {}\n                          }]\n                        });\n                        return;\n                      }\n\n                      this.ui.presentAlert({\n                        mode: 'ios',\n                        header: \"Hubo un error no es el error\",\n                        message: JSON.stringify(err),\n                        buttons: [{\n                          text: 'Aceptar',\n                          cssClass: 'secondary',\n                          handler: () => {}\n                        }]\n                      });\n                    } catch (e) {\n                      this.ui.presentAlert({\n                        mode: 'ios',\n                        header: \"Hubo un error de código\",\n                        message: e,\n                        buttons: [{\n                          text: 'Aceptar',\n                          cssClass: 'secondary',\n                          handler: () => {}\n                        }]\n                      });\n                    }\n                  }));\n                } else {\n                  this.ui.showToast(\"Debe ser un archivo\");\n                }\n              }\n            }));\n          } else {\n            this.ui.showToast(\"Verifique su conexión\");\n          }\n        } catch (err) {\n          console.log(\"Error\", err);\n        }\n      });\n    }\n\n    getOtherSuccesfull() {\n      return this.others.length == 2;\n    }\n\n    updateImage(item) {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (this.network.getNetworkStatus().connected) {\n          const modal = yield this.ui.presentModal(OtherDocumentsPage, {\n            img: item,\n            others: this.others\n          });\n          const m = yield modal.onDidDismiss();\n          this.ionViewWillEnter();\n        } else {\n          this.ui.showToast(\"Verifique su conexión\");\n        }\n      });\n    }\n\n    getFile() {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (this.network.getNetworkStatus().connected) {\n          const modal = yield this.ui.presentModal(OtherDocumentsPage, {\n            documents: this.imgs,\n            others: this.others\n          });\n          const m = yield modal.onDidDismiss();\n          this.ionViewWillEnter();\n        } else {\n          this.ui.showToast(\"Verifique su conexión\");\n        }\n      });\n    }\n\n  }\n\n  DocumentsPage.ɵfac = function DocumentsPage_Factory(t) {\n    return new (t || DocumentsPage)(i0.ɵɵdirectiveInject(i1.PhotoService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.RequestService), i0.ɵɵdirectiveInject(i4.UiService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i6.LoadingController), i0.ɵɵdirectiveInject(i7.RealtimeService), i0.ɵɵdirectiveInject(i8.NetworkStatusService));\n  };\n\n  DocumentsPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DocumentsPage,\n    selectors: [[\"app-documents\"]],\n    decls: 51,\n    vars: 11,\n    consts: [[\"color\", \"warning\"], [\"fill\", \"clear\", 2, \"position\", \"absolute\", \"left\", \"0px\", \"padding\", \"10px\", 3, \"click\"], [\"name\", \"arrow-back-outline\", \"slot\", \"icon-only\"], [2, \"position\", \"relative\"], [1, \"ion-text-center\", \"margin-top-15vh\", \"ion-padding-bottom\", 2, \"width\", \"60%\", \"margin\", \"auto\", \"position\", \"absolute\", \"left\", \"0\", \"right\", \"0\"], [\"src\", \"assets/imgs/logo-morado.png\", \"width\", \"100\"], [2, \"margin-top\", \"50px\"], [4, \"ngIf\"], [1, \"div_category\"], [1, \"ion-text-uppercase\", \"ion-text-justify\"], [\"size\", \"6\", 4, \"ngFor\", \"ngForOf\"], [\"size\", \"12\"], [\"alt\", \"\", \"srcset\", \"\", 2, \"width\", \"100%\", \"height\", \"150px\", \"text-align\", \"center\", \"margin\", \"auto\", 3, \"src\", \"click\"], [\"type\", \"indeterminate\", 4, \"ngIf\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseTemp\", \"\"], [1, \"ion-text-center\"], [1, \"black-color-text\"], [\"color\", \"primary\"], [\"size\", \"6\"], [\"alt\", \"\", \"srcset\", \"\", 2, \"width\", \"150px\", \"height\", \"150px\", \"text-align\", \"center\", \"margin\", \"auto\", 3, \"src\", \"click\"], [\"type\", \"indeterminate\"], [3, \"size\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"fill\", \"outline\", \"color\", \"primary\", \"expand\", \"block\", \"mode\", \"ios\", \"class\", \"grey-color\", 3, \"click\", 4, \"ngIf\"], [3, \"size\", \"click\"], [2, \"width\", \"100%\", \"height\", \"100px\", 3, \"src\"], [\"fill\", \"outline\", \"color\", \"primary\", \"expand\", \"block\", \"mode\", \"ios\", 1, \"grey-color\", 3, \"click\"], [\"name\", \"add-circle-outline\", \"slot\", \"icon-only\", 2, \"font-size\", \"3m\"]],\n    template: function DocumentsPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"ion-button\", 1);\n        i0.ɵɵlistener(\"click\", function DocumentsPage_Template_ion_button_click_1_listener() {\n          return ctx.back();\n        });\n        i0.ɵɵelement(2, \"ion-icon\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4);\n        i0.ɵɵelement(5, \"img\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"ion-card\", 6);\n        i0.ɵɵtemplate(7, DocumentsPage_ion_card_header_7_Template, 10, 1, \"ion-card-header\", 7);\n        i0.ɵɵelementStart(8, \"ion-card-content\")(9, \"ion-grid\")(10, \"ion-row\")(11, \"div\", 8)(12, \"ion-label\", 9);\n        i0.ɵɵtext(13, \"C\\u00E9dula\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(14, DocumentsPage_ion_col_14_Template, 5, 3, \"ion-col\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"ion-row\")(16, \"div\", 8)(17, \"ion-label\", 9);\n        i0.ɵɵtext(18, \"Tarjeta de propiedad\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(19, DocumentsPage_ion_col_19_Template, 5, 3, \"ion-col\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"ion-row\")(21, \"div\", 8)(22, \"ion-label\", 9);\n        i0.ɵɵtext(23, \"Licencia de conducci\\u00F3n\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(24, DocumentsPage_ion_col_24_Template, 5, 3, \"ion-col\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"ion-row\")(26, \"div\", 8)(27, \"ion-label\", 9);\n        i0.ɵɵtext(28, \"Fotos del veh\\u00EDculo\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(29, DocumentsPage_ion_col_29_Template, 5, 3, \"ion-col\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"ion-row\")(31, \"div\", 8)(32, \"ion-label\", 9);\n        i0.ɵɵtext(33, \"SOAT\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"ion-col\", 11)(35, \"img\", 12);\n        i0.ɵɵlistener(\"click\", function DocumentsPage_Template_img_click_35_listener() {\n          return ctx.takePhoto(ctx.imgs[6]);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(36, DocumentsPage_ion_progress_bar_36_Template, 1, 0, \"ion-progress-bar\", 13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(37, \"ion-row\")(38, \"div\", 8)(39, \"ion-label\", 9);\n        i0.ɵɵtext(40, \"Tecnomec\\u00E1nica\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(41, \"ion-col\", 11)(42, \"img\", 12);\n        i0.ɵɵlistener(\"click\", function DocumentsPage_Template_img_click_42_listener() {\n          return ctx.takePhoto(ctx.imgs[7]);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(43, DocumentsPage_ion_progress_bar_43_Template, 1, 0, \"ion-progress-bar\", 13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(44, \"ion-row\")(45, \"div\", 8)(46, \"ion-label\", 9);\n        i0.ɵɵtext(47, \"Otros\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(48, DocumentsPage_ng_container_48_Template, 4, 2, \"ng-container\", 14);\n        i0.ɵɵtemplate(49, DocumentsPage_ng_template_49_Template, 3, 0, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        const _r8 = i0.ɵɵreference(50);\n\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngIf\", !ctx.getDocumentsComplete());\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filter(ctx.imgs, 0, 1));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filter(ctx.imgs, 2, 3));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filter(ctx.imgs, 4, 5));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filter(ctx.imgs, 8, 9));\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"src\", ctx.imgs[6].url, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.imgs[6].loading);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"src\", ctx.imgs[7].url, i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.imgs[7].loading);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.others.length > 0)(\"ngIfElse\", _r8);\n      }\n    },\n    dependencies: [i9.NgForOf, i9.NgIf, i6.IonBadge, i6.IonButton, i6.IonCard, i6.IonCardContent, i6.IonCardHeader, i6.IonCardSubtitle, i6.IonCol, i6.IonContent, i6.IonGrid, i6.IonIcon, i6.IonImg, i6.IonLabel, i6.IonProgressBar, i6.IonRow]\n  });\n  return DocumentsPage;\n})();","map":null,"metadata":{},"sourceType":"module"}